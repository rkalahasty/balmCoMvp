{"ast":null,"code":"\"use strict\";\n\nconst {\n  fireAnEvent\n} = require(\"../helpers/events\");\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nclass HTMLDetailsElementImpl extends HTMLElementImpl {\n  constructor(globalObject, args, privateData) {\n    super(globalObject, args, privateData);\n    this._taskQueue = null;\n  }\n\n  _dispatchToggleEvent() {\n    this._taskQueue = null;\n    fireAnEvent(\"toggle\", this);\n  }\n\n  _attrModified(name, value, oldValue) {\n    super._attrModified(name, value, oldValue);\n\n    if (name === \"open\" && this._taskQueue === null) {\n      // Check that the attribute is added or removed, not merely changed\n      if (value !== oldValue && value !== null && oldValue === null || value === null && oldValue !== null) {\n        this._taskQueue = setTimeout(this._dispatchToggleEvent.bind(this), 0);\n      }\n    }\n  }\n\n}\n\nmodule.exports = {\n  implementation: HTMLDetailsElementImpl\n};","map":{"version":3,"names":["fireAnEvent","require","HTMLElementImpl","implementation","HTMLDetailsElementImpl","constructor","globalObject","args","privateData","_taskQueue","_dispatchToggleEvent","_attrModified","name","value","oldValue","setTimeout","bind","module","exports"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/nodes/HTMLDetailsElement-impl.js"],"sourcesContent":["\"use strict\";\n\nconst { fireAnEvent } = require(\"../helpers/events\");\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nclass HTMLDetailsElementImpl extends HTMLElementImpl {\n  constructor(globalObject, args, privateData) {\n    super(globalObject, args, privateData);\n\n    this._taskQueue = null;\n  }\n\n  _dispatchToggleEvent() {\n    this._taskQueue = null;\n\n    fireAnEvent(\"toggle\", this);\n  }\n\n  _attrModified(name, value, oldValue) {\n    super._attrModified(name, value, oldValue);\n\n    if (name === \"open\" && this._taskQueue === null) {\n      // Check that the attribute is added or removed, not merely changed\n      if ((value !== oldValue && value !== null && oldValue === null) ||\n          (value === null && oldValue !== null)) {\n        this._taskQueue = setTimeout(this._dispatchToggleEvent.bind(this), 0);\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  implementation: HTMLDetailsElementImpl\n};\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA;AAAF,IAAkBC,OAAO,CAAC,mBAAD,CAA/B;;AAEA,MAAMC,eAAe,GAAGD,OAAO,CAAC,oBAAD,CAAP,CAA8BE,cAAtD;;AAEA,MAAMC,sBAAN,SAAqCF,eAArC,CAAqD;EACnDG,WAAW,CAACC,YAAD,EAAeC,IAAf,EAAqBC,WAArB,EAAkC;IAC3C,MAAMF,YAAN,EAAoBC,IAApB,EAA0BC,WAA1B;IAEA,KAAKC,UAAL,GAAkB,IAAlB;EACD;;EAEDC,oBAAoB,GAAG;IACrB,KAAKD,UAAL,GAAkB,IAAlB;IAEAT,WAAW,CAAC,QAAD,EAAW,IAAX,CAAX;EACD;;EAEDW,aAAa,CAACC,IAAD,EAAOC,KAAP,EAAcC,QAAd,EAAwB;IACnC,MAAMH,aAAN,CAAoBC,IAApB,EAA0BC,KAA1B,EAAiCC,QAAjC;;IAEA,IAAIF,IAAI,KAAK,MAAT,IAAmB,KAAKH,UAAL,KAAoB,IAA3C,EAAiD;MAC/C;MACA,IAAKI,KAAK,KAAKC,QAAV,IAAsBD,KAAK,KAAK,IAAhC,IAAwCC,QAAQ,KAAK,IAAtD,IACCD,KAAK,KAAK,IAAV,IAAkBC,QAAQ,KAAK,IADpC,EAC2C;QACzC,KAAKL,UAAL,GAAkBM,UAAU,CAAC,KAAKL,oBAAL,CAA0BM,IAA1B,CAA+B,IAA/B,CAAD,EAAuC,CAAvC,CAA5B;MACD;IACF;EACF;;AAvBkD;;AA0BrDC,MAAM,CAACC,OAAP,GAAiB;EACff,cAAc,EAAEC;AADD,CAAjB"},"metadata":{},"sourceType":"script"}