{"ast":null,"code":"\"use strict\";\n\nconst {\n  isValidFloatingPointNumber,\n  isValidSimpleColor,\n  parseFloatingPointNumber,\n  stripLeadingAndTrailingASCIIWhitespace,\n  stripNewlines,\n  splitOnCommas\n} = require(\"./strings\");\n\nconst {\n  isValidDateString,\n  isValidMonthString,\n  isValidTimeString,\n  isValidWeekString,\n  parseLocalDateAndTimeString,\n  serializeNormalizedDateAndTime\n} = require(\"./dates-and-times\");\n\nconst whatwgURL = require(\"whatwg-url\");\n\nconst NodeList = require(\"../generated/NodeList\");\n\nconst {\n  domSymbolTree\n} = require(\"./internal-constants\");\n\nconst {\n  closest,\n  firstChildWithLocalName\n} = require(\"./traversal\");\n\nconst NODE_TYPE = require(\"../node-type\");\n\nconst {\n  HTML_NS\n} = require(\"./namespaces\"); // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-fe-disabled\n\n\nexports.isDisabled = formControl => {\n  if (formControl.localName === \"button\" || formControl.localName === \"input\" || formControl.localName === \"select\" || formControl.localName === \"textarea\") {\n    if (formControl.hasAttributeNS(null, \"disabled\")) {\n      return true;\n    }\n  }\n\n  let e = formControl.parentNode;\n\n  while (e) {\n    if (e.localName === \"fieldset\" && e.hasAttributeNS(null, \"disabled\")) {\n      const firstLegendElementChild = firstChildWithLocalName(e, \"legend\");\n\n      if (!firstLegendElementChild || !firstLegendElementChild.contains(formControl)) {\n        return true;\n      }\n    }\n\n    e = e.parentNode;\n  }\n\n  return false;\n}; // https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\n\nconst listedElements = new Set([\"button\", \"fieldset\", \"input\", \"object\", \"output\", \"select\", \"textarea\"]);\n\nexports.isListed = formControl => listedElements.has(formControl._localName) && formControl.namespaceURI === HTML_NS; // https://html.spec.whatwg.org/multipage/forms.html#category-submit\n\n\nconst submittableElements = new Set([\"button\", \"input\", \"object\", \"select\", \"textarea\"]);\n\nexports.isSubmittable = formControl => {\n  return submittableElements.has(formControl._localName) && formControl.namespaceURI === HTML_NS;\n}; // https://html.spec.whatwg.org/multipage/forms.html#concept-submit-button\n\n\nconst submitButtonInputTypes = new Set([\"submit\", \"image\"]);\n\nexports.isSubmitButton = formControl => {\n  return (formControl._localName === \"input\" && submitButtonInputTypes.has(formControl.type) || formControl._localName === \"button\" && formControl.type === \"submit\") && formControl.namespaceURI === HTML_NS;\n}; // https://html.spec.whatwg.org/multipage/forms.html#concept-button\n\n\nconst buttonInputTypes = new Set([...submitButtonInputTypes, \"reset\", \"button\"]);\n\nexports.isButton = formControl => {\n  return (formControl._localName === \"input\" && buttonInputTypes.has(formControl.type) || formControl._localName === \"button\") && formControl.namespaceURI === HTML_NS;\n}; // https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2\n\n\nexports.isInteractiveContent = node => {\n  if (node.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n    return false;\n  }\n\n  if (node.namespaceURI !== HTML_NS) {\n    return false;\n  }\n\n  if (node.hasAttributeNS(null, \"tabindex\")) {\n    return true;\n  }\n\n  switch (node.localName) {\n    case \"a\":\n      return node.hasAttributeNS(null, \"href\");\n\n    case \"audio\":\n    case \"video\":\n      return node.hasAttributeNS(null, \"controls\");\n\n    case \"img\":\n    case \"object\":\n      return node.hasAttributeNS(null, \"usemap\");\n\n    case \"input\":\n      return node.type !== \"hidden\";\n\n    case \"button\":\n    case \"details\":\n    case \"embed\":\n    case \"iframe\":\n    case \"label\":\n    case \"select\":\n    case \"textarea\":\n      return true;\n  }\n\n  return false;\n}; // https://html.spec.whatwg.org/multipage/forms.html#category-label\n\n\nexports.isLabelable = node => {\n  if (node.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n    return false;\n  }\n\n  if (node.namespaceURI !== HTML_NS) {\n    return false;\n  }\n\n  switch (node.localName) {\n    case \"button\":\n    case \"meter\":\n    case \"output\":\n    case \"progress\":\n    case \"select\":\n    case \"textarea\":\n      return true;\n\n    case \"input\":\n      return node.type !== \"hidden\";\n  }\n\n  return false;\n};\n\nexports.getLabelsForLabelable = labelable => {\n  if (!exports.isLabelable(labelable)) {\n    return null;\n  }\n\n  if (!labelable._labels) {\n    const root = labelable.getRootNode({});\n    labelable._labels = NodeList.create(root._globalObject, [], {\n      element: root,\n      query: () => {\n        const nodes = [];\n\n        for (const descendant of domSymbolTree.treeIterator(root)) {\n          if (descendant.control === labelable) {\n            nodes.push(descendant);\n          }\n        }\n\n        return nodes;\n      }\n    });\n  }\n\n  return labelable._labels;\n}; // https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\n\nexports.isValidEmailAddress = function (emailAddress) {\n  let multiple = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const emailAddressRegExp = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+\\\\/=?^_`{|}~-]+@[a-zA-Z0-9]\" + \"(?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}\" + \"[a-zA-Z0-9])?)*$\"); // A valid e-mail address list is a set of comma-separated tokens, where each token is itself\n  // a valid e - mail address.To obtain the list of tokens from a valid e - mail address list,\n  // an implementation must split the string on commas.\n\n  if (multiple) {\n    return splitOnCommas(emailAddress).every(value => emailAddressRegExp.test(value));\n  }\n\n  return emailAddressRegExp.test(emailAddress);\n};\n\nexports.isValidAbsoluteURL = url => {\n  return whatwgURL.parseURL(url) !== null;\n};\n\nexports.sanitizeValueByType = (input, val) => {\n  switch (input.type.toLowerCase()) {\n    case \"password\":\n    case \"search\":\n    case \"tel\":\n    case \"text\":\n      val = stripNewlines(val);\n      break;\n\n    case \"color\":\n      // https://html.spec.whatwg.org/multipage/forms.html#color-state-(type=color):value-sanitization-algorithm\n      val = isValidSimpleColor(val) ? val.toLowerCase() : \"#000000\";\n      break;\n\n    case \"date\":\n      // https://html.spec.whatwg.org/multipage/input.html#date-state-(type=date):value-sanitization-algorithm\n      if (!isValidDateString(val)) {\n        val = \"\";\n      }\n\n      break;\n\n    case \"datetime-local\":\n      {\n        // https://html.spec.whatwg.org/multipage/input.html#local-date-and-time-state-(type=datetime-local):value-sanitization-algorithm\n        const dateAndTime = parseLocalDateAndTimeString(val);\n        val = dateAndTime !== null ? serializeNormalizedDateAndTime(dateAndTime) : \"\";\n        break;\n      }\n\n    case \"email\":\n      // https://html.spec.whatwg.org/multipage/forms.html#e-mail-state-(type=email):value-sanitization-algorithm\n      // https://html.spec.whatwg.org/multipage/forms.html#e-mail-state-(type=email):value-sanitization-algorithm-2\n      if (input.hasAttributeNS(null, \"multiple\")) {\n        val = val.split(\",\").map(token => stripLeadingAndTrailingASCIIWhitespace(token)).join(\",\");\n      } else {\n        val = stripNewlines(val);\n        val = stripLeadingAndTrailingASCIIWhitespace(val);\n      }\n\n      break;\n\n    case \"month\":\n      // https://html.spec.whatwg.org/multipage/input.html#month-state-(type=month):value-sanitization-algorithm\n      if (!isValidMonthString(val)) {\n        val = \"\";\n      }\n\n      break;\n\n    case \"number\":\n      // https://html.spec.whatwg.org/multipage/input.html#number-state-(type=number):value-sanitization-algorithm\n      // TODO: using parseFloatingPointNumber in addition to isValidFloatingPointNumber to pass number.html WPT.\n      // Possible spec bug.\n      if (!isValidFloatingPointNumber(val) || parseFloatingPointNumber(val) === null) {\n        val = \"\";\n      }\n\n      break;\n\n    case \"range\":\n      // https://html.spec.whatwg.org/multipage/input.html#range-state-(type=range):value-sanitization-algorithm\n      // TODO: using parseFloatingPointNumber in addition to isValidFloatingPointNumber to pass number.html WPT.\n      // Possible spec bug.\n      if (!isValidFloatingPointNumber(val) || parseFloatingPointNumber(val) === null) {\n        const minimum = input._minimum;\n        const maximum = input._maximum;\n        const defaultValue = maximum < minimum ? minimum : (minimum + maximum) / 2;\n        val = `${defaultValue}`;\n      } else if (val < input._minimum) {\n        val = `${input._minimum}`;\n      } else if (val > input._maximum) {\n        val = `${input._maximum}`;\n      }\n\n      break;\n\n    case \"time\":\n      // https://html.spec.whatwg.org/multipage/input.html#time-state-(type=time):value-sanitization-algorithm\n      if (!isValidTimeString(val)) {\n        val = \"\";\n      }\n\n      break;\n\n    case \"url\":\n      // https://html.spec.whatwg.org/multipage/forms.html#url-state-(type=url):value-sanitization-algorithm\n      val = stripNewlines(val);\n      val = stripLeadingAndTrailingASCIIWhitespace(val);\n      break;\n\n    case \"week\":\n      // https://html.spec.whatwg.org/multipage/input.html#week-state-(type=week):value-sanitization-algorithm\n      if (!isValidWeekString(val)) {\n        val = \"\";\n      }\n\n  }\n\n  return val;\n}; // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#form-owner\n// TODO: The spec describes an imperative process for assigning/resetting an element's form\n// owner based on activities involving form-associated elements. This simpler implementation\n// instead calculates the current form owner only when the property is accessed. This is not\n// sufficient to pass all the web platform tests, but is good enough for most purposes. We\n// should eventually update it to use the correct version, though. See\n// https://github.com/whatwg/html/issues/4050 for some discussion.\n\n\nexports.formOwner = formControl => {\n  const formAttr = formControl.getAttributeNS(null, \"form\");\n\n  if (formAttr === \"\") {\n    return null;\n  }\n\n  if (formAttr === null) {\n    return closest(formControl, \"form\");\n  }\n\n  const root = formControl.getRootNode({});\n  let firstElementWithId;\n\n  for (const descendant of domSymbolTree.treeIterator(root)) {\n    if (descendant.nodeType === NODE_TYPE.ELEMENT_NODE && descendant.getAttributeNS(null, \"id\") === formAttr) {\n      firstElementWithId = descendant;\n      break;\n    }\n  }\n\n  if (firstElementWithId && firstElementWithId.namespaceURI === HTML_NS && firstElementWithId.localName === \"form\") {\n    return firstElementWithId;\n  }\n\n  return null;\n};","map":{"version":3,"names":["isValidFloatingPointNumber","isValidSimpleColor","parseFloatingPointNumber","stripLeadingAndTrailingASCIIWhitespace","stripNewlines","splitOnCommas","require","isValidDateString","isValidMonthString","isValidTimeString","isValidWeekString","parseLocalDateAndTimeString","serializeNormalizedDateAndTime","whatwgURL","NodeList","domSymbolTree","closest","firstChildWithLocalName","NODE_TYPE","HTML_NS","exports","isDisabled","formControl","localName","hasAttributeNS","e","parentNode","firstLegendElementChild","contains","listedElements","Set","isListed","has","_localName","namespaceURI","submittableElements","isSubmittable","submitButtonInputTypes","isSubmitButton","type","buttonInputTypes","isButton","isInteractiveContent","node","nodeType","ELEMENT_NODE","isLabelable","getLabelsForLabelable","labelable","_labels","root","getRootNode","create","_globalObject","element","query","nodes","descendant","treeIterator","control","push","isValidEmailAddress","emailAddress","multiple","emailAddressRegExp","RegExp","every","value","test","isValidAbsoluteURL","url","parseURL","sanitizeValueByType","input","val","toLowerCase","dateAndTime","split","map","token","join","minimum","_minimum","maximum","_maximum","defaultValue","formOwner","formAttr","getAttributeNS","firstElementWithId"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/helpers/form-controls.js"],"sourcesContent":["\"use strict\";\n\nconst {\n  isValidFloatingPointNumber,\n  isValidSimpleColor,\n  parseFloatingPointNumber,\n  stripLeadingAndTrailingASCIIWhitespace,\n  stripNewlines,\n  splitOnCommas\n} = require(\"./strings\");\nconst {\n  isValidDateString,\n  isValidMonthString,\n  isValidTimeString,\n  isValidWeekString,\n  parseLocalDateAndTimeString,\n  serializeNormalizedDateAndTime\n} = require(\"./dates-and-times\");\nconst whatwgURL = require(\"whatwg-url\");\n\nconst NodeList = require(\"../generated/NodeList\");\nconst { domSymbolTree } = require(\"./internal-constants\");\nconst { closest, firstChildWithLocalName } = require(\"./traversal\");\nconst NODE_TYPE = require(\"../node-type\");\nconst { HTML_NS } = require(\"./namespaces\");\n\n// https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-fe-disabled\nexports.isDisabled = formControl => {\n  if (formControl.localName === \"button\" || formControl.localName === \"input\" || formControl.localName === \"select\" ||\n      formControl.localName === \"textarea\") {\n    if (formControl.hasAttributeNS(null, \"disabled\")) {\n      return true;\n    }\n  }\n\n  let e = formControl.parentNode;\n  while (e) {\n    if (e.localName === \"fieldset\" && e.hasAttributeNS(null, \"disabled\")) {\n      const firstLegendElementChild = firstChildWithLocalName(e, \"legend\");\n      if (!firstLegendElementChild || !firstLegendElementChild.contains(formControl)) {\n        return true;\n      }\n    }\n    e = e.parentNode;\n  }\n\n  return false;\n};\n\n// https://html.spec.whatwg.org/multipage/forms.html#category-listed\nconst listedElements = new Set([\"button\", \"fieldset\", \"input\", \"object\", \"output\", \"select\", \"textarea\"]);\nexports.isListed = formControl => listedElements.has(formControl._localName) && formControl.namespaceURI === HTML_NS;\n\n// https://html.spec.whatwg.org/multipage/forms.html#category-submit\nconst submittableElements = new Set([\"button\", \"input\", \"object\", \"select\", \"textarea\"]);\nexports.isSubmittable = formControl => {\n  return submittableElements.has(formControl._localName) && formControl.namespaceURI === HTML_NS;\n};\n\n// https://html.spec.whatwg.org/multipage/forms.html#concept-submit-button\nconst submitButtonInputTypes = new Set([\"submit\", \"image\"]);\nexports.isSubmitButton = formControl => {\n  return ((formControl._localName === \"input\" && submitButtonInputTypes.has(formControl.type)) ||\n          (formControl._localName === \"button\" && formControl.type === \"submit\")) &&\n         formControl.namespaceURI === HTML_NS;\n};\n\n// https://html.spec.whatwg.org/multipage/forms.html#concept-button\nconst buttonInputTypes = new Set([...submitButtonInputTypes, \"reset\", \"button\"]);\nexports.isButton = formControl => {\n  return ((formControl._localName === \"input\" && buttonInputTypes.has(formControl.type)) ||\n          formControl._localName === \"button\") &&\n         formControl.namespaceURI === HTML_NS;\n};\n\n// https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2\nexports.isInteractiveContent = node => {\n  if (node.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n    return false;\n  }\n  if (node.namespaceURI !== HTML_NS) {\n    return false;\n  }\n  if (node.hasAttributeNS(null, \"tabindex\")) {\n    return true;\n  }\n  switch (node.localName) {\n    case \"a\":\n      return node.hasAttributeNS(null, \"href\");\n\n    case \"audio\":\n    case \"video\":\n      return node.hasAttributeNS(null, \"controls\");\n\n    case \"img\":\n    case \"object\":\n      return node.hasAttributeNS(null, \"usemap\");\n\n    case \"input\":\n      return node.type !== \"hidden\";\n\n    case \"button\":\n    case \"details\":\n    case \"embed\":\n    case \"iframe\":\n    case \"label\":\n    case \"select\":\n    case \"textarea\":\n      return true;\n  }\n\n  return false;\n};\n\n// https://html.spec.whatwg.org/multipage/forms.html#category-label\nexports.isLabelable = node => {\n  if (node.nodeType !== NODE_TYPE.ELEMENT_NODE) {\n    return false;\n  }\n  if (node.namespaceURI !== HTML_NS) {\n    return false;\n  }\n  switch (node.localName) {\n    case \"button\":\n    case \"meter\":\n    case \"output\":\n    case \"progress\":\n    case \"select\":\n    case \"textarea\":\n      return true;\n\n    case \"input\":\n      return node.type !== \"hidden\";\n  }\n\n  return false;\n};\n\nexports.getLabelsForLabelable = labelable => {\n  if (!exports.isLabelable(labelable)) {\n    return null;\n  }\n  if (!labelable._labels) {\n    const root = labelable.getRootNode({});\n    labelable._labels = NodeList.create(root._globalObject, [], {\n      element: root,\n      query: () => {\n        const nodes = [];\n        for (const descendant of domSymbolTree.treeIterator(root)) {\n          if (descendant.control === labelable) {\n            nodes.push(descendant);\n          }\n        }\n        return nodes;\n      }\n    });\n  }\n  return labelable._labels;\n};\n\n// https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\nexports.isValidEmailAddress = (emailAddress, multiple = false) => {\n  const emailAddressRegExp = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+\\\\/=?^_`{|}~-]+@[a-zA-Z0-9]\" +\n    \"(?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}\" +\n    \"[a-zA-Z0-9])?)*$\");\n  // A valid e-mail address list is a set of comma-separated tokens, where each token is itself\n  // a valid e - mail address.To obtain the list of tokens from a valid e - mail address list,\n  // an implementation must split the string on commas.\n  if (multiple) {\n    return splitOnCommas(emailAddress).every(value => emailAddressRegExp.test(value));\n  }\n  return emailAddressRegExp.test(emailAddress);\n};\n\nexports.isValidAbsoluteURL = url => {\n  return whatwgURL.parseURL(url) !== null;\n};\n\nexports.sanitizeValueByType = (input, val) => {\n  switch (input.type.toLowerCase()) {\n    case \"password\":\n    case \"search\":\n    case \"tel\":\n    case \"text\":\n      val = stripNewlines(val);\n      break;\n\n    case \"color\":\n      // https://html.spec.whatwg.org/multipage/forms.html#color-state-(type=color):value-sanitization-algorithm\n      val = isValidSimpleColor(val) ? val.toLowerCase() : \"#000000\";\n      break;\n\n    case \"date\":\n      // https://html.spec.whatwg.org/multipage/input.html#date-state-(type=date):value-sanitization-algorithm\n      if (!isValidDateString(val)) {\n        val = \"\";\n      }\n      break;\n\n    case \"datetime-local\": {\n      // https://html.spec.whatwg.org/multipage/input.html#local-date-and-time-state-(type=datetime-local):value-sanitization-algorithm\n      const dateAndTime = parseLocalDateAndTimeString(val);\n      val = dateAndTime !== null ? serializeNormalizedDateAndTime(dateAndTime) : \"\";\n      break;\n    }\n\n    case \"email\":\n      // https://html.spec.whatwg.org/multipage/forms.html#e-mail-state-(type=email):value-sanitization-algorithm\n      // https://html.spec.whatwg.org/multipage/forms.html#e-mail-state-(type=email):value-sanitization-algorithm-2\n      if (input.hasAttributeNS(null, \"multiple\")) {\n        val = val.split(\",\").map(token => stripLeadingAndTrailingASCIIWhitespace(token)).join(\",\");\n      } else {\n        val = stripNewlines(val);\n        val = stripLeadingAndTrailingASCIIWhitespace(val);\n      }\n      break;\n\n    case \"month\":\n      // https://html.spec.whatwg.org/multipage/input.html#month-state-(type=month):value-sanitization-algorithm\n      if (!isValidMonthString(val)) {\n        val = \"\";\n      }\n      break;\n\n    case \"number\":\n      // https://html.spec.whatwg.org/multipage/input.html#number-state-(type=number):value-sanitization-algorithm\n      // TODO: using parseFloatingPointNumber in addition to isValidFloatingPointNumber to pass number.html WPT.\n      // Possible spec bug.\n      if (!isValidFloatingPointNumber(val) || parseFloatingPointNumber(val) === null) {\n        val = \"\";\n      }\n      break;\n\n    case \"range\":\n      // https://html.spec.whatwg.org/multipage/input.html#range-state-(type=range):value-sanitization-algorithm\n      // TODO: using parseFloatingPointNumber in addition to isValidFloatingPointNumber to pass number.html WPT.\n      // Possible spec bug.\n      if (!isValidFloatingPointNumber(val) || parseFloatingPointNumber(val) === null) {\n        const minimum = input._minimum;\n        const maximum = input._maximum;\n        const defaultValue = maximum < minimum ? minimum : (minimum + maximum) / 2;\n        val = `${defaultValue}`;\n      } else if (val < input._minimum) {\n        val = `${input._minimum}`;\n      } else if (val > input._maximum) {\n        val = `${input._maximum}`;\n      }\n      break;\n\n    case \"time\":\n      // https://html.spec.whatwg.org/multipage/input.html#time-state-(type=time):value-sanitization-algorithm\n      if (!isValidTimeString(val)) {\n        val = \"\";\n      }\n      break;\n\n    case \"url\":\n      // https://html.spec.whatwg.org/multipage/forms.html#url-state-(type=url):value-sanitization-algorithm\n      val = stripNewlines(val);\n      val = stripLeadingAndTrailingASCIIWhitespace(val);\n      break;\n\n    case \"week\":\n      // https://html.spec.whatwg.org/multipage/input.html#week-state-(type=week):value-sanitization-algorithm\n      if (!isValidWeekString(val)) {\n        val = \"\";\n      }\n  }\n\n  return val;\n};\n\n// https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#form-owner\n// TODO: The spec describes an imperative process for assigning/resetting an element's form\n// owner based on activities involving form-associated elements. This simpler implementation\n// instead calculates the current form owner only when the property is accessed. This is not\n// sufficient to pass all the web platform tests, but is good enough for most purposes. We\n// should eventually update it to use the correct version, though. See\n// https://github.com/whatwg/html/issues/4050 for some discussion.\n\nexports.formOwner = formControl => {\n  const formAttr = formControl.getAttributeNS(null, \"form\");\n  if (formAttr === \"\") {\n    return null;\n  }\n  if (formAttr === null) {\n    return closest(formControl, \"form\");\n  }\n\n  const root = formControl.getRootNode({});\n  let firstElementWithId;\n  for (const descendant of domSymbolTree.treeIterator(root)) {\n    if (descendant.nodeType === NODE_TYPE.ELEMENT_NODE &&\n      descendant.getAttributeNS(null, \"id\") === formAttr) {\n      firstElementWithId = descendant;\n      break;\n    }\n  }\n\n  if (firstElementWithId &&\n    firstElementWithId.namespaceURI === HTML_NS &&\n    firstElementWithId.localName === \"form\") {\n    return firstElementWithId;\n  }\n  return null;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}