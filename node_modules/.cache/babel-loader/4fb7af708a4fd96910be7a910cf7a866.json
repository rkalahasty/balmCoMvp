{"ast":null,"code":"\"use strict\";\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nconst Document = require(\"../generated/Document\");\n\nconst DocumentFragment = require(\"../generated/DocumentFragment\");\n\nconst {\n  cloningSteps,\n  domSymbolTree\n} = require(\"../helpers/internal-constants\");\n\nconst {\n  clone\n} = require(\"../node\");\n\nclass HTMLTemplateElementImpl extends HTMLElementImpl {\n  constructor(globalObject, args, privateData) {\n    super(globalObject, args, privateData);\n\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n\n    this._templateContents = DocumentFragment.createImpl(this._globalObject, [], {\n      ownerDocument: doc,\n      host: this\n    });\n  } // https://html.spec.whatwg.org/multipage/scripting.html#appropriate-template-contents-owner-document\n\n\n  _appropriateTemplateContentsOwnerDocument(doc) {\n    if (!doc._isInertTemplateDocument) {\n      if (doc._associatedInertTemplateDocument === undefined) {\n        const newDoc = Document.createImpl(this._globalObject, [], {\n          options: {\n            parsingMode: doc._parsingMode,\n            encoding: doc._encoding\n          }\n        });\n        newDoc._isInertTemplateDocument = true;\n        doc._associatedInertTemplateDocument = newDoc;\n      }\n\n      doc = doc._associatedInertTemplateDocument;\n    }\n\n    return doc;\n  } // https://html.spec.whatwg.org/multipage/scripting.html#template-adopting-steps\n\n\n  _adoptingSteps() {\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n\n    doc._adoptNode(this._templateContents);\n  }\n\n  get content() {\n    return this._templateContents;\n  }\n\n  [cloningSteps](copy, node, document, cloneChildren) {\n    if (!cloneChildren) {\n      return;\n    }\n\n    for (const child of domSymbolTree.childrenIterator(node._templateContents)) {\n      const childCopy = clone(child, copy._templateContents._ownerDocument, true);\n\n      copy._templateContents.appendChild(childCopy);\n    }\n  }\n\n}\n\nmodule.exports = {\n  implementation: HTMLTemplateElementImpl\n};","map":{"version":3,"names":["HTMLElementImpl","require","implementation","Document","DocumentFragment","cloningSteps","domSymbolTree","clone","HTMLTemplateElementImpl","constructor","globalObject","args","privateData","doc","_appropriateTemplateContentsOwnerDocument","_ownerDocument","_templateContents","createImpl","_globalObject","ownerDocument","host","_isInertTemplateDocument","_associatedInertTemplateDocument","undefined","newDoc","options","parsingMode","_parsingMode","encoding","_encoding","_adoptingSteps","_adoptNode","content","copy","node","document","cloneChildren","child","childrenIterator","childCopy","appendChild","module","exports"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/nodes/HTMLTemplateElement-impl.js"],"sourcesContent":["\"use strict\";\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nconst Document = require(\"../generated/Document\");\nconst DocumentFragment = require(\"../generated/DocumentFragment\");\n\nconst { cloningSteps, domSymbolTree } = require(\"../helpers/internal-constants\");\nconst { clone } = require(\"../node\");\n\nclass HTMLTemplateElementImpl extends HTMLElementImpl {\n  constructor(globalObject, args, privateData) {\n    super(globalObject, args, privateData);\n\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n    this._templateContents = DocumentFragment.createImpl(this._globalObject, [], {\n      ownerDocument: doc,\n      host: this\n    });\n  }\n\n  // https://html.spec.whatwg.org/multipage/scripting.html#appropriate-template-contents-owner-document\n  _appropriateTemplateContentsOwnerDocument(doc) {\n    if (!doc._isInertTemplateDocument) {\n      if (doc._associatedInertTemplateDocument === undefined) {\n        const newDoc = Document.createImpl(this._globalObject, [], {\n          options: {\n            parsingMode: doc._parsingMode,\n            encoding: doc._encoding\n          }\n        });\n        newDoc._isInertTemplateDocument = true;\n\n        doc._associatedInertTemplateDocument = newDoc;\n      }\n\n      doc = doc._associatedInertTemplateDocument;\n    }\n\n    return doc;\n  }\n\n  // https://html.spec.whatwg.org/multipage/scripting.html#template-adopting-steps\n  _adoptingSteps() {\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n    doc._adoptNode(this._templateContents);\n  }\n\n  get content() {\n    return this._templateContents;\n  }\n\n  [cloningSteps](copy, node, document, cloneChildren) {\n    if (!cloneChildren) {\n      return;\n    }\n\n    for (const child of domSymbolTree.childrenIterator(node._templateContents)) {\n      const childCopy = clone(child, copy._templateContents._ownerDocument, true);\n      copy._templateContents.appendChild(childCopy);\n    }\n  }\n}\n\nmodule.exports = {\n  implementation: HTMLTemplateElementImpl\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,eAAe,GAAGC,OAAO,CAAC,oBAAD,CAAP,CAA8BC,cAAtD;;AAEA,MAAMC,QAAQ,GAAGF,OAAO,CAAC,uBAAD,CAAxB;;AACA,MAAMG,gBAAgB,GAAGH,OAAO,CAAC,+BAAD,CAAhC;;AAEA,MAAM;EAAEI,YAAF;EAAgBC;AAAhB,IAAkCL,OAAO,CAAC,+BAAD,CAA/C;;AACA,MAAM;EAAEM;AAAF,IAAYN,OAAO,CAAC,SAAD,CAAzB;;AAEA,MAAMO,uBAAN,SAAsCR,eAAtC,CAAsD;EACpDS,WAAW,CAACC,YAAD,EAAeC,IAAf,EAAqBC,WAArB,EAAkC;IAC3C,MAAMF,YAAN,EAAoBC,IAApB,EAA0BC,WAA1B;;IAEA,MAAMC,GAAG,GAAG,KAAKC,yCAAL,CAA+C,KAAKC,cAApD,CAAZ;;IACA,KAAKC,iBAAL,GAAyBZ,gBAAgB,CAACa,UAAjB,CAA4B,KAAKC,aAAjC,EAAgD,EAAhD,EAAoD;MAC3EC,aAAa,EAAEN,GAD4D;MAE3EO,IAAI,EAAE;IAFqE,CAApD,CAAzB;EAID,CATmD,CAWpD;;;EACAN,yCAAyC,CAACD,GAAD,EAAM;IAC7C,IAAI,CAACA,GAAG,CAACQ,wBAAT,EAAmC;MACjC,IAAIR,GAAG,CAACS,gCAAJ,KAAyCC,SAA7C,EAAwD;QACtD,MAAMC,MAAM,GAAGrB,QAAQ,CAACc,UAAT,CAAoB,KAAKC,aAAzB,EAAwC,EAAxC,EAA4C;UACzDO,OAAO,EAAE;YACPC,WAAW,EAAEb,GAAG,CAACc,YADV;YAEPC,QAAQ,EAAEf,GAAG,CAACgB;UAFP;QADgD,CAA5C,CAAf;QAMAL,MAAM,CAACH,wBAAP,GAAkC,IAAlC;QAEAR,GAAG,CAACS,gCAAJ,GAAuCE,MAAvC;MACD;;MAEDX,GAAG,GAAGA,GAAG,CAACS,gCAAV;IACD;;IAED,OAAOT,GAAP;EACD,CA9BmD,CAgCpD;;;EACAiB,cAAc,GAAG;IACf,MAAMjB,GAAG,GAAG,KAAKC,yCAAL,CAA+C,KAAKC,cAApD,CAAZ;;IACAF,GAAG,CAACkB,UAAJ,CAAe,KAAKf,iBAApB;EACD;;EAEU,IAAPgB,OAAO,GAAG;IACZ,OAAO,KAAKhB,iBAAZ;EACD;;EAEY,CAAZX,YAAY,EAAE4B,IAAF,EAAQC,IAAR,EAAcC,QAAd,EAAwBC,aAAxB,EAAuC;IAClD,IAAI,CAACA,aAAL,EAAoB;MAClB;IACD;;IAED,KAAK,MAAMC,KAAX,IAAoB/B,aAAa,CAACgC,gBAAd,CAA+BJ,IAAI,CAAClB,iBAApC,CAApB,EAA4E;MAC1E,MAAMuB,SAAS,GAAGhC,KAAK,CAAC8B,KAAD,EAAQJ,IAAI,CAACjB,iBAAL,CAAuBD,cAA/B,EAA+C,IAA/C,CAAvB;;MACAkB,IAAI,CAACjB,iBAAL,CAAuBwB,WAAvB,CAAmCD,SAAnC;IACD;EACF;;AAnDmD;;AAsDtDE,MAAM,CAACC,OAAP,GAAiB;EACfxC,cAAc,EAAEM;AADD,CAAjB"},"metadata":{},"sourceType":"script"}