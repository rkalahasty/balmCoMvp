{"ast":null,"code":"\"use strict\";\n\nconst idlUtils = require(\"../generated/utils\");\n\nconst NodeList = require(\"../generated/NodeList\");\n\nconst HTMLCollection = require(\"../generated/HTMLCollection\");\n\nconst {\n  addNwsapi\n} = require(\"../helpers/selectors\");\n\nconst {\n  domSymbolTree\n} = require(\"../helpers/internal-constants\");\n\nconst NODE_TYPE = require(\"../node-type\");\n\nconst {\n  convertNodesIntoNode\n} = require(\"../node\");\n\nclass ParentNodeImpl {\n  get children() {\n    if (!this._childrenList) {\n      this._childrenList = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => domSymbolTree.childrenToArray(this, {\n          filter: node => node.nodeType === NODE_TYPE.ELEMENT_NODE\n        })\n      });\n    } else {\n      this._childrenList._update();\n    }\n\n    return this._childrenList;\n  }\n\n  get firstElementChild() {\n    for (const child of domSymbolTree.childrenIterator(this)) {\n      if (child.nodeType === NODE_TYPE.ELEMENT_NODE) {\n        return child;\n      }\n    }\n\n    return null;\n  }\n\n  get lastElementChild() {\n    for (const child of domSymbolTree.childrenIterator(this, {\n      reverse: true\n    })) {\n      if (child.nodeType === NODE_TYPE.ELEMENT_NODE) {\n        return child;\n      }\n    }\n\n    return null;\n  }\n\n  get childElementCount() {\n    return this.children.length;\n  }\n\n  prepend() {\n    for (var _len = arguments.length, nodes = new Array(_len), _key = 0; _key < _len; _key++) {\n      nodes[_key] = arguments[_key];\n    }\n\n    this._preInsert(convertNodesIntoNode(this._ownerDocument, nodes), this.firstChild);\n  }\n\n  append() {\n    for (var _len2 = arguments.length, nodes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      nodes[_key2] = arguments[_key2];\n    }\n\n    this._append(convertNodesIntoNode(this._ownerDocument, nodes));\n  }\n\n  replaceChildren() {\n    for (var _len3 = arguments.length, nodes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      nodes[_key3] = arguments[_key3];\n    }\n\n    const node = convertNodesIntoNode(this._ownerDocument, nodes);\n\n    this._preInsertValidity(node, null);\n\n    this._replaceAll(node);\n  }\n\n  querySelector(selectors) {\n    if (shouldAlwaysSelectNothing(this)) {\n      return null;\n    }\n\n    const matcher = addNwsapi(this);\n    return idlUtils.implForWrapper(matcher.first(selectors, idlUtils.wrapperForImpl(this)));\n  } // Warning for internal users: this returns a NodeList containing IDL wrappers instead of impls\n\n\n  querySelectorAll(selectors) {\n    if (shouldAlwaysSelectNothing(this)) {\n      return NodeList.create(this._globalObject, [], {\n        nodes: []\n      });\n    }\n\n    const matcher = addNwsapi(this);\n    const list = matcher.select(selectors, idlUtils.wrapperForImpl(this));\n    return NodeList.create(this._globalObject, [], {\n      nodes: list.map(n => idlUtils.tryImplForWrapper(n))\n    });\n  }\n\n}\n\nfunction shouldAlwaysSelectNothing(elImpl) {\n  // This is true during initialization.\n  return elImpl === elImpl._ownerDocument && !elImpl.documentElement;\n}\n\nmodule.exports = {\n  implementation: ParentNodeImpl\n};","map":{"version":3,"names":["idlUtils","require","NodeList","HTMLCollection","addNwsapi","domSymbolTree","NODE_TYPE","convertNodesIntoNode","ParentNodeImpl","children","_childrenList","createImpl","_globalObject","element","query","childrenToArray","filter","node","nodeType","ELEMENT_NODE","_update","firstElementChild","child","childrenIterator","lastElementChild","reverse","childElementCount","length","prepend","nodes","_preInsert","_ownerDocument","firstChild","append","_append","replaceChildren","_preInsertValidity","_replaceAll","querySelector","selectors","shouldAlwaysSelectNothing","matcher","implForWrapper","first","wrapperForImpl","querySelectorAll","create","list","select","map","n","tryImplForWrapper","elImpl","documentElement","module","exports","implementation"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/nodes/ParentNode-impl.js"],"sourcesContent":["\"use strict\";\n\nconst idlUtils = require(\"../generated/utils\");\nconst NodeList = require(\"../generated/NodeList\");\nconst HTMLCollection = require(\"../generated/HTMLCollection\");\nconst { addNwsapi } = require(\"../helpers/selectors\");\nconst { domSymbolTree } = require(\"../helpers/internal-constants\");\nconst NODE_TYPE = require(\"../node-type\");\nconst { convertNodesIntoNode } = require(\"../node\");\n\nclass ParentNodeImpl {\n  get children() {\n    if (!this._childrenList) {\n      this._childrenList = HTMLCollection.createImpl(this._globalObject, [], {\n        element: this,\n        query: () => domSymbolTree.childrenToArray(this, {\n          filter: node => node.nodeType === NODE_TYPE.ELEMENT_NODE\n        })\n      });\n    } else {\n      this._childrenList._update();\n    }\n    return this._childrenList;\n  }\n\n  get firstElementChild() {\n    for (const child of domSymbolTree.childrenIterator(this)) {\n      if (child.nodeType === NODE_TYPE.ELEMENT_NODE) {\n        return child;\n      }\n    }\n\n    return null;\n  }\n\n  get lastElementChild() {\n    for (const child of domSymbolTree.childrenIterator(this, { reverse: true })) {\n      if (child.nodeType === NODE_TYPE.ELEMENT_NODE) {\n        return child;\n      }\n    }\n\n    return null;\n  }\n\n  get childElementCount() {\n    return this.children.length;\n  }\n\n  prepend(...nodes) {\n    this._preInsert(convertNodesIntoNode(this._ownerDocument, nodes), this.firstChild);\n  }\n\n  append(...nodes) {\n    this._append(convertNodesIntoNode(this._ownerDocument, nodes));\n  }\n\n  replaceChildren(...nodes) {\n    const node = convertNodesIntoNode(this._ownerDocument, nodes);\n    this._preInsertValidity(node, null);\n    this._replaceAll(node);\n  }\n\n  querySelector(selectors) {\n    if (shouldAlwaysSelectNothing(this)) {\n      return null;\n    }\n    const matcher = addNwsapi(this);\n    return idlUtils.implForWrapper(matcher.first(selectors, idlUtils.wrapperForImpl(this)));\n  }\n\n  // Warning for internal users: this returns a NodeList containing IDL wrappers instead of impls\n  querySelectorAll(selectors) {\n    if (shouldAlwaysSelectNothing(this)) {\n      return NodeList.create(this._globalObject, [], { nodes: [] });\n    }\n    const matcher = addNwsapi(this);\n    const list = matcher.select(selectors, idlUtils.wrapperForImpl(this));\n\n    return NodeList.create(this._globalObject, [], { nodes: list.map(n => idlUtils.tryImplForWrapper(n)) });\n  }\n}\n\nfunction shouldAlwaysSelectNothing(elImpl) {\n  // This is true during initialization.\n  return elImpl === elImpl._ownerDocument && !elImpl.documentElement;\n}\n\nmodule.exports = {\n  implementation: ParentNodeImpl\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}