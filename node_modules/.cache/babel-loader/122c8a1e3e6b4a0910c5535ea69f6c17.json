{"ast":null,"code":"\"use strict\";\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst {\n  HTML_NS\n} = require(\"./helpers/namespaces\");\n\nconst {\n  asciiLowercase\n} = require(\"./helpers/strings\");\n\nconst {\n  queueAttributeMutationRecord\n} = require(\"./helpers/mutation-observers\");\n\nconst {\n  enqueueCECallbackReaction\n} = require(\"./helpers/custom-elements\"); // The following three are for https://dom.spec.whatwg.org/#concept-element-attribute-has. We don't just have a\n// predicate tester since removing that kind of flexibility gives us the potential for better future optimizations.\n\n/* eslint-disable no-restricted-properties */\n\n\nexports.hasAttribute = function (element, A) {\n  return element._attributeList.includes(A);\n};\n\nexports.hasAttributeByName = function (element, name) {\n  return element._attributesByNameMap.has(name);\n};\n\nexports.hasAttributeByNameNS = function (element, namespace, localName) {\n  return element._attributeList.some(attribute => {\n    return attribute._localName === localName && attribute._namespace === namespace;\n  });\n}; // https://dom.spec.whatwg.org/#concept-element-attributes-change\n\n\nexports.changeAttribute = (element, attribute, value) => {\n  const {\n    _localName,\n    _namespace,\n    _value\n  } = attribute;\n  queueAttributeMutationRecord(element, _localName, _namespace, _value);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [_localName, _value, value, _namespace]);\n  }\n\n  attribute._value = value; // Run jsdom hooks; roughly correspond to spec's \"An attribute is set and an attribute is changed.\"\n\n  element._attrModified(attribute._qualifiedName, value, _value);\n}; // https://dom.spec.whatwg.org/#concept-element-attributes-append\n\n\nexports.appendAttribute = function (element, attribute) {\n  const {\n    _localName,\n    _namespace,\n    _value\n  } = attribute;\n  queueAttributeMutationRecord(element, _localName, _namespace, null);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [_localName, null, _value, _namespace]);\n  }\n\n  const attributeList = element._attributeList;\n  attributeList.push(attribute);\n  attribute._element = element; // Sync name cache\n\n  const name = attribute._qualifiedName;\n  const cache = element._attributesByNameMap;\n  let entry = cache.get(name);\n\n  if (!entry) {\n    entry = [];\n    cache.set(name, entry);\n  }\n\n  entry.push(attribute); // Run jsdom hooks; roughly correspond to spec's \"An attribute is set and an attribute is added.\"\n\n  element._attrModified(name, _value, null);\n};\n\nexports.removeAttribute = function (element, attribute) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-remove\n  const {\n    _localName,\n    _namespace,\n    _value\n  } = attribute;\n  queueAttributeMutationRecord(element, _localName, _namespace, _value);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [_localName, _value, null, _namespace]);\n  }\n\n  const attributeList = element._attributeList;\n\n  for (let i = 0; i < attributeList.length; ++i) {\n    if (attributeList[i] === attribute) {\n      attributeList.splice(i, 1);\n      attribute._element = null; // Sync name cache\n\n      const name = attribute._qualifiedName;\n      const cache = element._attributesByNameMap;\n      const entry = cache.get(name);\n      entry.splice(entry.indexOf(attribute), 1);\n\n      if (entry.length === 0) {\n        cache.delete(name);\n      } // Run jsdom hooks; roughly correspond to spec's \"An attribute is removed.\"\n\n\n      element._attrModified(name, null, attribute._value);\n\n      return;\n    }\n  }\n};\n\nexports.replaceAttribute = function (element, oldAttr, newAttr) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-replace\n  const {\n    _localName,\n    _namespace,\n    _value\n  } = oldAttr;\n  queueAttributeMutationRecord(element, _localName, _namespace, _value);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [_localName, _value, newAttr._value, _namespace]);\n  }\n\n  const attributeList = element._attributeList;\n\n  for (let i = 0; i < attributeList.length; ++i) {\n    if (attributeList[i] === oldAttr) {\n      attributeList.splice(i, 1, newAttr);\n      oldAttr._element = null;\n      newAttr._element = element; // Sync name cache\n\n      const name = newAttr._qualifiedName;\n      const cache = element._attributesByNameMap;\n      let entry = cache.get(name);\n\n      if (!entry) {\n        entry = [];\n        cache.set(name, entry);\n      }\n\n      entry.splice(entry.indexOf(oldAttr), 1, newAttr); // Run jsdom hooks; roughly correspond to spec's \"An attribute is set and an attribute is changed.\"\n\n      element._attrModified(name, newAttr._value, oldAttr._value);\n\n      return;\n    }\n  }\n};\n\nexports.getAttributeByName = function (element, name) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-get-by-name\n  if (element._namespaceURI === HTML_NS && element._ownerDocument._parsingMode === \"html\") {\n    name = asciiLowercase(name);\n  }\n\n  const cache = element._attributesByNameMap;\n  const entry = cache.get(name);\n\n  if (!entry) {\n    return null;\n  }\n\n  return entry[0];\n};\n\nexports.getAttributeByNameNS = function (element, namespace, localName) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-get-by-namespace\n  if (namespace === \"\") {\n    namespace = null;\n  }\n\n  const attributeList = element._attributeList;\n\n  for (let i = 0; i < attributeList.length; ++i) {\n    const attr = attributeList[i];\n\n    if (attr._namespace === namespace && attr._localName === localName) {\n      return attr;\n    }\n  }\n\n  return null;\n}; // Both of the following functions implement https://dom.spec.whatwg.org/#concept-element-attributes-get-value.\n// Separated them into two to keep symmetry with other functions.\n\n\nexports.getAttributeValue = function (element, localName) {\n  const attr = exports.getAttributeByNameNS(element, null, localName);\n\n  if (!attr) {\n    return \"\";\n  }\n\n  return attr._value;\n};\n\nexports.getAttributeValueNS = function (element, namespace, localName) {\n  const attr = exports.getAttributeByNameNS(element, namespace, localName);\n\n  if (!attr) {\n    return \"\";\n  }\n\n  return attr._value;\n};\n\nexports.setAttribute = function (element, attr) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-set\n  if (attr._element !== null && attr._element !== element) {\n    throw DOMException.create(element._globalObject, [\"The attribute is in use.\", \"InUseAttributeError\"]);\n  }\n\n  const oldAttr = exports.getAttributeByNameNS(element, attr._namespace, attr._localName);\n\n  if (oldAttr === attr) {\n    return attr;\n  }\n\n  if (oldAttr !== null) {\n    exports.replaceAttribute(element, oldAttr, attr);\n  } else {\n    exports.appendAttribute(element, attr);\n  }\n\n  return oldAttr;\n};\n\nexports.setAttributeValue = function (element, localName, value, prefix, namespace) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-set-value\n  if (prefix === undefined) {\n    prefix = null;\n  }\n\n  if (namespace === undefined) {\n    namespace = null;\n  }\n\n  const attribute = exports.getAttributeByNameNS(element, namespace, localName);\n\n  if (attribute === null) {\n    const newAttribute = element._ownerDocument._createAttribute({\n      namespace,\n      namespacePrefix: prefix,\n      localName,\n      value\n    });\n\n    exports.appendAttribute(element, newAttribute);\n    return;\n  }\n\n  exports.changeAttribute(element, attribute, value);\n}; // https://dom.spec.whatwg.org/#set-an-existing-attribute-value\n\n\nexports.setAnExistingAttributeValue = (attribute, value) => {\n  const element = attribute._element;\n\n  if (element === null) {\n    attribute._value = value;\n  } else {\n    exports.changeAttribute(element, attribute, value);\n  }\n};\n\nexports.removeAttributeByName = function (element, name) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-remove-by-name\n  const attr = exports.getAttributeByName(element, name);\n\n  if (attr !== null) {\n    exports.removeAttribute(element, attr);\n  }\n\n  return attr;\n};\n\nexports.removeAttributeByNameNS = function (element, namespace, localName) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-remove-by-namespace\n  const attr = exports.getAttributeByNameNS(element, namespace, localName);\n\n  if (attr !== null) {\n    exports.removeAttribute(element, attr);\n  }\n\n  return attr;\n};\n\nexports.attributeNames = function (element) {\n  // Needed by https://dom.spec.whatwg.org/#dom-element-getattributenames\n  return element._attributeList.map(a => a._qualifiedName);\n};\n\nexports.hasAttributes = function (element) {\n  // Needed by https://dom.spec.whatwg.org/#dom-element-hasattributes\n  return element._attributeList.length > 0;\n};","map":{"version":3,"names":["DOMException","require","HTML_NS","asciiLowercase","queueAttributeMutationRecord","enqueueCECallbackReaction","exports","hasAttribute","element","A","_attributeList","includes","hasAttributeByName","name","_attributesByNameMap","has","hasAttributeByNameNS","namespace","localName","some","attribute","_localName","_namespace","changeAttribute","value","_value","_ceState","_attrModified","_qualifiedName","appendAttribute","attributeList","push","_element","cache","entry","get","set","removeAttribute","i","length","splice","indexOf","delete","replaceAttribute","oldAttr","newAttr","getAttributeByName","_namespaceURI","_ownerDocument","_parsingMode","getAttributeByNameNS","attr","getAttributeValue","getAttributeValueNS","setAttribute","create","_globalObject","setAttributeValue","prefix","undefined","newAttribute","_createAttribute","namespacePrefix","setAnExistingAttributeValue","removeAttributeByName","removeAttributeByNameNS","attributeNames","map","a","hasAttributes"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/attributes.js"],"sourcesContent":["\"use strict\";\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst { HTML_NS } = require(\"./helpers/namespaces\");\nconst { asciiLowercase } = require(\"./helpers/strings\");\nconst { queueAttributeMutationRecord } = require(\"./helpers/mutation-observers\");\nconst { enqueueCECallbackReaction } = require(\"./helpers/custom-elements\");\n\n// The following three are for https://dom.spec.whatwg.org/#concept-element-attribute-has. We don't just have a\n// predicate tester since removing that kind of flexibility gives us the potential for better future optimizations.\n\n/* eslint-disable no-restricted-properties */\n\nexports.hasAttribute = function (element, A) {\n  return element._attributeList.includes(A);\n};\n\nexports.hasAttributeByName = function (element, name) {\n  return element._attributesByNameMap.has(name);\n};\n\nexports.hasAttributeByNameNS = function (element, namespace, localName) {\n  return element._attributeList.some(attribute => {\n    return attribute._localName === localName && attribute._namespace === namespace;\n  });\n};\n\n// https://dom.spec.whatwg.org/#concept-element-attributes-change\nexports.changeAttribute = (element, attribute, value) => {\n  const { _localName, _namespace, _value } = attribute;\n\n  queueAttributeMutationRecord(element, _localName, _namespace, _value);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [\n      _localName,\n      _value,\n      value,\n      _namespace\n    ]);\n  }\n\n  attribute._value = value;\n\n  // Run jsdom hooks; roughly correspond to spec's \"An attribute is set and an attribute is changed.\"\n  element._attrModified(attribute._qualifiedName, value, _value);\n};\n\n// https://dom.spec.whatwg.org/#concept-element-attributes-append\nexports.appendAttribute = function (element, attribute) {\n  const { _localName, _namespace, _value } = attribute;\n  queueAttributeMutationRecord(element, _localName, _namespace, null);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [\n      _localName,\n      null,\n      _value,\n      _namespace\n    ]);\n  }\n\n  const attributeList = element._attributeList;\n\n  attributeList.push(attribute);\n  attribute._element = element;\n\n  // Sync name cache\n  const name = attribute._qualifiedName;\n  const cache = element._attributesByNameMap;\n  let entry = cache.get(name);\n  if (!entry) {\n    entry = [];\n    cache.set(name, entry);\n  }\n  entry.push(attribute);\n\n  // Run jsdom hooks; roughly correspond to spec's \"An attribute is set and an attribute is added.\"\n  element._attrModified(name, _value, null);\n};\n\nexports.removeAttribute = function (element, attribute) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-remove\n\n  const { _localName, _namespace, _value } = attribute;\n\n  queueAttributeMutationRecord(element, _localName, _namespace, _value);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [\n      _localName,\n      _value,\n      null,\n      _namespace\n    ]);\n  }\n\n  const attributeList = element._attributeList;\n\n  for (let i = 0; i < attributeList.length; ++i) {\n    if (attributeList[i] === attribute) {\n      attributeList.splice(i, 1);\n      attribute._element = null;\n\n      // Sync name cache\n      const name = attribute._qualifiedName;\n      const cache = element._attributesByNameMap;\n      const entry = cache.get(name);\n      entry.splice(entry.indexOf(attribute), 1);\n      if (entry.length === 0) {\n        cache.delete(name);\n      }\n\n      // Run jsdom hooks; roughly correspond to spec's \"An attribute is removed.\"\n      element._attrModified(name, null, attribute._value);\n\n      return;\n    }\n  }\n};\n\nexports.replaceAttribute = function (element, oldAttr, newAttr) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-replace\n\n  const { _localName, _namespace, _value } = oldAttr;\n\n  queueAttributeMutationRecord(element, _localName, _namespace, _value);\n\n  if (element._ceState === \"custom\") {\n    enqueueCECallbackReaction(element, \"attributeChangedCallback\", [\n      _localName,\n      _value,\n      newAttr._value,\n      _namespace\n    ]);\n  }\n\n  const attributeList = element._attributeList;\n\n  for (let i = 0; i < attributeList.length; ++i) {\n    if (attributeList[i] === oldAttr) {\n      attributeList.splice(i, 1, newAttr);\n      oldAttr._element = null;\n      newAttr._element = element;\n\n      // Sync name cache\n      const name = newAttr._qualifiedName;\n      const cache = element._attributesByNameMap;\n      let entry = cache.get(name);\n      if (!entry) {\n        entry = [];\n        cache.set(name, entry);\n      }\n      entry.splice(entry.indexOf(oldAttr), 1, newAttr);\n\n      // Run jsdom hooks; roughly correspond to spec's \"An attribute is set and an attribute is changed.\"\n      element._attrModified(name, newAttr._value, oldAttr._value);\n\n      return;\n    }\n  }\n};\n\nexports.getAttributeByName = function (element, name) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-get-by-name\n\n  if (element._namespaceURI === HTML_NS &&\n      element._ownerDocument._parsingMode === \"html\") {\n    name = asciiLowercase(name);\n  }\n\n  const cache = element._attributesByNameMap;\n  const entry = cache.get(name);\n  if (!entry) {\n    return null;\n  }\n\n  return entry[0];\n};\n\nexports.getAttributeByNameNS = function (element, namespace, localName) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-get-by-namespace\n\n  if (namespace === \"\") {\n    namespace = null;\n  }\n\n  const attributeList = element._attributeList;\n  for (let i = 0; i < attributeList.length; ++i) {\n    const attr = attributeList[i];\n    if (attr._namespace === namespace && attr._localName === localName) {\n      return attr;\n    }\n  }\n\n  return null;\n};\n\n// Both of the following functions implement https://dom.spec.whatwg.org/#concept-element-attributes-get-value.\n// Separated them into two to keep symmetry with other functions.\nexports.getAttributeValue = function (element, localName) {\n  const attr = exports.getAttributeByNameNS(element, null, localName);\n\n  if (!attr) {\n    return \"\";\n  }\n\n  return attr._value;\n};\n\nexports.getAttributeValueNS = function (element, namespace, localName) {\n  const attr = exports.getAttributeByNameNS(element, namespace, localName);\n\n  if (!attr) {\n    return \"\";\n  }\n\n  return attr._value;\n};\n\nexports.setAttribute = function (element, attr) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-set\n\n  if (attr._element !== null && attr._element !== element) {\n    throw DOMException.create(element._globalObject, [\"The attribute is in use.\", \"InUseAttributeError\"]);\n  }\n\n  const oldAttr = exports.getAttributeByNameNS(element, attr._namespace, attr._localName);\n  if (oldAttr === attr) {\n    return attr;\n  }\n\n  if (oldAttr !== null) {\n    exports.replaceAttribute(element, oldAttr, attr);\n  } else {\n    exports.appendAttribute(element, attr);\n  }\n\n  return oldAttr;\n};\n\nexports.setAttributeValue = function (element, localName, value, prefix, namespace) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-set-value\n\n  if (prefix === undefined) {\n    prefix = null;\n  }\n  if (namespace === undefined) {\n    namespace = null;\n  }\n\n  const attribute = exports.getAttributeByNameNS(element, namespace, localName);\n  if (attribute === null) {\n    const newAttribute = element._ownerDocument._createAttribute({\n      namespace,\n      namespacePrefix: prefix,\n      localName,\n      value\n    });\n    exports.appendAttribute(element, newAttribute);\n\n    return;\n  }\n\n  exports.changeAttribute(element, attribute, value);\n};\n\n// https://dom.spec.whatwg.org/#set-an-existing-attribute-value\nexports.setAnExistingAttributeValue = (attribute, value) => {\n  const element = attribute._element;\n  if (element === null) {\n    attribute._value = value;\n  } else {\n    exports.changeAttribute(element, attribute, value);\n  }\n};\n\nexports.removeAttributeByName = function (element, name) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-remove-by-name\n\n  const attr = exports.getAttributeByName(element, name);\n\n  if (attr !== null) {\n    exports.removeAttribute(element, attr);\n  }\n\n  return attr;\n};\n\nexports.removeAttributeByNameNS = function (element, namespace, localName) {\n  // https://dom.spec.whatwg.org/#concept-element-attributes-remove-by-namespace\n\n  const attr = exports.getAttributeByNameNS(element, namespace, localName);\n\n  if (attr !== null) {\n    exports.removeAttribute(element, attr);\n  }\n\n  return attr;\n};\n\nexports.attributeNames = function (element) {\n  // Needed by https://dom.spec.whatwg.org/#dom-element-getattributenames\n\n  return element._attributeList.map(a => a._qualifiedName);\n};\n\nexports.hasAttributes = function (element) {\n  // Needed by https://dom.spec.whatwg.org/#dom-element-hasattributes\n\n  return element._attributeList.length > 0;\n};\n"],"mappings":"AAAA;;AACA,MAAMA,YAAY,GAAGC,OAAO,CAAC,gCAAD,CAA5B;;AAEA,MAAM;EAAEC;AAAF,IAAcD,OAAO,CAAC,sBAAD,CAA3B;;AACA,MAAM;EAAEE;AAAF,IAAqBF,OAAO,CAAC,mBAAD,CAAlC;;AACA,MAAM;EAAEG;AAAF,IAAmCH,OAAO,CAAC,8BAAD,CAAhD;;AACA,MAAM;EAAEI;AAAF,IAAgCJ,OAAO,CAAC,2BAAD,CAA7C,C,CAEA;AACA;;AAEA;;;AAEAK,OAAO,CAACC,YAAR,GAAuB,UAAUC,OAAV,EAAmBC,CAAnB,EAAsB;EAC3C,OAAOD,OAAO,CAACE,cAAR,CAAuBC,QAAvB,CAAgCF,CAAhC,CAAP;AACD,CAFD;;AAIAH,OAAO,CAACM,kBAAR,GAA6B,UAAUJ,OAAV,EAAmBK,IAAnB,EAAyB;EACpD,OAAOL,OAAO,CAACM,oBAAR,CAA6BC,GAA7B,CAAiCF,IAAjC,CAAP;AACD,CAFD;;AAIAP,OAAO,CAACU,oBAAR,GAA+B,UAAUR,OAAV,EAAmBS,SAAnB,EAA8BC,SAA9B,EAAyC;EACtE,OAAOV,OAAO,CAACE,cAAR,CAAuBS,IAAvB,CAA4BC,SAAS,IAAI;IAC9C,OAAOA,SAAS,CAACC,UAAV,KAAyBH,SAAzB,IAAsCE,SAAS,CAACE,UAAV,KAAyBL,SAAtE;EACD,CAFM,CAAP;AAGD,CAJD,C,CAMA;;;AACAX,OAAO,CAACiB,eAAR,GAA0B,CAACf,OAAD,EAAUY,SAAV,EAAqBI,KAArB,KAA+B;EACvD,MAAM;IAAEH,UAAF;IAAcC,UAAd;IAA0BG;EAA1B,IAAqCL,SAA3C;EAEAhB,4BAA4B,CAACI,OAAD,EAAUa,UAAV,EAAsBC,UAAtB,EAAkCG,MAAlC,CAA5B;;EAEA,IAAIjB,OAAO,CAACkB,QAAR,KAAqB,QAAzB,EAAmC;IACjCrB,yBAAyB,CAACG,OAAD,EAAU,0BAAV,EAAsC,CAC7Da,UAD6D,EAE7DI,MAF6D,EAG7DD,KAH6D,EAI7DF,UAJ6D,CAAtC,CAAzB;EAMD;;EAEDF,SAAS,CAACK,MAAV,GAAmBD,KAAnB,CAduD,CAgBvD;;EACAhB,OAAO,CAACmB,aAAR,CAAsBP,SAAS,CAACQ,cAAhC,EAAgDJ,KAAhD,EAAuDC,MAAvD;AACD,CAlBD,C,CAoBA;;;AACAnB,OAAO,CAACuB,eAAR,GAA0B,UAAUrB,OAAV,EAAmBY,SAAnB,EAA8B;EACtD,MAAM;IAAEC,UAAF;IAAcC,UAAd;IAA0BG;EAA1B,IAAqCL,SAA3C;EACAhB,4BAA4B,CAACI,OAAD,EAAUa,UAAV,EAAsBC,UAAtB,EAAkC,IAAlC,CAA5B;;EAEA,IAAId,OAAO,CAACkB,QAAR,KAAqB,QAAzB,EAAmC;IACjCrB,yBAAyB,CAACG,OAAD,EAAU,0BAAV,EAAsC,CAC7Da,UAD6D,EAE7D,IAF6D,EAG7DI,MAH6D,EAI7DH,UAJ6D,CAAtC,CAAzB;EAMD;;EAED,MAAMQ,aAAa,GAAGtB,OAAO,CAACE,cAA9B;EAEAoB,aAAa,CAACC,IAAd,CAAmBX,SAAnB;EACAA,SAAS,CAACY,QAAV,GAAqBxB,OAArB,CAhBsD,CAkBtD;;EACA,MAAMK,IAAI,GAAGO,SAAS,CAACQ,cAAvB;EACA,MAAMK,KAAK,GAAGzB,OAAO,CAACM,oBAAtB;EACA,IAAIoB,KAAK,GAAGD,KAAK,CAACE,GAAN,CAAUtB,IAAV,CAAZ;;EACA,IAAI,CAACqB,KAAL,EAAY;IACVA,KAAK,GAAG,EAAR;IACAD,KAAK,CAACG,GAAN,CAAUvB,IAAV,EAAgBqB,KAAhB;EACD;;EACDA,KAAK,CAACH,IAAN,CAAWX,SAAX,EA1BsD,CA4BtD;;EACAZ,OAAO,CAACmB,aAAR,CAAsBd,IAAtB,EAA4BY,MAA5B,EAAoC,IAApC;AACD,CA9BD;;AAgCAnB,OAAO,CAAC+B,eAAR,GAA0B,UAAU7B,OAAV,EAAmBY,SAAnB,EAA8B;EACtD;EAEA,MAAM;IAAEC,UAAF;IAAcC,UAAd;IAA0BG;EAA1B,IAAqCL,SAA3C;EAEAhB,4BAA4B,CAACI,OAAD,EAAUa,UAAV,EAAsBC,UAAtB,EAAkCG,MAAlC,CAA5B;;EAEA,IAAIjB,OAAO,CAACkB,QAAR,KAAqB,QAAzB,EAAmC;IACjCrB,yBAAyB,CAACG,OAAD,EAAU,0BAAV,EAAsC,CAC7Da,UAD6D,EAE7DI,MAF6D,EAG7D,IAH6D,EAI7DH,UAJ6D,CAAtC,CAAzB;EAMD;;EAED,MAAMQ,aAAa,GAAGtB,OAAO,CAACE,cAA9B;;EAEA,KAAK,IAAI4B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,aAAa,CAACS,MAAlC,EAA0C,EAAED,CAA5C,EAA+C;IAC7C,IAAIR,aAAa,CAACQ,CAAD,CAAb,KAAqBlB,SAAzB,EAAoC;MAClCU,aAAa,CAACU,MAAd,CAAqBF,CAArB,EAAwB,CAAxB;MACAlB,SAAS,CAACY,QAAV,GAAqB,IAArB,CAFkC,CAIlC;;MACA,MAAMnB,IAAI,GAAGO,SAAS,CAACQ,cAAvB;MACA,MAAMK,KAAK,GAAGzB,OAAO,CAACM,oBAAtB;MACA,MAAMoB,KAAK,GAAGD,KAAK,CAACE,GAAN,CAAUtB,IAAV,CAAd;MACAqB,KAAK,CAACM,MAAN,CAAaN,KAAK,CAACO,OAAN,CAAcrB,SAAd,CAAb,EAAuC,CAAvC;;MACA,IAAIc,KAAK,CAACK,MAAN,KAAiB,CAArB,EAAwB;QACtBN,KAAK,CAACS,MAAN,CAAa7B,IAAb;MACD,CAXiC,CAalC;;;MACAL,OAAO,CAACmB,aAAR,CAAsBd,IAAtB,EAA4B,IAA5B,EAAkCO,SAAS,CAACK,MAA5C;;MAEA;IACD;EACF;AACF,CAtCD;;AAwCAnB,OAAO,CAACqC,gBAAR,GAA2B,UAAUnC,OAAV,EAAmBoC,OAAnB,EAA4BC,OAA5B,EAAqC;EAC9D;EAEA,MAAM;IAAExB,UAAF;IAAcC,UAAd;IAA0BG;EAA1B,IAAqCmB,OAA3C;EAEAxC,4BAA4B,CAACI,OAAD,EAAUa,UAAV,EAAsBC,UAAtB,EAAkCG,MAAlC,CAA5B;;EAEA,IAAIjB,OAAO,CAACkB,QAAR,KAAqB,QAAzB,EAAmC;IACjCrB,yBAAyB,CAACG,OAAD,EAAU,0BAAV,EAAsC,CAC7Da,UAD6D,EAE7DI,MAF6D,EAG7DoB,OAAO,CAACpB,MAHqD,EAI7DH,UAJ6D,CAAtC,CAAzB;EAMD;;EAED,MAAMQ,aAAa,GAAGtB,OAAO,CAACE,cAA9B;;EAEA,KAAK,IAAI4B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,aAAa,CAACS,MAAlC,EAA0C,EAAED,CAA5C,EAA+C;IAC7C,IAAIR,aAAa,CAACQ,CAAD,CAAb,KAAqBM,OAAzB,EAAkC;MAChCd,aAAa,CAACU,MAAd,CAAqBF,CAArB,EAAwB,CAAxB,EAA2BO,OAA3B;MACAD,OAAO,CAACZ,QAAR,GAAmB,IAAnB;MACAa,OAAO,CAACb,QAAR,GAAmBxB,OAAnB,CAHgC,CAKhC;;MACA,MAAMK,IAAI,GAAGgC,OAAO,CAACjB,cAArB;MACA,MAAMK,KAAK,GAAGzB,OAAO,CAACM,oBAAtB;MACA,IAAIoB,KAAK,GAAGD,KAAK,CAACE,GAAN,CAAUtB,IAAV,CAAZ;;MACA,IAAI,CAACqB,KAAL,EAAY;QACVA,KAAK,GAAG,EAAR;QACAD,KAAK,CAACG,GAAN,CAAUvB,IAAV,EAAgBqB,KAAhB;MACD;;MACDA,KAAK,CAACM,MAAN,CAAaN,KAAK,CAACO,OAAN,CAAcG,OAAd,CAAb,EAAqC,CAArC,EAAwCC,OAAxC,EAbgC,CAehC;;MACArC,OAAO,CAACmB,aAAR,CAAsBd,IAAtB,EAA4BgC,OAAO,CAACpB,MAApC,EAA4CmB,OAAO,CAACnB,MAApD;;MAEA;IACD;EACF;AACF,CAxCD;;AA0CAnB,OAAO,CAACwC,kBAAR,GAA6B,UAAUtC,OAAV,EAAmBK,IAAnB,EAAyB;EACpD;EAEA,IAAIL,OAAO,CAACuC,aAAR,KAA0B7C,OAA1B,IACAM,OAAO,CAACwC,cAAR,CAAuBC,YAAvB,KAAwC,MAD5C,EACoD;IAClDpC,IAAI,GAAGV,cAAc,CAACU,IAAD,CAArB;EACD;;EAED,MAAMoB,KAAK,GAAGzB,OAAO,CAACM,oBAAtB;EACA,MAAMoB,KAAK,GAAGD,KAAK,CAACE,GAAN,CAAUtB,IAAV,CAAd;;EACA,IAAI,CAACqB,KAAL,EAAY;IACV,OAAO,IAAP;EACD;;EAED,OAAOA,KAAK,CAAC,CAAD,CAAZ;AACD,CAfD;;AAiBA5B,OAAO,CAAC4C,oBAAR,GAA+B,UAAU1C,OAAV,EAAmBS,SAAnB,EAA8BC,SAA9B,EAAyC;EACtE;EAEA,IAAID,SAAS,KAAK,EAAlB,EAAsB;IACpBA,SAAS,GAAG,IAAZ;EACD;;EAED,MAAMa,aAAa,GAAGtB,OAAO,CAACE,cAA9B;;EACA,KAAK,IAAI4B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,aAAa,CAACS,MAAlC,EAA0C,EAAED,CAA5C,EAA+C;IAC7C,MAAMa,IAAI,GAAGrB,aAAa,CAACQ,CAAD,CAA1B;;IACA,IAAIa,IAAI,CAAC7B,UAAL,KAAoBL,SAApB,IAAiCkC,IAAI,CAAC9B,UAAL,KAAoBH,SAAzD,EAAoE;MAClE,OAAOiC,IAAP;IACD;EACF;;EAED,OAAO,IAAP;AACD,CAhBD,C,CAkBA;AACA;;;AACA7C,OAAO,CAAC8C,iBAAR,GAA4B,UAAU5C,OAAV,EAAmBU,SAAnB,EAA8B;EACxD,MAAMiC,IAAI,GAAG7C,OAAO,CAAC4C,oBAAR,CAA6B1C,OAA7B,EAAsC,IAAtC,EAA4CU,SAA5C,CAAb;;EAEA,IAAI,CAACiC,IAAL,EAAW;IACT,OAAO,EAAP;EACD;;EAED,OAAOA,IAAI,CAAC1B,MAAZ;AACD,CARD;;AAUAnB,OAAO,CAAC+C,mBAAR,GAA8B,UAAU7C,OAAV,EAAmBS,SAAnB,EAA8BC,SAA9B,EAAyC;EACrE,MAAMiC,IAAI,GAAG7C,OAAO,CAAC4C,oBAAR,CAA6B1C,OAA7B,EAAsCS,SAAtC,EAAiDC,SAAjD,CAAb;;EAEA,IAAI,CAACiC,IAAL,EAAW;IACT,OAAO,EAAP;EACD;;EAED,OAAOA,IAAI,CAAC1B,MAAZ;AACD,CARD;;AAUAnB,OAAO,CAACgD,YAAR,GAAuB,UAAU9C,OAAV,EAAmB2C,IAAnB,EAAyB;EAC9C;EAEA,IAAIA,IAAI,CAACnB,QAAL,KAAkB,IAAlB,IAA0BmB,IAAI,CAACnB,QAAL,KAAkBxB,OAAhD,EAAyD;IACvD,MAAMR,YAAY,CAACuD,MAAb,CAAoB/C,OAAO,CAACgD,aAA5B,EAA2C,CAAC,0BAAD,EAA6B,qBAA7B,CAA3C,CAAN;EACD;;EAED,MAAMZ,OAAO,GAAGtC,OAAO,CAAC4C,oBAAR,CAA6B1C,OAA7B,EAAsC2C,IAAI,CAAC7B,UAA3C,EAAuD6B,IAAI,CAAC9B,UAA5D,CAAhB;;EACA,IAAIuB,OAAO,KAAKO,IAAhB,EAAsB;IACpB,OAAOA,IAAP;EACD;;EAED,IAAIP,OAAO,KAAK,IAAhB,EAAsB;IACpBtC,OAAO,CAACqC,gBAAR,CAAyBnC,OAAzB,EAAkCoC,OAAlC,EAA2CO,IAA3C;EACD,CAFD,MAEO;IACL7C,OAAO,CAACuB,eAAR,CAAwBrB,OAAxB,EAAiC2C,IAAjC;EACD;;EAED,OAAOP,OAAP;AACD,CAnBD;;AAqBAtC,OAAO,CAACmD,iBAAR,GAA4B,UAAUjD,OAAV,EAAmBU,SAAnB,EAA8BM,KAA9B,EAAqCkC,MAArC,EAA6CzC,SAA7C,EAAwD;EAClF;EAEA,IAAIyC,MAAM,KAAKC,SAAf,EAA0B;IACxBD,MAAM,GAAG,IAAT;EACD;;EACD,IAAIzC,SAAS,KAAK0C,SAAlB,EAA6B;IAC3B1C,SAAS,GAAG,IAAZ;EACD;;EAED,MAAMG,SAAS,GAAGd,OAAO,CAAC4C,oBAAR,CAA6B1C,OAA7B,EAAsCS,SAAtC,EAAiDC,SAAjD,CAAlB;;EACA,IAAIE,SAAS,KAAK,IAAlB,EAAwB;IACtB,MAAMwC,YAAY,GAAGpD,OAAO,CAACwC,cAAR,CAAuBa,gBAAvB,CAAwC;MAC3D5C,SAD2D;MAE3D6C,eAAe,EAAEJ,MAF0C;MAG3DxC,SAH2D;MAI3DM;IAJ2D,CAAxC,CAArB;;IAMAlB,OAAO,CAACuB,eAAR,CAAwBrB,OAAxB,EAAiCoD,YAAjC;IAEA;EACD;;EAEDtD,OAAO,CAACiB,eAAR,CAAwBf,OAAxB,EAAiCY,SAAjC,EAA4CI,KAA5C;AACD,CAxBD,C,CA0BA;;;AACAlB,OAAO,CAACyD,2BAAR,GAAsC,CAAC3C,SAAD,EAAYI,KAAZ,KAAsB;EAC1D,MAAMhB,OAAO,GAAGY,SAAS,CAACY,QAA1B;;EACA,IAAIxB,OAAO,KAAK,IAAhB,EAAsB;IACpBY,SAAS,CAACK,MAAV,GAAmBD,KAAnB;EACD,CAFD,MAEO;IACLlB,OAAO,CAACiB,eAAR,CAAwBf,OAAxB,EAAiCY,SAAjC,EAA4CI,KAA5C;EACD;AACF,CAPD;;AASAlB,OAAO,CAAC0D,qBAAR,GAAgC,UAAUxD,OAAV,EAAmBK,IAAnB,EAAyB;EACvD;EAEA,MAAMsC,IAAI,GAAG7C,OAAO,CAACwC,kBAAR,CAA2BtC,OAA3B,EAAoCK,IAApC,CAAb;;EAEA,IAAIsC,IAAI,KAAK,IAAb,EAAmB;IACjB7C,OAAO,CAAC+B,eAAR,CAAwB7B,OAAxB,EAAiC2C,IAAjC;EACD;;EAED,OAAOA,IAAP;AACD,CAVD;;AAYA7C,OAAO,CAAC2D,uBAAR,GAAkC,UAAUzD,OAAV,EAAmBS,SAAnB,EAA8BC,SAA9B,EAAyC;EACzE;EAEA,MAAMiC,IAAI,GAAG7C,OAAO,CAAC4C,oBAAR,CAA6B1C,OAA7B,EAAsCS,SAAtC,EAAiDC,SAAjD,CAAb;;EAEA,IAAIiC,IAAI,KAAK,IAAb,EAAmB;IACjB7C,OAAO,CAAC+B,eAAR,CAAwB7B,OAAxB,EAAiC2C,IAAjC;EACD;;EAED,OAAOA,IAAP;AACD,CAVD;;AAYA7C,OAAO,CAAC4D,cAAR,GAAyB,UAAU1D,OAAV,EAAmB;EAC1C;EAEA,OAAOA,OAAO,CAACE,cAAR,CAAuByD,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACxC,cAAlC,CAAP;AACD,CAJD;;AAMAtB,OAAO,CAAC+D,aAAR,GAAwB,UAAU7D,OAAV,EAAmB;EACzC;EAEA,OAAOA,OAAO,CAACE,cAAR,CAAuB6B,MAAvB,GAAgC,CAAvC;AACD,CAJD"},"metadata":{},"sourceType":"script"}