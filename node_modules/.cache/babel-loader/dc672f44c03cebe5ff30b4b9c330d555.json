{"ast":null,"code":"\"use strict\";\n\nconst NODE_TYPE = require(\"../node-type\");\n\nconst {\n  nodeRoot\n} = require(\"../helpers/node\");\n\nconst {\n  retarget\n} = require(\"../helpers/shadow-dom\");\n\nclass DocumentOrShadowRootImpl {\n  get activeElement() {\n    let candidate = this._ownerDocument._lastFocusedElement || this._ownerDocument.body;\n\n    if (!candidate) {\n      return null;\n    }\n\n    candidate = retarget(candidate, this);\n\n    if (nodeRoot(candidate) !== this) {\n      return null;\n    }\n\n    if (candidate.nodeType !== NODE_TYPE.DOCUMENT_NODE) {\n      return candidate;\n    }\n\n    if (candidate.body !== null) {\n      return candidate.body;\n    }\n\n    return candidate.documentElement;\n  }\n\n}\n\nmodule.exports = {\n  implementation: DocumentOrShadowRootImpl\n};","map":{"version":3,"names":["NODE_TYPE","require","nodeRoot","retarget","DocumentOrShadowRootImpl","activeElement","candidate","_ownerDocument","_lastFocusedElement","body","nodeType","DOCUMENT_NODE","documentElement","module","exports","implementation"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/nodes/DocumentOrShadowRoot-impl.js"],"sourcesContent":["\"use strict\";\nconst NODE_TYPE = require(\"../node-type\");\nconst { nodeRoot } = require(\"../helpers/node\");\nconst { retarget } = require(\"../helpers/shadow-dom\");\n\nclass DocumentOrShadowRootImpl {\n  get activeElement() {\n    let candidate = this._ownerDocument._lastFocusedElement || this._ownerDocument.body;\n    if (!candidate) {\n      return null;\n    }\n    candidate = retarget(candidate, this);\n    if (nodeRoot(candidate) !== this) {\n      return null;\n    }\n    if (candidate.nodeType !== NODE_TYPE.DOCUMENT_NODE) {\n      return candidate;\n    }\n    if (candidate.body !== null) {\n      return candidate.body;\n    }\n    return candidate.documentElement;\n  }\n}\n\nmodule.exports = {\n  implementation: DocumentOrShadowRootImpl\n};\n"],"mappings":"AAAA;;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AACA,MAAM;EAAEC;AAAF,IAAeD,OAAO,CAAC,iBAAD,CAA5B;;AACA,MAAM;EAAEE;AAAF,IAAeF,OAAO,CAAC,uBAAD,CAA5B;;AAEA,MAAMG,wBAAN,CAA+B;EACZ,IAAbC,aAAa,GAAG;IAClB,IAAIC,SAAS,GAAG,KAAKC,cAAL,CAAoBC,mBAApB,IAA2C,KAAKD,cAAL,CAAoBE,IAA/E;;IACA,IAAI,CAACH,SAAL,EAAgB;MACd,OAAO,IAAP;IACD;;IACDA,SAAS,GAAGH,QAAQ,CAACG,SAAD,EAAY,IAAZ,CAApB;;IACA,IAAIJ,QAAQ,CAACI,SAAD,CAAR,KAAwB,IAA5B,EAAkC;MAChC,OAAO,IAAP;IACD;;IACD,IAAIA,SAAS,CAACI,QAAV,KAAuBV,SAAS,CAACW,aAArC,EAAoD;MAClD,OAAOL,SAAP;IACD;;IACD,IAAIA,SAAS,CAACG,IAAV,KAAmB,IAAvB,EAA6B;MAC3B,OAAOH,SAAS,CAACG,IAAjB;IACD;;IACD,OAAOH,SAAS,CAACM,eAAjB;EACD;;AAjB4B;;AAoB/BC,MAAM,CAACC,OAAP,GAAiB;EACfC,cAAc,EAAEX;AADD,CAAjB"},"metadata":{},"sourceType":"script"}