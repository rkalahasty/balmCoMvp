{"ast":null,"code":"\"use strict\";\n\nconst MIMEType = require(\"whatwg-mimetype\");\n\nconst PRIVILEGED_NO_CORS_REQUEST = new Set([\"range\"]);\n\nfunction isPrivilegedNoCORSRequest(name) {\n  return PRIVILEGED_NO_CORS_REQUEST.has(name.toLowerCase());\n}\n\nconst NO_CORS_SAFELISTED_REQUEST = new Set([`accept`, `accept-language`, `content-language`, `content-type`]);\n\nfunction isNoCORSSafelistedRequest(name) {\n  return NO_CORS_SAFELISTED_REQUEST.has(name.toLowerCase());\n}\n\nconst FORBIDDEN = new Set([`accept-charset`, `accept-encoding`, `access-control-request-headers`, `access-control-request-method`, `connection`, `content-length`, `cookie`, `cookie2`, `date`, `dnt`, `expect`, `host`, `keep-alive`, `origin`, `referer`, `te`, `trailer`, `transfer-encoding`, `upgrade`, `via`]);\n\nfunction isForbidden(name) {\n  name = name.toLowerCase();\n  return FORBIDDEN.has(name) || name.startsWith(\"proxy-\") || name.startsWith(\"sec-\");\n}\n\nconst FORBIDDEN_RESPONSE = new Set([\"set-cookie\", \"set-cookie2\"]);\n\nfunction isForbiddenResponse(name) {\n  return FORBIDDEN_RESPONSE.has(name.toLowerCase());\n}\n\nconst CORS_UNSAFE_BYTE = /[\\x00-\\x08\\x0A-\\x1F\"():<>?@[\\\\\\]{}\\x7F]/;\n\nfunction isCORSWhitelisted(name, value) {\n  name = name.toLowerCase();\n\n  switch (name) {\n    case \"accept\":\n      if (value.match(CORS_UNSAFE_BYTE)) {\n        return false;\n      }\n\n      break;\n\n    case \"accept-language\":\n    case \"content-language\":\n      if (value.match(/[^\\x30-\\x39\\x41-\\x5A\\x61-\\x7A *,\\-.;=]/)) {\n        return false;\n      }\n\n      break;\n\n    case \"content-type\":\n      {\n        if (value.match(CORS_UNSAFE_BYTE)) {\n          return false;\n        }\n\n        const mimeType = MIMEType.parse(value);\n\n        if (mimeType === null) {\n          return false;\n        }\n\n        if (![\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"].includes(mimeType.essence)) {\n          return false;\n        }\n\n        break;\n      }\n\n    default:\n      return false;\n  }\n\n  if (Buffer.from(value).length > 128) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isPrivilegedNoCORSRequest,\n  isNoCORSSafelistedRequest,\n  isForbidden,\n  isForbiddenResponse,\n  isCORSWhitelisted\n};","map":{"version":3,"names":["MIMEType","require","PRIVILEGED_NO_CORS_REQUEST","Set","isPrivilegedNoCORSRequest","name","has","toLowerCase","NO_CORS_SAFELISTED_REQUEST","isNoCORSSafelistedRequest","FORBIDDEN","isForbidden","startsWith","FORBIDDEN_RESPONSE","isForbiddenResponse","CORS_UNSAFE_BYTE","isCORSWhitelisted","value","match","mimeType","parse","includes","essence","Buffer","from","length","module","exports"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/fetch/header-types.js"],"sourcesContent":["\"use strict\";\n\nconst MIMEType = require(\"whatwg-mimetype\");\n\nconst PRIVILEGED_NO_CORS_REQUEST = new Set([\"range\"]);\nfunction isPrivilegedNoCORSRequest(name) {\n  return PRIVILEGED_NO_CORS_REQUEST.has(name.toLowerCase());\n}\n\nconst NO_CORS_SAFELISTED_REQUEST = new Set([\n  `accept`,\n  `accept-language`,\n  `content-language`,\n  `content-type`\n]);\nfunction isNoCORSSafelistedRequest(name) {\n  return NO_CORS_SAFELISTED_REQUEST.has(name.toLowerCase());\n}\n\nconst FORBIDDEN = new Set([\n  `accept-charset`,\n  `accept-encoding`,\n  `access-control-request-headers`,\n  `access-control-request-method`,\n  `connection`,\n  `content-length`,\n  `cookie`,\n  `cookie2`,\n  `date`,\n  `dnt`,\n  `expect`,\n  `host`,\n  `keep-alive`,\n  `origin`,\n  `referer`,\n  `te`,\n  `trailer`,\n  `transfer-encoding`,\n  `upgrade`,\n  `via`\n]);\nfunction isForbidden(name) {\n  name = name.toLowerCase();\n  return (\n    FORBIDDEN.has(name) || name.startsWith(\"proxy-\") || name.startsWith(\"sec-\")\n  );\n}\n\nconst FORBIDDEN_RESPONSE = new Set([\"set-cookie\", \"set-cookie2\"]);\nfunction isForbiddenResponse(name) {\n  return FORBIDDEN_RESPONSE.has(name.toLowerCase());\n}\n\nconst CORS_UNSAFE_BYTE = /[\\x00-\\x08\\x0A-\\x1F\"():<>?@[\\\\\\]{}\\x7F]/;\nfunction isCORSWhitelisted(name, value) {\n  name = name.toLowerCase();\n  switch (name) {\n    case \"accept\":\n      if (value.match(CORS_UNSAFE_BYTE)) {\n        return false;\n      }\n      break;\n    case \"accept-language\":\n    case \"content-language\":\n      if (value.match(/[^\\x30-\\x39\\x41-\\x5A\\x61-\\x7A *,\\-.;=]/)) {\n        return false;\n      }\n      break;\n    case \"content-type\": {\n      if (value.match(CORS_UNSAFE_BYTE)) {\n        return false;\n      }\n      const mimeType = MIMEType.parse(value);\n      if (mimeType === null) {\n        return false;\n      }\n      if (\n        ![\n          \"application/x-www-form-urlencoded\",\n          \"multipart/form-data\",\n          \"text/plain\"\n        ].includes(mimeType.essence)\n      ) {\n        return false;\n      }\n      break;\n    }\n    default:\n      return false;\n  }\n  if (Buffer.from(value).length > 128) {\n    return false;\n  }\n  return true;\n}\n\nmodule.exports = {\n  isPrivilegedNoCORSRequest,\n  isNoCORSSafelistedRequest,\n  isForbidden,\n  isForbiddenResponse,\n  isCORSWhitelisted\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}