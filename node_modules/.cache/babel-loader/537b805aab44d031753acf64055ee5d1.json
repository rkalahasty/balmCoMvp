{"ast":null,"code":"\"use strict\";\n\nconst parse = require(\"./parser.js\");\n\nconst serialize = require(\"./serializer.js\");\n\nconst {\n  asciiLowercase,\n  solelyContainsHTTPTokenCodePoints,\n  soleyContainsHTTPQuotedStringTokenCodePoints\n} = require(\"./utils.js\");\n\nmodule.exports = class MIMEType {\n  constructor(string) {\n    string = String(string);\n    const result = parse(string);\n\n    if (result === null) {\n      throw new Error(`Could not parse MIME type string \"${string}\"`);\n    }\n\n    this._type = result.type;\n    this._subtype = result.subtype;\n    this._parameters = new MIMETypeParameters(result.parameters);\n  }\n\n  static parse(string) {\n    try {\n      return new this(string);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  get essence() {\n    return `${this.type}/${this.subtype}`;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(value) {\n    value = asciiLowercase(String(value));\n\n    if (value.length === 0) {\n      throw new Error(\"Invalid type: must be a non-empty string\");\n    }\n\n    if (!solelyContainsHTTPTokenCodePoints(value)) {\n      throw new Error(`Invalid type ${value}: must contain only HTTP token code points`);\n    }\n\n    this._type = value;\n  }\n\n  get subtype() {\n    return this._subtype;\n  }\n\n  set subtype(value) {\n    value = asciiLowercase(String(value));\n\n    if (value.length === 0) {\n      throw new Error(\"Invalid subtype: must be a non-empty string\");\n    }\n\n    if (!solelyContainsHTTPTokenCodePoints(value)) {\n      throw new Error(`Invalid subtype ${value}: must contain only HTTP token code points`);\n    }\n\n    this._subtype = value;\n  }\n\n  get parameters() {\n    return this._parameters;\n  }\n\n  toString() {\n    // The serialize function works on both \"MIME type records\" (i.e. the results of parse) and on this class, since\n    // this class's interface is identical.\n    return serialize(this);\n  }\n\n  isJavaScript() {\n    let {\n      allowParameters = false\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    switch (this._type) {\n      case \"text\":\n        {\n          switch (this._subtype) {\n            case \"ecmascript\":\n            case \"javascript\":\n            case \"javascript1.0\":\n            case \"javascript1.1\":\n            case \"javascript1.2\":\n            case \"javascript1.3\":\n            case \"javascript1.4\":\n            case \"javascript1.5\":\n            case \"jscript\":\n            case \"livescript\":\n            case \"x-ecmascript\":\n            case \"x-javascript\":\n              {\n                return allowParameters || this._parameters.size === 0;\n              }\n\n            default:\n              {\n                return false;\n              }\n          }\n        }\n\n      case \"application\":\n        {\n          switch (this._subtype) {\n            case \"ecmascript\":\n            case \"javascript\":\n            case \"x-ecmascript\":\n            case \"x-javascript\":\n              {\n                return allowParameters || this._parameters.size === 0;\n              }\n\n            default:\n              {\n                return false;\n              }\n          }\n        }\n\n      default:\n        {\n          return false;\n        }\n    }\n  }\n\n  isXML() {\n    return this._subtype === \"xml\" && (this._type === \"text\" || this._type === \"application\") || this._subtype.endsWith(\"+xml\");\n  }\n\n  isHTML() {\n    return this._subtype === \"html\" && this._type === \"text\";\n  }\n\n};\n\nclass MIMETypeParameters {\n  constructor(map) {\n    this._map = map;\n  }\n\n  get size() {\n    return this._map.size;\n  }\n\n  get(name) {\n    name = asciiLowercase(String(name));\n    return this._map.get(name);\n  }\n\n  has(name) {\n    name = asciiLowercase(String(name));\n    return this._map.has(name);\n  }\n\n  set(name, value) {\n    name = asciiLowercase(String(name));\n    value = String(value);\n\n    if (!solelyContainsHTTPTokenCodePoints(name)) {\n      throw new Error(`Invalid MIME type parameter name \"${name}\": only HTTP token code points are valid.`);\n    }\n\n    if (!soleyContainsHTTPQuotedStringTokenCodePoints(value)) {\n      throw new Error(`Invalid MIME type parameter value \"${value}\": only HTTP quoted-string token code points are ` + `valid.`);\n    }\n\n    return this._map.set(name, value);\n  }\n\n  clear() {\n    this._map.clear();\n  }\n\n  delete(name) {\n    name = asciiLowercase(String(name));\n    return this._map.delete(name);\n  }\n\n  forEach(callbackFn, thisArg) {\n    this._map.forEach(callbackFn, thisArg);\n  }\n\n  keys() {\n    return this._map.keys();\n  }\n\n  values() {\n    return this._map.values();\n  }\n\n  entries() {\n    return this._map.entries();\n  }\n\n  [Symbol.iterator]() {\n    return this._map[Symbol.iterator]();\n  }\n\n}","map":{"version":3,"names":["parse","require","serialize","asciiLowercase","solelyContainsHTTPTokenCodePoints","soleyContainsHTTPQuotedStringTokenCodePoints","module","exports","MIMEType","constructor","string","String","result","Error","_type","type","_subtype","subtype","_parameters","MIMETypeParameters","parameters","e","essence","value","length","toString","isJavaScript","allowParameters","size","isXML","endsWith","isHTML","map","_map","get","name","has","set","clear","delete","forEach","callbackFn","thisArg","keys","values","entries","Symbol","iterator"],"sources":["C:/Users/17033/balmco/node_modules/whatwg-mimetype/lib/mime-type.js"],"sourcesContent":["\"use strict\";\nconst parse = require(\"./parser.js\");\nconst serialize = require(\"./serializer.js\");\nconst {\n  asciiLowercase,\n  solelyContainsHTTPTokenCodePoints,\n  soleyContainsHTTPQuotedStringTokenCodePoints\n} = require(\"./utils.js\");\n\nmodule.exports = class MIMEType {\n  constructor(string) {\n    string = String(string);\n    const result = parse(string);\n    if (result === null) {\n      throw new Error(`Could not parse MIME type string \"${string}\"`);\n    }\n\n    this._type = result.type;\n    this._subtype = result.subtype;\n    this._parameters = new MIMETypeParameters(result.parameters);\n  }\n\n  static parse(string) {\n    try {\n      return new this(string);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  get essence() {\n    return `${this.type}/${this.subtype}`;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(value) {\n    value = asciiLowercase(String(value));\n\n    if (value.length === 0) {\n      throw new Error(\"Invalid type: must be a non-empty string\");\n    }\n    if (!solelyContainsHTTPTokenCodePoints(value)) {\n      throw new Error(`Invalid type ${value}: must contain only HTTP token code points`);\n    }\n\n    this._type = value;\n  }\n\n  get subtype() {\n    return this._subtype;\n  }\n\n  set subtype(value) {\n    value = asciiLowercase(String(value));\n\n    if (value.length === 0) {\n      throw new Error(\"Invalid subtype: must be a non-empty string\");\n    }\n    if (!solelyContainsHTTPTokenCodePoints(value)) {\n      throw new Error(`Invalid subtype ${value}: must contain only HTTP token code points`);\n    }\n\n    this._subtype = value;\n  }\n\n  get parameters() {\n    return this._parameters;\n  }\n\n  toString() {\n    // The serialize function works on both \"MIME type records\" (i.e. the results of parse) and on this class, since\n    // this class's interface is identical.\n    return serialize(this);\n  }\n\n  isJavaScript({ allowParameters = false } = {}) {\n    switch (this._type) {\n      case \"text\": {\n        switch (this._subtype) {\n          case \"ecmascript\":\n          case \"javascript\":\n          case \"javascript1.0\":\n          case \"javascript1.1\":\n          case \"javascript1.2\":\n          case \"javascript1.3\":\n          case \"javascript1.4\":\n          case \"javascript1.5\":\n          case \"jscript\":\n          case \"livescript\":\n          case \"x-ecmascript\":\n          case \"x-javascript\": {\n            return allowParameters || this._parameters.size === 0;\n          }\n          default: {\n            return false;\n          }\n        }\n      }\n      case \"application\": {\n        switch (this._subtype) {\n          case \"ecmascript\":\n          case \"javascript\":\n          case \"x-ecmascript\":\n          case \"x-javascript\": {\n            return allowParameters || this._parameters.size === 0;\n          }\n          default: {\n            return false;\n          }\n        }\n      }\n      default: {\n        return false;\n      }\n    }\n  }\n  isXML() {\n    return (this._subtype === \"xml\" && (this._type === \"text\" || this._type === \"application\")) ||\n           this._subtype.endsWith(\"+xml\");\n  }\n  isHTML() {\n    return this._subtype === \"html\" && this._type === \"text\";\n  }\n};\n\nclass MIMETypeParameters {\n  constructor(map) {\n    this._map = map;\n  }\n\n  get size() {\n    return this._map.size;\n  }\n\n  get(name) {\n    name = asciiLowercase(String(name));\n    return this._map.get(name);\n  }\n\n  has(name) {\n    name = asciiLowercase(String(name));\n    return this._map.has(name);\n  }\n\n  set(name, value) {\n    name = asciiLowercase(String(name));\n    value = String(value);\n\n    if (!solelyContainsHTTPTokenCodePoints(name)) {\n      throw new Error(`Invalid MIME type parameter name \"${name}\": only HTTP token code points are valid.`);\n    }\n    if (!soleyContainsHTTPQuotedStringTokenCodePoints(value)) {\n      throw new Error(`Invalid MIME type parameter value \"${value}\": only HTTP quoted-string token code points are ` +\n                      `valid.`);\n    }\n\n    return this._map.set(name, value);\n  }\n\n  clear() {\n    this._map.clear();\n  }\n\n  delete(name) {\n    name = asciiLowercase(String(name));\n    return this._map.delete(name);\n  }\n\n  forEach(callbackFn, thisArg) {\n    this._map.forEach(callbackFn, thisArg);\n  }\n\n  keys() {\n    return this._map.keys();\n  }\n\n  values() {\n    return this._map.values();\n  }\n\n  entries() {\n    return this._map.entries();\n  }\n\n  [Symbol.iterator]() {\n    return this._map[Symbol.iterator]();\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}