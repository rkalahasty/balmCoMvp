{"ast":null,"code":"\"use strict\";\n\nconst FocusEvent = require(\"../generated/FocusEvent.js\");\n\nconst idlUtils = require(\"../generated/utils.js\");\n\nconst {\n  isDisabled\n} = require(\"./form-controls.js\");\n\nconst {\n  firstChildWithLocalName\n} = require(\"./traversal\");\n\nconst {\n  createAnEvent\n} = require(\"./events\");\n\nconst {\n  HTML_NS,\n  SVG_NS\n} = require(\"./namespaces\");\n\nconst {\n  isRenderedElement\n} = require(\"./svg/render\");\n\nconst focusableFormElements = new Set([\"input\", \"select\", \"textarea\", \"button\"]); // https://html.spec.whatwg.org/multipage/interaction.html#focusable-area, but also some of\n// https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps and some of\n// https://svgwg.org/svg2-draft/interact.html#TermFocusable\n\nexports.isFocusableAreaElement = elImpl => {\n  // We implemented most of the suggested focusable elements found here:\n  // https://html.spec.whatwg.org/multipage/interaction.html#tabindex-value\n  // However, some suggested elements are not focusable in web browsers, as detailed here:\n  // https://github.com/whatwg/html/issues/5490\n  if (elImpl._namespaceURI === HTML_NS) {\n    if (!elImpl._ownerDocument._defaultView) {\n      return false;\n    }\n\n    if (!elImpl.isConnected) {\n      return false;\n    }\n\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\")))) {\n      return true;\n    }\n\n    if (elImpl._localName === \"iframe\") {\n      return true;\n    }\n\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\n      return true;\n    }\n\n    if (elImpl._localName === \"summary\" && elImpl.parentNode && elImpl.parentNode._localName === \"details\" && elImpl === firstChildWithLocalName(elImpl.parentNode, \"summary\")) {\n      return true;\n    }\n\n    if (focusableFormElements.has(elImpl._localName) && !isDisabled(elImpl)) {\n      if (elImpl._localName === \"input\" && elImpl.type === \"hidden\") {\n        return false;\n      }\n\n      return true;\n    }\n\n    if (elImpl.hasAttributeNS(null, \"contenteditable\")) {\n      return true;\n    }\n\n    return false; // This does not check for a designMode Document as specified in\n    // https://html.spec.whatwg.org/multipage/interaction.html#editing-host because the designMode\n    // attribute is not implemented.\n  }\n\n  if (elImpl._namespaceURI === SVG_NS) {\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\"))) && isRenderedElement(elImpl)) {\n      return true;\n    }\n\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\n      return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}; // https://html.spec.whatwg.org/multipage/interaction.html#fire-a-focus-event plus the steps of\n// https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps that adjust Documents to Windows\n// It's extended with the bubbles option to also handle focusin/focusout, which are \"defined\" in\n// https://w3c.github.io/uievents/#event-type-focusin. See https://github.com/whatwg/html/issues/3514.\n\n\nexports.fireFocusEventWithTargetAdjustment = function (name, target, relatedTarget) {\n  let {\n    bubbles = false\n  } = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (target === null) {\n    // E.g. firing blur with nothing previously focused.\n    return;\n  }\n\n  const event = createAnEvent(name, target._globalObject, FocusEvent, {\n    bubbles,\n    composed: true,\n    relatedTarget,\n    view: target._ownerDocument._defaultView,\n    detail: 0\n  });\n\n  if (target._defaultView) {\n    target = idlUtils.implForWrapper(target._defaultView);\n  }\n\n  target._dispatch(event);\n};","map":{"version":3,"names":["FocusEvent","require","idlUtils","isDisabled","firstChildWithLocalName","createAnEvent","HTML_NS","SVG_NS","isRenderedElement","focusableFormElements","Set","exports","isFocusableAreaElement","elImpl","_namespaceURI","_ownerDocument","_defaultView","isConnected","Number","isNaN","parseInt","getAttributeNS","_localName","hasAttributeNS","parentNode","has","type","fireFocusEventWithTargetAdjustment","name","target","relatedTarget","bubbles","event","_globalObject","composed","view","detail","implForWrapper","_dispatch"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/helpers/focusing.js"],"sourcesContent":["\"use strict\";\nconst FocusEvent = require(\"../generated/FocusEvent.js\");\nconst idlUtils = require(\"../generated/utils.js\");\nconst { isDisabled } = require(\"./form-controls.js\");\nconst { firstChildWithLocalName } = require(\"./traversal\");\nconst { createAnEvent } = require(\"./events\");\nconst { HTML_NS, SVG_NS } = require(\"./namespaces\");\nconst { isRenderedElement } = require(\"./svg/render\");\n\nconst focusableFormElements = new Set([\"input\", \"select\", \"textarea\", \"button\"]);\n\n// https://html.spec.whatwg.org/multipage/interaction.html#focusable-area, but also some of\n// https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps and some of\n// https://svgwg.org/svg2-draft/interact.html#TermFocusable\nexports.isFocusableAreaElement = elImpl => {\n  // We implemented most of the suggested focusable elements found here:\n  // https://html.spec.whatwg.org/multipage/interaction.html#tabindex-value\n  // However, some suggested elements are not focusable in web browsers, as detailed here:\n  // https://github.com/whatwg/html/issues/5490\n  if (elImpl._namespaceURI === HTML_NS) {\n    if (!elImpl._ownerDocument._defaultView) {\n      return false;\n    }\n\n    if (!elImpl.isConnected) {\n      return false;\n    }\n\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\")))) {\n      return true;\n    }\n\n    if (elImpl._localName === \"iframe\") {\n      return true;\n    }\n\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\n      return true;\n    }\n\n    if (elImpl._localName === \"summary\" && elImpl.parentNode &&\n        elImpl.parentNode._localName === \"details\" &&\n        elImpl === firstChildWithLocalName(elImpl.parentNode, \"summary\")) {\n      return true;\n    }\n\n    if (focusableFormElements.has(elImpl._localName) && !isDisabled(elImpl)) {\n      if (elImpl._localName === \"input\" && elImpl.type === \"hidden\") {\n        return false;\n      }\n\n      return true;\n    }\n\n    if (elImpl.hasAttributeNS(null, \"contenteditable\")) {\n      return true;\n    }\n\n    return false;\n\n    // This does not check for a designMode Document as specified in\n    // https://html.spec.whatwg.org/multipage/interaction.html#editing-host because the designMode\n    // attribute is not implemented.\n  }\n\n  if (elImpl._namespaceURI === SVG_NS) {\n    if (!Number.isNaN(parseInt(elImpl.getAttributeNS(null, \"tabindex\"))) && isRenderedElement(elImpl)) {\n      return true;\n    }\n\n    if (elImpl._localName === \"a\" && elImpl.hasAttributeNS(null, \"href\")) {\n      return true;\n    }\n\n    return false;\n  }\n\n  return false;\n};\n\n// https://html.spec.whatwg.org/multipage/interaction.html#fire-a-focus-event plus the steps of\n// https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps that adjust Documents to Windows\n// It's extended with the bubbles option to also handle focusin/focusout, which are \"defined\" in\n// https://w3c.github.io/uievents/#event-type-focusin. See https://github.com/whatwg/html/issues/3514.\nexports.fireFocusEventWithTargetAdjustment = (name, target, relatedTarget, { bubbles = false } = {}) => {\n  if (target === null) {\n    // E.g. firing blur with nothing previously focused.\n    return;\n  }\n\n  const event = createAnEvent(name, target._globalObject, FocusEvent, {\n    bubbles,\n    composed: true,\n    relatedTarget,\n    view: target._ownerDocument._defaultView,\n    detail: 0\n  });\n\n  if (target._defaultView) {\n    target = idlUtils.implForWrapper(target._defaultView);\n  }\n\n  target._dispatch(event);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}