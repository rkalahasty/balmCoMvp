{"ast":null,"code":"\"use strict\"; // An iterable WeakSet implementation inspired by the iterable WeakMap example code in the WeakRefs specification:\n// https://github.com/tc39/proposal-weakrefs#iterable-weakmaps\n\nmodule.exports = class IterableWeakSet {\n  constructor() {\n    this._refSet = new Set();\n    this._refMap = new WeakMap();\n    this._finalizationRegistry = new FinalizationRegistry(_ref => {\n      let {\n        ref,\n        set\n      } = _ref;\n      return set.delete(ref);\n    });\n  }\n\n  add(value) {\n    if (!this._refMap.has(value)) {\n      const ref = new WeakRef(value);\n\n      this._refMap.set(value, ref);\n\n      this._refSet.add(ref);\n\n      this._finalizationRegistry.register(value, {\n        ref,\n        set: this._refSet\n      }, ref);\n    }\n\n    return this;\n  }\n\n  delete(value) {\n    const ref = this._refMap.get(value);\n\n    if (!ref) {\n      return false;\n    }\n\n    this._refMap.delete(value);\n\n    this._refSet.delete(ref);\n\n    this._finalizationRegistry.unregister(ref);\n\n    return true;\n  }\n\n  has(value) {\n    return this._refMap.has(value);\n  }\n\n  *[Symbol.iterator]() {\n    for (const ref of this._refSet) {\n      const value = ref.deref();\n\n      if (value === undefined) {\n        continue;\n      }\n\n      yield value;\n    }\n  }\n\n};","map":{"version":3,"names":["module","exports","IterableWeakSet","constructor","_refSet","Set","_refMap","WeakMap","_finalizationRegistry","FinalizationRegistry","ref","set","delete","add","value","has","WeakRef","register","get","unregister","Symbol","iterator","deref","undefined"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/helpers/iterable-weak-set.js"],"sourcesContent":["\"use strict\";\n\n// An iterable WeakSet implementation inspired by the iterable WeakMap example code in the WeakRefs specification:\n// https://github.com/tc39/proposal-weakrefs#iterable-weakmaps\nmodule.exports = class IterableWeakSet {\n  constructor() {\n    this._refSet = new Set();\n    this._refMap = new WeakMap();\n    this._finalizationRegistry = new FinalizationRegistry(({ ref, set }) => set.delete(ref));\n  }\n\n  add(value) {\n    if (!this._refMap.has(value)) {\n      const ref = new WeakRef(value);\n      this._refMap.set(value, ref);\n      this._refSet.add(ref);\n      this._finalizationRegistry.register(value, { ref, set: this._refSet }, ref);\n    }\n\n    return this;\n  }\n\n  delete(value) {\n    const ref = this._refMap.get(value);\n    if (!ref) {\n      return false;\n    }\n\n    this._refMap.delete(value);\n    this._refSet.delete(ref);\n    this._finalizationRegistry.unregister(ref);\n    return true;\n  }\n\n  has(value) {\n    return this._refMap.has(value);\n  }\n\n  * [Symbol.iterator]() {\n    for (const ref of this._refSet) {\n      const value = ref.deref();\n      if (value === undefined) {\n        continue;\n      }\n      yield value;\n    }\n  }\n};\n"],"mappings":"AAAA,a,CAEA;AACA;;AACAA,MAAM,CAACC,OAAP,GAAiB,MAAMC,eAAN,CAAsB;EACrCC,WAAW,GAAG;IACZ,KAAKC,OAAL,GAAe,IAAIC,GAAJ,EAAf;IACA,KAAKC,OAAL,GAAe,IAAIC,OAAJ,EAAf;IACA,KAAKC,qBAAL,GAA6B,IAAIC,oBAAJ,CAAyB;MAAA,IAAC;QAAEC,GAAF;QAAOC;MAAP,CAAD;MAAA,OAAkBA,GAAG,CAACC,MAAJ,CAAWF,GAAX,CAAlB;IAAA,CAAzB,CAA7B;EACD;;EAEDG,GAAG,CAACC,KAAD,EAAQ;IACT,IAAI,CAAC,KAAKR,OAAL,CAAaS,GAAb,CAAiBD,KAAjB,CAAL,EAA8B;MAC5B,MAAMJ,GAAG,GAAG,IAAIM,OAAJ,CAAYF,KAAZ,CAAZ;;MACA,KAAKR,OAAL,CAAaK,GAAb,CAAiBG,KAAjB,EAAwBJ,GAAxB;;MACA,KAAKN,OAAL,CAAaS,GAAb,CAAiBH,GAAjB;;MACA,KAAKF,qBAAL,CAA2BS,QAA3B,CAAoCH,KAApC,EAA2C;QAAEJ,GAAF;QAAOC,GAAG,EAAE,KAAKP;MAAjB,CAA3C,EAAuEM,GAAvE;IACD;;IAED,OAAO,IAAP;EACD;;EAEDE,MAAM,CAACE,KAAD,EAAQ;IACZ,MAAMJ,GAAG,GAAG,KAAKJ,OAAL,CAAaY,GAAb,CAAiBJ,KAAjB,CAAZ;;IACA,IAAI,CAACJ,GAAL,EAAU;MACR,OAAO,KAAP;IACD;;IAED,KAAKJ,OAAL,CAAaM,MAAb,CAAoBE,KAApB;;IACA,KAAKV,OAAL,CAAaQ,MAAb,CAAoBF,GAApB;;IACA,KAAKF,qBAAL,CAA2BW,UAA3B,CAAsCT,GAAtC;;IACA,OAAO,IAAP;EACD;;EAEDK,GAAG,CAACD,KAAD,EAAQ;IACT,OAAO,KAAKR,OAAL,CAAaS,GAAb,CAAiBD,KAAjB,CAAP;EACD;;EAEiB,EAAfM,MAAM,CAACC,QAAQ,IAAI;IACpB,KAAK,MAAMX,GAAX,IAAkB,KAAKN,OAAvB,EAAgC;MAC9B,MAAMU,KAAK,GAAGJ,GAAG,CAACY,KAAJ,EAAd;;MACA,IAAIR,KAAK,KAAKS,SAAd,EAAyB;QACvB;MACD;;MACD,MAAMT,KAAN;IACD;EACF;;AA1CoC,CAAvC"},"metadata":{},"sourceType":"script"}