{"ast":null,"code":"\"use strict\";\n\nconst whatwgURL = require(\"whatwg-url\");\n\nconst {\n  parseURLToResultingURLRecord\n} = require(\"../helpers/document-base-url\");\n\nconst {\n  asciiCaseInsensitiveMatch\n} = require(\"../helpers/strings\");\n\nconst {\n  navigate\n} = require(\"../window/navigation\");\n\nexports.implementation = class HTMLHyperlinkElementUtilsImpl {\n  _htmlHyperlinkElementUtilsSetup() {\n    this.url = null;\n  } // https://html.spec.whatwg.org/multipage/links.html#cannot-navigate\n\n\n  _cannotNavigate() {\n    // TODO: Correctly check if the document is fully active\n    return this._localName !== \"a\" && !this.isConnected;\n  } // https://html.spec.whatwg.org/multipage/semantics.html#get-an-element's-target\n\n\n  _getAnElementsTarget() {\n    if (this.hasAttributeNS(null, \"target\")) {\n      return this.getAttributeNS(null, \"target\");\n    }\n\n    const baseEl = this._ownerDocument.querySelector(\"base[target]\");\n\n    if (baseEl) {\n      return baseEl.getAttributeNS(null, \"target\");\n    }\n\n    return \"\";\n  } // https://html.spec.whatwg.org/multipage/browsers.html#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name\n\n\n  _chooseABrowsingContext(name, current) {\n    let chosen = null;\n\n    if (name === \"\" || asciiCaseInsensitiveMatch(name, \"_self\")) {\n      chosen = current;\n    } else if (asciiCaseInsensitiveMatch(name, \"_parent\")) {\n      chosen = current.parent;\n    } else if (asciiCaseInsensitiveMatch(name, \"_top\")) {\n      chosen = current.top;\n    } else if (!asciiCaseInsensitiveMatch(name, \"_blank\")) {// https://github.com/whatwg/html/issues/1440\n    } // TODO: Create new browsing context, handle noopener\n\n\n    return chosen;\n  } // https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2\n\n\n  _followAHyperlink() {\n    if (this._cannotNavigate()) {\n      return;\n    }\n\n    const source = this._ownerDocument._defaultView;\n    let targetAttributeValue = \"\";\n\n    if (this._localName === \"a\" || this._localName === \"area\") {\n      targetAttributeValue = this._getAnElementsTarget();\n    }\n\n    const noopener = this.relList.contains(\"noreferrer\") || this.relList.contains(\"noopener\");\n\n    const target = this._chooseABrowsingContext(targetAttributeValue, source, noopener);\n\n    if (target === null) {\n      return;\n    }\n\n    const url = parseURLToResultingURLRecord(this.href, this._ownerDocument);\n\n    if (url === null) {\n      return;\n    } // TODO: Handle hyperlink suffix and referrerpolicy\n\n\n    setTimeout(() => {\n      navigate(target, url, {});\n    }, 0);\n  }\n\n  toString() {\n    return this.href;\n  }\n\n  get href() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null) {\n      const href = this.getAttributeNS(null, \"href\");\n      return href === null ? \"\" : href;\n    }\n\n    return whatwgURL.serializeURL(url);\n  }\n\n  set href(v) {\n    this.setAttributeNS(null, \"href\", v);\n  }\n\n  get origin() {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return \"\";\n    }\n\n    return whatwgURL.serializeURLOrigin(this.url);\n  }\n\n  get protocol() {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return \":\";\n    }\n\n    return this.url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return;\n    }\n\n    whatwgURL.basicURLParse(v + \":\", {\n      url: this.url,\n      stateOverride: \"scheme start\"\n    });\n    updateHref(this);\n  }\n\n  get username() {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return \"\";\n    }\n\n    return this.url.username;\n  }\n\n  set username(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\") {\n      return;\n    }\n\n    whatwgURL.setTheUsername(url, v);\n    updateHref(this);\n  }\n\n  get password() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null) {\n      return \"\";\n    }\n\n    return url.password;\n  }\n\n  set password(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\") {\n      return;\n    }\n\n    whatwgURL.setThePassword(url, v);\n    updateHref(this);\n  }\n\n  get host() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return whatwgURL.serializeHost(url.host);\n    }\n\n    return whatwgURL.serializeHost(url.host) + \":\" + whatwgURL.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.cannotBeABaseURL) {\n      return;\n    }\n\n    whatwgURL.basicURLParse(v, {\n      url,\n      stateOverride: \"host\"\n    });\n    updateHref(this);\n  }\n\n  get hostname() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.host === null) {\n      return \"\";\n    }\n\n    return whatwgURL.serializeHost(url.host);\n  }\n\n  set hostname(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.cannotBeABaseURL) {\n      return;\n    }\n\n    whatwgURL.basicURLParse(v, {\n      url,\n      stateOverride: \"hostname\"\n    });\n    updateHref(this);\n  }\n\n  get port() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.port === null) {\n      return \"\";\n    }\n\n    return whatwgURL.serializeInteger(url.port);\n  }\n\n  set port(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\") {\n      return;\n    }\n\n    if (v === \"\") {\n      url.port = null;\n    } else {\n      whatwgURL.basicURLParse(v, {\n        url,\n        stateOverride: \"port\"\n      });\n    }\n\n    updateHref(this);\n  }\n\n  get pathname() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null) {\n      return \"\";\n    }\n\n    if (url.cannotBeABaseURL) {\n      return url.path[0];\n    }\n\n    return \"/\" + url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.cannotBeABaseURL) {\n      return;\n    }\n\n    url.path = [];\n    whatwgURL.basicURLParse(v, {\n      url,\n      stateOverride: \"path start\"\n    });\n    updateHref(this);\n  }\n\n  get search() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.query === null || url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + url.query;\n  }\n\n  set search(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null) {\n      return;\n    }\n\n    if (v === \"\") {\n      url.query = null;\n    } else {\n      const input = v[0] === \"?\" ? v.substring(1) : v;\n      url.query = \"\";\n      whatwgURL.basicURLParse(input, {\n        url,\n        stateOverride: \"query\",\n        encodingOverride: this._ownerDocument.charset\n      });\n    }\n\n    updateHref(this);\n  }\n\n  get hash() {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null || url.fragment === null || url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + url.fragment;\n  }\n\n  set hash(v) {\n    reinitializeURL(this);\n    const {\n      url\n    } = this;\n\n    if (url === null) {\n      return;\n    }\n\n    if (v === \"\") {\n      url.fragment = null;\n    } else {\n      const input = v[0] === \"#\" ? v.substring(1) : v;\n      url.fragment = \"\";\n      whatwgURL.basicURLParse(input, {\n        url,\n        stateOverride: \"fragment\"\n      });\n    }\n\n    updateHref(this);\n  }\n\n};\n\nfunction reinitializeURL(hheu) {\n  if (hheu.url !== null && hheu.url.scheme === \"blob\" && hheu.url.cannotBeABaseURL) {\n    return;\n  }\n\n  setTheURL(hheu);\n}\n\nfunction setTheURL(hheu) {\n  const href = hheu.getAttributeNS(null, \"href\");\n\n  if (href === null) {\n    hheu.url = null;\n    return;\n  }\n\n  const parsed = parseURLToResultingURLRecord(href, hheu._ownerDocument);\n  hheu.url = parsed === null ? null : parsed;\n}\n\nfunction updateHref(hheu) {\n  hheu.setAttributeNS(null, \"href\", whatwgURL.serializeURL(hheu.url));\n}","map":{"version":3,"names":["whatwgURL","require","parseURLToResultingURLRecord","asciiCaseInsensitiveMatch","navigate","exports","implementation","HTMLHyperlinkElementUtilsImpl","_htmlHyperlinkElementUtilsSetup","url","_cannotNavigate","_localName","isConnected","_getAnElementsTarget","hasAttributeNS","getAttributeNS","baseEl","_ownerDocument","querySelector","_chooseABrowsingContext","name","current","chosen","parent","top","_followAHyperlink","source","_defaultView","targetAttributeValue","noopener","relList","contains","target","href","setTimeout","toString","reinitializeURL","serializeURL","v","setAttributeNS","origin","serializeURLOrigin","protocol","scheme","basicURLParse","stateOverride","updateHref","username","host","cannotBeABaseURL","setTheUsername","password","setThePassword","port","serializeHost","serializeInteger","hostname","pathname","path","join","search","query","input","substring","encodingOverride","charset","hash","fragment","hheu","setTheURL","parsed"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js"],"sourcesContent":["\"use strict\";\nconst whatwgURL = require(\"whatwg-url\");\nconst { parseURLToResultingURLRecord } = require(\"../helpers/document-base-url\");\nconst { asciiCaseInsensitiveMatch } = require(\"../helpers/strings\");\nconst { navigate } = require(\"../window/navigation\");\n\nexports.implementation = class HTMLHyperlinkElementUtilsImpl {\n  _htmlHyperlinkElementUtilsSetup() {\n    this.url = null;\n  }\n\n  // https://html.spec.whatwg.org/multipage/links.html#cannot-navigate\n  _cannotNavigate() {\n    // TODO: Correctly check if the document is fully active\n    return this._localName !== \"a\" && !this.isConnected;\n  }\n\n  // https://html.spec.whatwg.org/multipage/semantics.html#get-an-element's-target\n  _getAnElementsTarget() {\n    if (this.hasAttributeNS(null, \"target\")) {\n      return this.getAttributeNS(null, \"target\");\n    }\n\n    const baseEl = this._ownerDocument.querySelector(\"base[target]\");\n\n    if (baseEl) {\n      return baseEl.getAttributeNS(null, \"target\");\n    }\n\n    return \"\";\n  }\n\n  // https://html.spec.whatwg.org/multipage/browsers.html#the-rules-for-choosing-a-browsing-context-given-a-browsing-context-name\n  _chooseABrowsingContext(name, current) {\n    let chosen = null;\n\n    if (name === \"\" || asciiCaseInsensitiveMatch(name, \"_self\")) {\n      chosen = current;\n    } else if (asciiCaseInsensitiveMatch(name, \"_parent\")) {\n      chosen = current.parent;\n    } else if (asciiCaseInsensitiveMatch(name, \"_top\")) {\n      chosen = current.top;\n    } else if (!asciiCaseInsensitiveMatch(name, \"_blank\")) {\n      // https://github.com/whatwg/html/issues/1440\n    }\n\n    // TODO: Create new browsing context, handle noopener\n\n    return chosen;\n  }\n\n  // https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2\n  _followAHyperlink() {\n    if (this._cannotNavigate()) {\n      return;\n    }\n\n    const source = this._ownerDocument._defaultView;\n    let targetAttributeValue = \"\";\n\n    if (this._localName === \"a\" || this._localName === \"area\") {\n      targetAttributeValue = this._getAnElementsTarget();\n    }\n\n    const noopener = this.relList.contains(\"noreferrer\") || this.relList.contains(\"noopener\");\n\n    const target = this._chooseABrowsingContext(targetAttributeValue, source, noopener);\n\n    if (target === null) {\n      return;\n    }\n\n    const url = parseURLToResultingURLRecord(this.href, this._ownerDocument);\n\n    if (url === null) {\n      return;\n    }\n\n    // TODO: Handle hyperlink suffix and referrerpolicy\n    setTimeout(() => {\n      navigate(target, url, {});\n    }, 0);\n  }\n\n  toString() {\n    return this.href;\n  }\n\n  get href() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null) {\n      const href = this.getAttributeNS(null, \"href\");\n      return href === null ? \"\" : href;\n    }\n\n    return whatwgURL.serializeURL(url);\n  }\n\n  set href(v) {\n    this.setAttributeNS(null, \"href\", v);\n  }\n\n  get origin() {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return \"\";\n    }\n\n    return whatwgURL.serializeURLOrigin(this.url);\n  }\n\n  get protocol() {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return \":\";\n    }\n\n    return this.url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return;\n    }\n\n    whatwgURL.basicURLParse(v + \":\", { url: this.url, stateOverride: \"scheme start\" });\n    updateHref(this);\n  }\n\n  get username() {\n    reinitializeURL(this);\n\n    if (this.url === null) {\n      return \"\";\n    }\n\n    return this.url.username;\n  }\n\n  set username(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\") {\n      return;\n    }\n\n    whatwgURL.setTheUsername(url, v);\n    updateHref(this);\n  }\n\n  get password() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null) {\n      return \"\";\n    }\n\n    return url.password;\n  }\n\n  set password(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\") {\n      return;\n    }\n\n    whatwgURL.setThePassword(url, v);\n    updateHref(this);\n  }\n\n  get host() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return whatwgURL.serializeHost(url.host);\n    }\n\n    return whatwgURL.serializeHost(url.host) + \":\" + whatwgURL.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.cannotBeABaseURL) {\n      return;\n    }\n\n    whatwgURL.basicURLParse(v, { url, stateOverride: \"host\" });\n    updateHref(this);\n  }\n\n  get hostname() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.host === null) {\n      return \"\";\n    }\n\n    return whatwgURL.serializeHost(url.host);\n  }\n\n  set hostname(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.cannotBeABaseURL) {\n      return;\n    }\n\n    whatwgURL.basicURLParse(v, { url, stateOverride: \"hostname\" });\n    updateHref(this);\n  }\n\n  get port() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.port === null) {\n      return \"\";\n    }\n\n    return whatwgURL.serializeInteger(url.port);\n  }\n\n  set port(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\") {\n      return;\n    }\n\n    if (v === \"\") {\n      url.port = null;\n    } else {\n      whatwgURL.basicURLParse(v, { url, stateOverride: \"port\" });\n    }\n    updateHref(this);\n  }\n\n  get pathname() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null) {\n      return \"\";\n    }\n\n    if (url.cannotBeABaseURL) {\n      return url.path[0];\n    }\n\n    return \"/\" + url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.cannotBeABaseURL) {\n      return;\n    }\n\n    url.path = [];\n    whatwgURL.basicURLParse(v, { url, stateOverride: \"path start\" });\n    updateHref(this);\n  }\n\n  get search() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.query === null || url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + url.query;\n  }\n\n  set search(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null) {\n      return;\n    }\n\n    if (v === \"\") {\n      url.query = null;\n    } else {\n      const input = v[0] === \"?\" ? v.substring(1) : v;\n      url.query = \"\";\n      whatwgURL.basicURLParse(input, {\n        url,\n        stateOverride: \"query\",\n        encodingOverride: this._ownerDocument.charset\n      });\n    }\n    updateHref(this);\n  }\n\n  get hash() {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null || url.fragment === null || url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + url.fragment;\n  }\n\n  set hash(v) {\n    reinitializeURL(this);\n    const { url } = this;\n\n    if (url === null) {\n      return;\n    }\n\n    if (v === \"\") {\n      url.fragment = null;\n    } else {\n      const input = v[0] === \"#\" ? v.substring(1) : v;\n      url.fragment = \"\";\n      whatwgURL.basicURLParse(input, { url, stateOverride: \"fragment\" });\n    }\n    updateHref(this);\n  }\n};\n\nfunction reinitializeURL(hheu) {\n  if (hheu.url !== null && hheu.url.scheme === \"blob\" && hheu.url.cannotBeABaseURL) {\n    return;\n  }\n\n  setTheURL(hheu);\n}\n\nfunction setTheURL(hheu) {\n  const href = hheu.getAttributeNS(null, \"href\");\n  if (href === null) {\n    hheu.url = null;\n    return;\n  }\n\n  const parsed = parseURLToResultingURLRecord(href, hheu._ownerDocument);\n\n  hheu.url = parsed === null ? null : parsed;\n}\n\nfunction updateHref(hheu) {\n  hheu.setAttributeNS(null, \"href\", whatwgURL.serializeURL(hheu.url));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}