{"ast":null,"code":"/*\n * Copyright (C) 2007-2019 Diego Perini\n * All rights reserved.\n *\n * nwsapi.js - Fast CSS Selectors API Engine\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 2.2.1\n * Created: 20070722\n * Release: 20220622\n *\n * License:\n *  http://javascript.nwbox.com/nwsapi/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/nwsapi/nwsapi.js\n */\n(function Export(global, factory) {\n  'use strict';\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define == 'function' && define['amd']) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = {});\n    global.NW.Dom = factory(global, Export);\n  }\n})(this, function Factory(global, Export) {\n  var version = 'nwsapi-2.2.1',\n      doc = global.document,\n      root = doc.documentElement,\n      slice = Array.prototype.slice,\n      WSP = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n      CFG = {\n    // extensions\n    operators: '[~*^$|]=|=',\n    combinators: '[\\\\x20\\\\t>+~](?=[^>+~])'\n  },\n      NOT = {\n    // not enclosed in double/single/parens/square\n    double_enc: '(?=(?:[^\"]*[\"][^\"]*[\"])*[^\"]*$)',\n    single_enc: \"(?=(?:[^']*['][^']*['])*[^']*$)\",\n    parens_enc: '(?![^\\\\x28]*\\\\x29)',\n    square_enc: '(?![^\\\\x5b]*\\\\x5d)'\n  },\n      REX = {\n    // regular expressions\n    HasEscapes: RegExp('\\\\\\\\'),\n    HexNumbers: RegExp('^[0-9a-fA-F]'),\n    EscOrQuote: RegExp('^\\\\\\\\|[\\\\x22\\\\x27]'),\n    RegExpChar: RegExp('(?:(?!\\\\\\\\)[\\\\\\\\^$.*+?()[\\\\]{}|\\\\/])', 'g'),\n    TrimSpaces: RegExp('[\\\\r\\\\n\\\\f]|^' + WSP + '+|' + WSP + '+$', 'g'),\n    CommaGroup: RegExp('(\\\\s*,\\\\s*)' + NOT.square_enc + NOT.parens_enc, 'g'),\n    SplitGroup: RegExp('((?:\\\\x28[^\\\\x29]*\\\\x29|\\\\[[^\\\\]]*\\\\]|\\\\\\\\.|[^,])+)', 'g'),\n    FixEscapes: RegExp('\\\\\\\\([0-9a-fA-F]{1,6}' + WSP + '?|.)|([\\\\x22\\\\x27])', 'g'),\n    CombineWSP: RegExp('[\\\\n\\\\r\\\\f\\\\x20]+' + NOT.single_enc + NOT.double_enc, 'g'),\n    TabCharWSP: RegExp('(\\\\x20?\\\\t+\\\\x20?)' + NOT.single_enc + NOT.double_enc, 'g'),\n    PseudosWSP: RegExp('\\\\s+([-+])\\\\s+' + NOT.square_enc, 'g')\n  },\n      STD = {\n    combinator: RegExp('\\\\s?([>+~])\\\\s?', 'g'),\n    apimethods: RegExp('^(?:[a-z]+|\\\\*)\\\\|', 'i'),\n    namespaces: RegExp('(\\\\*|[a-z]+)\\\\|[-a-z]+', 'i')\n  },\n      GROUPS = {\n    // pseudo-classes requiring parameters\n    linguistic: '(dir|lang)\\\\x28\\\\s?([-\\\\w]{2,})\\\\s?(?:\\\\x29|$)',\n    logicalsel: '(is|where|matches|not)\\\\x28\\\\s?([^()]*|[^\\\\x28]*\\\\x28[^\\\\x29]*\\\\x29)\\\\s?(?:\\\\x29|$)',\n    treestruct: '(nth(?:-last)?(?:-child|-of-type))(?:\\\\x28\\\\s?(even|odd|(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)?)\\\\s?(?:\\\\x29|$))',\n    // pseudo-classes not requiring parameters\n    locationpc: '(any-link|link|visited|target)\\\\b',\n    useraction: '(hover|active|focus|focus-within)\\\\b',\n    structural: '(root|empty|(?:(?:first|last|only)(?:-child|-of-type)))\\\\b',\n    inputstate: '(enabled|disabled|read-only|read-write|placeholder-shown|default)\\\\b',\n    inputvalue: '(checked|indeterminate|required|optional|valid|invalid|in-range|out-of-range)\\\\b',\n    // pseudo-elements starting with single colon (:)\n    pseudo_sng: '(after|before|first-letter|first-line)\\\\b',\n    // pseudo-elements starting with double colon (::)\n    pseudo_dbl: ':(after|before|first-letter|first-line|selection|placeholder|-webkit-[-a-zA-Z0-9]{2,})\\\\b'\n  },\n      Patterns = {\n    // pseudo-classes\n    treestruct: RegExp('^:(?:' + GROUPS.treestruct + ')(.*)', 'i'),\n    structural: RegExp('^:(?:' + GROUPS.structural + ')(.*)', 'i'),\n    linguistic: RegExp('^:(?:' + GROUPS.linguistic + ')(.*)', 'i'),\n    useraction: RegExp('^:(?:' + GROUPS.useraction + ')(.*)', 'i'),\n    inputstate: RegExp('^:(?:' + GROUPS.inputstate + ')(.*)', 'i'),\n    inputvalue: RegExp('^:(?:' + GROUPS.inputvalue + ')(.*)', 'i'),\n    locationpc: RegExp('^:(?:' + GROUPS.locationpc + ')(.*)', 'i'),\n    logicalsel: RegExp('^:(?:' + GROUPS.logicalsel + ')(.*)', 'i'),\n    pseudo_dbl: RegExp('^:(?:' + GROUPS.pseudo_dbl + ')(.*)', 'i'),\n    pseudo_sng: RegExp('^:(?:' + GROUPS.pseudo_sng + ')(.*)', 'i'),\n    // combinator symbols\n    children: RegExp('^' + WSP + '?\\\\>' + WSP + '?(.*)'),\n    adjacent: RegExp('^' + WSP + '?\\\\+' + WSP + '?(.*)'),\n    relative: RegExp('^' + WSP + '?\\\\~' + WSP + '?(.*)'),\n    ancestor: RegExp('^' + WSP + '+(.*)'),\n    // universal & namespace\n    universal: RegExp('^\\\\*(.*)'),\n    namespace: RegExp('^(\\\\w+|\\\\*)?\\\\|(.*)')\n  },\n      // regexp to aproximate detection of RTL languages (Arabic)\n  RTL = RegExp('^[\\\\u0591-\\\\u08ff\\\\ufb1d-\\\\ufdfd\\\\ufe70-\\\\ufefc ]+$'),\n      // emulate firefox error strings\n  qsNotArgs = 'Not enough arguments',\n      qsInvalid = ' is not a valid selector',\n      // detect structural pseudo-classes in selectors\n  reNthElem = RegExp('(:nth(?:-last)?-child)', 'i'),\n      reNthType = RegExp('(:nth(?:-last)?-of-type)', 'i'),\n      // placeholder for global regexp\n  reOptimizer,\n      reValidator,\n      // special handling configuration flags\n  Config = {\n    IDS_DUPES: true,\n    MIXEDCASE: true,\n    LOGERRORS: true,\n    VERBOSITY: true\n  },\n      NAMESPACE,\n      QUIRKS_MODE,\n      HTML_DOCUMENT,\n      ATTR_STD_OPS = {\n    '=': 1,\n    '^=': 1,\n    '$=': 1,\n    '|=': 1,\n    '*=': 1,\n    '~=': 1\n  },\n      HTML_TABLE = {\n    'accept': 1,\n    'accept-charset': 1,\n    'align': 1,\n    'alink': 1,\n    'axis': 1,\n    'bgcolor': 1,\n    'charset': 1,\n    'checked': 1,\n    'clear': 1,\n    'codetype': 1,\n    'color': 1,\n    'compact': 1,\n    'declare': 1,\n    'defer': 1,\n    'dir': 1,\n    'direction': 1,\n    'disabled': 1,\n    'enctype': 1,\n    'face': 1,\n    'frame': 1,\n    'hreflang': 1,\n    'http-equiv': 1,\n    'lang': 1,\n    'language': 1,\n    'link': 1,\n    'media': 1,\n    'method': 1,\n    'multiple': 1,\n    'nohref': 1,\n    'noresize': 1,\n    'noshade': 1,\n    'nowrap': 1,\n    'readonly': 1,\n    'rel': 1,\n    'rev': 1,\n    'rules': 1,\n    'scope': 1,\n    'scrolling': 1,\n    'selected': 1,\n    'shape': 1,\n    'target': 1,\n    'text': 1,\n    'type': 1,\n    'valign': 1,\n    'valuetype': 1,\n    'vlink': 1\n  },\n      Combinators = {},\n      Selectors = {},\n      Operators = {\n    '=': {\n      p1: '^',\n      p2: '$',\n      p3: 'true'\n    },\n    '^=': {\n      p1: '^',\n      p2: '',\n      p3: 'true'\n    },\n    '$=': {\n      p1: '',\n      p2: '$',\n      p3: 'true'\n    },\n    '*=': {\n      p1: '',\n      p2: '',\n      p3: 'true'\n    },\n    '|=': {\n      p1: '^',\n      p2: '(-|$)',\n      p3: 'true'\n    },\n    '~=': {\n      p1: '(^|\\\\s)',\n      p2: '(\\\\s|$)',\n      p3: 'true'\n    }\n  },\n      concatCall = function (nodes, callback) {\n    var i = 0,\n        l = nodes.length,\n        list = Array(l);\n\n    while (l > i) {\n      if (false === callback(list[i] = nodes[i])) break;\n      ++i;\n    }\n\n    return list;\n  },\n      concatList = function (list, nodes) {\n    var i = -1,\n        l = nodes.length;\n\n    while (l--) {\n      list[list.length] = nodes[++i];\n    }\n\n    return list;\n  },\n      documentOrder = function (a, b) {\n    if (!hasDupes && a === b) {\n      hasDupes = true;\n      return 0;\n    }\n\n    return a.compareDocumentPosition(b) & 4 ? -1 : 1;\n  },\n      hasDupes = false,\n      unique = function (nodes) {\n    var i = 0,\n        j = -1,\n        l = nodes.length + 1,\n        list = [];\n\n    while (--l) {\n      if (nodes[i++] === nodes[i]) continue;\n      list[++j] = nodes[i - 1];\n    }\n\n    hasDupes = false;\n    return list;\n  },\n      // check context for mixed content\n  hasMixedCaseTagNames = function (context) {\n    var ns,\n        api = 'getElementsByTagNameNS'; // current host context (ownerDocument)\n\n    context = context.ownerDocument || context; // documentElement (root) element namespace or default html/xhtml namespace\n\n    ns = context.documentElement.namespaceURI || 'http://www.w3.org/1999/xhtml'; // checking the number of non HTML nodes in the document\n\n    return context[api]('*', '*').length - context[api](ns, '*').length > 0;\n  },\n      switchContext = function (context, force) {\n    var oldDoc = doc;\n    doc = context.ownerDocument || context;\n\n    if (force || oldDoc !== doc) {\n      // force a new check for each document change\n      // performed before the next select operation\n      root = doc.documentElement;\n      HTML_DOCUMENT = isHTML(doc);\n      QUIRKS_MODE = HTML_DOCUMENT && doc.compatMode.indexOf('CSS') < 0;\n      NAMESPACE = root && root.namespaceURI;\n      Snapshot.doc = doc;\n      Snapshot.root = root;\n    }\n\n    return Snapshot.from = context;\n  },\n      // convert single codepoint to UTF-16 encoding\n  codePointToUTF16 = function (codePoint) {\n    // out of range, use replacement character\n    if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n      return '\\\\ufffd';\n    } // javascript strings are UTF-16 encoded\n\n\n    if (codePoint < 0x10000) {\n      var lowHex = '000' + codePoint.toString(16);\n      return '\\\\u' + lowHex.substr(lowHex.length - 4);\n    } // supplementary high + low surrogates\n\n\n    return '\\\\u' + ((codePoint - 0x10000 >> 0x0a) + 0xd800).toString(16) + '\\\\u' + ((codePoint - 0x10000) % 0x400 + 0xdc00).toString(16);\n  },\n      // convert single codepoint to string\n  stringFromCodePoint = function (codePoint) {\n    // out of range, use replacement character\n    if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n      return '\\ufffd';\n    }\n\n    if (codePoint < 0x10000) {\n      return String.fromCharCode(codePoint);\n    }\n\n    return String.fromCodePoint ? String.fromCodePoint(codePoint) : String.fromCharCode((codePoint - 0x10000 >> 0x0a) + 0xd800, (codePoint - 0x10000) % 0x400 + 0xdc00);\n  },\n      // convert escape sequence in a CSS string or identifier\n  // to javascript string with javascript escape sequences\n  convertEscapes = function (str) {\n    return REX.HasEscapes.test(str) ? str.replace(REX.FixEscapes, function (substring, p1, p2) {\n      // unescaped \" or '\n      return p2 ? '\\\\' + p2 : // javascript strings are UTF-16 encoded\n      REX.HexNumbers.test(p1) ? codePointToUTF16(parseInt(p1, 16)) : // \\' \\\"\n      REX.EscOrQuote.test(p1) ? substring : // \\g \\h \\. \\# etc\n      p1;\n    }) : str;\n  },\n      // convert escape sequence in a CSS string or identifier\n  // to javascript string with characters representations\n  unescapeIdentifier = function (str) {\n    return REX.HasEscapes.test(str) ? str.replace(REX.FixEscapes, function (substring, p1, p2) {\n      // unescaped \" or '\n      return p2 ? p2 : // javascript strings are UTF-16 encoded\n      REX.HexNumbers.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) : // \\' \\\"\n      REX.EscOrQuote.test(p1) ? substring : // \\g \\h \\. \\# etc\n      p1;\n    }) : str;\n  },\n      method = {\n    '#': 'getElementById',\n    '*': 'getElementsByTagNameNS',\n    '.': 'getElementsByClassName'\n  },\n      compat = {\n    '#': function (c, n) {\n      REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n      return function (e, f) {\n        return byId(n, c);\n      };\n    },\n    '*': function (c, n) {\n      REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n      return function (e, f) {\n        return byTag(n, c);\n      };\n    },\n    '.': function (c, n) {\n      REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n      return function (e, f) {\n        return byClass(n, c);\n      };\n    }\n  },\n      // find duplicate ids using iterative walk\n  byIdRaw = function (id, context) {\n    var node = context,\n        nodes = [],\n        next = node.firstElementChild;\n\n    while (node = next) {\n      node.id == id && (nodes[nodes.length] = node);\n      if (next = node.firstElementChild || node.nextElementSibling) continue;\n\n      while (!next && (node = node.parentElement) && node !== context) {\n        next = node.nextElementSibling;\n      }\n    }\n\n    return nodes;\n  },\n      // context agnostic getElementById\n  byId = function (id, context) {\n    var e,\n        nodes,\n        api = method['#']; // duplicates id allowed\n\n    if (Config.IDS_DUPES === false) {\n      if (api in context) {\n        return (e = context[api](id)) ? [e] : none;\n      }\n    } else {\n      if ('all' in context) {\n        if (e = context.all[id]) {\n          if (e.nodeType == 1) return e.getAttribute('id') != id ? [] : [e];else if (id == 'length') return (e = context[api](id)) ? [e] : none;\n\n          for (i = 0, l = e.length, nodes = []; l > i; ++i) {\n            if (e[i].id == id) nodes[nodes.length] = e[i];\n          }\n\n          return nodes && nodes.length ? nodes : [nodes];\n        } else return none;\n      }\n    }\n\n    return byIdRaw(id, context);\n  },\n      // context agnostic getElementsByTagName\n  byTag = function (tag, context) {\n    var e,\n        nodes,\n        api = method['*']; // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n\n    if (api in context) {\n      return slice.call(context[api]('*', tag));\n    } else {\n      tag = tag.toLowerCase(); // DOCUMENT_FRAGMENT_NODE (11)\n\n      if (e = context.firstElementChild) {\n        if (!(e.nextElementSibling || tag == '*' || e.localName == tag)) {\n          return slice.call(e[api]('*', tag));\n        } else {\n          nodes = [];\n\n          do {\n            if (tag == '*' || e.localName == tag) nodes[nodes.length] = e;\n            concatList(nodes, e[api]('*', tag));\n          } while (e = e.nextElementSibling);\n        }\n      } else nodes = none;\n    }\n\n    return nodes;\n  },\n      // context agnostic getElementsByClassName\n  byClass = function (cls, context) {\n    var e,\n        nodes,\n        api = method['.'],\n        reCls; // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n\n    if (api in context) {\n      return slice.call(context[api](cls));\n    } else {\n      // DOCUMENT_FRAGMENT_NODE (11)\n      if (e = context.firstElementChild) {\n        reCls = RegExp('(^|\\\\s)' + cls + '(\\\\s|$)', QUIRKS_MODE ? 'i' : '');\n\n        if (!(e.nextElementSibling || reCls.test(e.className))) {\n          return slice.call(e[api](cls));\n        } else {\n          nodes = [];\n\n          do {\n            if (reCls.test(e.className)) nodes[nodes.length] = e;\n            concatList(nodes, e[api](cls));\n          } while (e = e.nextElementSibling);\n        }\n      } else nodes = none;\n    }\n\n    return nodes;\n  },\n      // namespace aware hasAttribute\n  // helper for XML/XHTML documents\n  hasAttributeNS = function (e, name) {\n    var i,\n        l,\n        attr = e.getAttributeNames();\n    name = RegExp(':?' + name + '$', HTML_DOCUMENT ? 'i' : '');\n\n    for (i = 0, l = attr.length; l > i; ++i) {\n      if (name.test(attr[i])) return true;\n    }\n\n    return false;\n  },\n      // fast resolver for the :nth-child() and :nth-last-child() pseudo-classes\n  nthElement = function () {\n    var idx = 0,\n        len = 0,\n        set = 0,\n        parent = undefined,\n        parents = Array(),\n        nodes = Array();\n    return function (element, dir) {\n      // ensure caches are emptied after each run, invoking with dir = 2\n      if (dir == 2) {\n        idx = 0;\n        len = 0;\n        set = 0;\n        nodes.length = 0;\n        parents.length = 0;\n        parent = undefined;\n        return -1;\n      }\n\n      var e, i, j, k, l;\n\n      if (parent === element.parentElement) {\n        i = set;\n        j = idx;\n        l = len;\n      } else {\n        l = parents.length;\n        parent = element.parentElement;\n\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n          if (parents[j] === parent) {\n            i = j;\n            break;\n          }\n\n          if (parents[k] === parent) {\n            i = k;\n            break;\n          }\n        }\n\n        if (i < 0) {\n          parents[i = l] = parent;\n          l = 0;\n          nodes[i] = Array();\n          e = parent && parent.firstElementChild || element;\n\n          while (e) {\n            nodes[i][l] = e;\n            if (e === element) j = l;\n            e = e.nextElementSibling;\n            ++l;\n          }\n\n          set = i;\n          idx = 0;\n          len = l;\n          if (l < 2) return l;\n        } else {\n          l = nodes[i].length;\n          set = i;\n        }\n      }\n\n      if (element !== nodes[i][j] && element !== nodes[i][j = 0]) {\n        for (j = 0, e = nodes[i], k = l - 1; l > j; ++j, --k) {\n          if (e[j] === element) {\n            break;\n          }\n\n          if (e[k] === element) {\n            j = k;\n            break;\n          }\n        }\n      }\n\n      idx = j + 1;\n      len = l;\n      return dir ? l - j : idx;\n    };\n  }(),\n      // fast resolver for the :nth-of-type() and :nth-last-of-type() pseudo-classes\n  nthOfType = function () {\n    var idx = 0,\n        len = 0,\n        set = 0,\n        parent = undefined,\n        parents = Array(),\n        nodes = Array();\n    return function (element, dir) {\n      // ensure caches are emptied after each run, invoking with dir = 2\n      if (dir == 2) {\n        idx = 0;\n        len = 0;\n        set = 0;\n        nodes.length = 0;\n        parents.length = 0;\n        parent = undefined;\n        return -1;\n      }\n\n      var e,\n          i,\n          j,\n          k,\n          l,\n          name = element.localName;\n\n      if (nodes[set] && nodes[set][name] && parent === element.parentElement) {\n        i = set;\n        j = idx;\n        l = len;\n      } else {\n        l = parents.length;\n        parent = element.parentElement;\n\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n          if (parents[j] === parent) {\n            i = j;\n            break;\n          }\n\n          if (parents[k] === parent) {\n            i = k;\n            break;\n          }\n        }\n\n        if (i < 0 || !nodes[i][name]) {\n          parents[i = l] = parent;\n          nodes[i] || (nodes[i] = Object());\n          l = 0;\n          nodes[i][name] = Array();\n          e = parent && parent.firstElementChild || element;\n\n          while (e) {\n            if (e === element) j = l;\n\n            if (e.localName == name) {\n              nodes[i][name][l] = e;\n              ++l;\n            }\n\n            e = e.nextElementSibling;\n          }\n\n          set = i;\n          idx = j;\n          len = l;\n          if (l < 2) return l;\n        } else {\n          l = nodes[i][name].length;\n          set = i;\n        }\n      }\n\n      if (element !== nodes[i][name][j] && element !== nodes[i][name][j = 0]) {\n        for (j = 0, e = nodes[i][name], k = l - 1; l > j; ++j, --k) {\n          if (e[j] === element) {\n            break;\n          }\n\n          if (e[k] === element) {\n            j = k;\n            break;\n          }\n        }\n      }\n\n      idx = j + 1;\n      len = l;\n      return dir ? l - j : idx;\n    };\n  }(),\n      // check if the document type is HTML\n  isHTML = function (node) {\n    var doc = node.ownerDocument || node;\n    return doc.nodeType == 9 && // contentType not in IE <= 11\n    'contentType' in doc ? doc.contentType.indexOf('/html') > 0 : doc.createElement('DiV').localName == 'div';\n  },\n      // configure the engine to use special handling\n  configure = function (option, clear) {\n    if (typeof option == 'string') {\n      return !!Config[option];\n    }\n\n    if (typeof option != 'object') {\n      return Config;\n    }\n\n    for (var i in option) {\n      Config[i] = !!option[i];\n    } // clear lambda cache\n\n\n    if (clear) {\n      matchResolvers = {};\n      selectResolvers = {};\n    }\n\n    setIdentifierSyntax();\n    return true;\n  },\n      // centralized error and exceptions handling\n  emit = function (message, proto) {\n    var err;\n\n    if (Config.VERBOSITY) {\n      if (proto) {\n        err = new proto(message);\n      } else {\n        err = new global.DOMException(message, 'SyntaxError');\n      }\n\n      throw err;\n    }\n\n    if (Config.LOGERRORS && console && console.log) {\n      console.log(message);\n    }\n  },\n      // execute the engine initialization code\n  initialize = function (doc) {\n    setIdentifierSyntax();\n    lastContext = switchContext(doc, true);\n  },\n      // build validation regexps used by the engine\n  setIdentifierSyntax = function () {\n    //\n    // NOTE: SPECIAL CASES IN CSS SYNTAX PARSING RULES\n    //\n    // The <EOF-token> https://drafts.csswg.org/css-syntax/#typedef-eof-token\n    // allow mangled|unclosed selector syntax at the end of selectors strings\n    //\n    // Literal equivalent hex representations of the characters: \" ' ` ] )\n    //\n    //     \\\\x22 = \" - double quotes    \\\\x5b = [ - open square bracket\n    //     \\\\x27 = ' - single quote     \\\\x5d = ] - closed square bracket\n    //     \\\\x60 = ` - back tick        \\\\x28 = ( - open round parens\n    //     \\\\x5c = \\ - back slash       \\\\x29 = ) - closed round parens\n    //\n    // using hex format prevents false matches of opened/closed instances\n    // pairs, coloring breakage and other editors highlightning problems.\n    //\n    var identifier = // doesn't start with a digit\n    '(?=[^0-9])' + // can start with double dash\n    '(?:-{2}' + // may include ascii chars\n    '|[a-zA-Z0-9-_]' + // non-ascii chars\n    '|[^\\\\x00-\\\\x9f]' + // escaped chars\n    '|\\\\\\\\[^\\\\r\\\\n\\\\f0-9a-fA-F]' + // unicode chars\n    '|\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|\\\\s)?' + // any escaped chars\n    '|\\\\\\\\.' + ')+',\n        pseudonames = '[-\\\\w]+',\n        pseudoparms = '(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)',\n        doublequote = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(?:\"|$)',\n        singlequote = \"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*(?:'|$)\",\n        attrparser = identifier + '|' + doublequote + '|' + singlequote,\n        attrvalues = '([\\\\x22\\\\x27]?)((?!\\\\3)*|(?:\\\\\\\\?.)*?)(?:\\\\3|$)',\n        attributes = '\\\\[' + // attribute presence\n    '(?:\\\\*\\\\|)?' + WSP + '?' + '(' + identifier + '(?::' + identifier + ')?)' + WSP + '?' + '(?:' + '(' + CFG.operators + ')' + WSP + '?' + '(?:' + attrparser + ')' + ')?' + // attribute case sensitivity\n    WSP + '?' + '(i)?' + WSP + '?' + '(?:\\\\]|$)',\n        attrmatcher = attributes.replace(attrparser, attrvalues),\n        pseudoclass = '(?:\\\\x28' + WSP + '*' + '(?:' + pseudoparms + '?)?|' + // universal * &\n    // namespace *|*\n    '(?:\\\\*|\\\\|)|' + '(?:' + '(?::' + pseudonames + '(?:\\\\x28' + pseudoparms + '?(?:\\\\x29|$))?|' + ')|' + '(?:[.#]?' + identifier + ')|' + '(?:' + attributes + ')' + ')+|' + '(?:' + WSP + '?,' + WSP + '?)|' + '(?:' + WSP + '?)|' + '(?:\\\\x29|$))*',\n        standardValidator = '(?=' + WSP + '?[^>+~(){}<>])' + '(?:' + // universal * &\n    // namespace *|*\n    '(?:\\\\*|\\\\|)|' + '(?:[.#]?' + identifier + ')+|' + '(?:' + attributes + ')+|' + '(?:::?' + pseudonames + pseudoclass + ')|' + '(?:' + WSP + '?' + CFG.combinators + WSP + '?)|' + '(?:' + WSP + '?,' + WSP + '?)|' + '(?:' + WSP + '?)' + ')+'; // the following global RE is used to return the\n    // deepest localName in selector strings and then\n    // use it to retrieve all possible matching nodes\n    // that will be filtered by compiled resolvers\n\n    reOptimizer = RegExp('(?:([.:#*]?)' + '(' + identifier + ')' + '(?:' + ':[-\\\\w]+|' + '\\\\[[^\\\\]]+(?:\\\\]|$)|' + '\\\\x28[^\\\\x29]+(?:\\\\x29|$)' + ')*)$'); // global\n\n    reValidator = RegExp(standardValidator, 'g');\n    Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n    Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n    Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n    Patterns.attribute = RegExp('^(?:' + attrmatcher + ')(.*)');\n  },\n      F_INIT = '\"use strict\";return function Resolver(c,f,x,r)',\n      S_HEAD = 'var e,n,o,j=r.length-1,k=-1',\n      M_HEAD = 'var e,n,o',\n      S_LOOP = 'main:while((e=c[++k]))',\n      N_LOOP = 'main:while((e=c.item(++k)))',\n      M_LOOP = 'e=c;',\n      S_BODY = 'r[++j]=c[k];',\n      N_BODY = 'r[++j]=c.item(k);',\n      M_BODY = '',\n      S_TAIL = 'continue main;',\n      M_TAIL = 'r=true;',\n      S_TEST = 'if(f(c[k])){break main;}',\n      N_TEST = 'if(f(c.item(k))){break main;}',\n      M_TEST = 'f(c);',\n      S_VARS = [],\n      M_VARS = [],\n      // compile groups or single selector strings into\n  // executable functions for matching or selecting\n  compile = function (selector, mode, callback) {\n    var factory,\n        token,\n        head = '',\n        loop = '',\n        macro = '',\n        source = '',\n        vars = ''; // 'mode' can be boolean or null\n    // true = select / false = match\n    // null to use collection.item()\n\n    switch (mode) {\n      case true:\n        if (selectLambdas[selector]) {\n          return selectLambdas[selector];\n        }\n\n        macro = S_BODY + (callback ? S_TEST : '') + S_TAIL;\n        head = S_HEAD;\n        loop = S_LOOP;\n        break;\n\n      case false:\n        if (matchLambdas[selector]) {\n          return matchLambdas[selector];\n        }\n\n        macro = M_BODY + (callback ? M_TEST : '') + M_TAIL;\n        head = M_HEAD;\n        loop = M_LOOP;\n        break;\n\n      case null:\n        if (selectLambdas[selector]) {\n          return selectLambdas[selector];\n        }\n\n        macro = N_BODY + (callback ? N_TEST : '') + S_TAIL;\n        head = S_HEAD;\n        loop = N_LOOP;\n        break;\n\n      default:\n        break;\n    }\n\n    source = compileSelector(selector, macro, mode, callback);\n    loop += mode || mode === null ? '{' + source + '}' : source;\n\n    if (mode || mode === null && selector.includes(':nth')) {\n      loop += reNthElem.test(selector) ? 's.nthElement(null, 2);' : '';\n      loop += reNthType.test(selector) ? 's.nthOfType(null, 2);' : '';\n    }\n\n    if (S_VARS[0] || M_VARS[0]) {\n      vars = ',' + (S_VARS.join(',') || M_VARS.join(','));\n      S_VARS.length = 0;\n      M_VARS.length = 0;\n    }\n\n    factory = Function('s', F_INIT + '{' + head + vars + ';' + loop + 'return r;}')(Snapshot);\n    return mode || mode === null ? selectLambdas[selector] = factory : matchLambdas[selector] = factory;\n  },\n      // build conditional code to check components of selector strings\n  compileSelector = function (expression, source, mode, callback) {\n    // N is the negation pseudo-class flag\n    // D is the default inverted negation flag\n    var a,\n        b,\n        n,\n        f,\n        i,\n        l,\n        name,\n        NS,\n        N = '',\n        D = '!',\n        compat,\n        expr,\n        match,\n        result,\n        status,\n        symbol,\n        test,\n        type,\n        selector = expression,\n        selector_string,\n        vars; // original 'select' or 'match' selector string before normalization\n\n    selector_string = mode ? lastSelected : lastMatched; // isolate selector combinators/components and normalize whitespace\n\n    selector = selector.replace(STD.combinator, '$1'); //.replace(STD.whitespace, ' ');\n    // javascript needs a label to break\n    // out of the while loops processing\n\n    selector_recursion_label: while (selector) {\n      // get namespace prefix if present or get first char of selector\n      symbol = STD.apimethods.test(selector) ? '|' : selector[0];\n\n      switch (symbol) {\n        // universal resolver\n        case '*':\n          match = selector.match(Patterns.universal);\n\n          if (N == '!') {\n            source = 'if(' + N + 'true' + '){' + source + '}';\n          }\n\n          break;\n        // id resolver\n\n        case '#':\n          match = selector.match(Patterns.id);\n          source = 'if(' + N + '(/^' + match[1] + '$/.test(e.getAttribute(\"id\"))' + ')){' + source + '}';\n          break;\n        // class name resolver\n\n        case '.':\n          match = selector.match(Patterns.className);\n          compat = (QUIRKS_MODE ? 'i' : '') + '.test(e.getAttribute(\"class\"))';\n          source = 'if(' + N + '(/(^|\\\\s)' + match[1] + '(\\\\s|$)/' + compat + ')){' + source + '}';\n          break;\n        // tag name resolver\n\n        case /[_a-z]/i.test(symbol) ? symbol : undefined:\n          match = selector.match(Patterns.tagName);\n          source = 'if(' + N + '(e.localName' + (Config.MIXEDCASE || hasMixedCaseTagNames(doc) ? '==\"' + match[1].toLowerCase() + '\"' : '==\"' + match[1].toUpperCase() + '\"') + ')){' + source + '}';\n          break;\n        // namespace resolver\n\n        case '|':\n          match = selector.match(Patterns.namespace);\n\n          if (match[1] == '*') {\n            source = 'if(' + N + 'true){' + source + '}';\n          } else if (!match[1]) {\n            source = 'if(' + N + '(!e.namespaceURI)){' + source + '}';\n          } else if (typeof match[1] == 'string' && root.prefix == match[1]) {\n            source = 'if(' + N + '(e.namespaceURI==\"' + NAMESPACE + '\")){' + source + '}';\n          } else {\n            emit('\\'' + selector_string + '\\'' + qsInvalid);\n          }\n\n          break;\n        // attributes resolver\n\n        case '[':\n          match = selector.match(Patterns.attribute);\n          NS = match[0].match(STD.namespaces);\n          name = match[1];\n          expr = name.split(':');\n          expr = expr.length == 2 ? expr[1] : expr[0];\n\n          if (match[2] && !(test = Operators[match[2]])) {\n            emit('\\'' + selector_string + '\\'' + qsInvalid);\n            return '';\n          }\n\n          if (match[4] === '') {\n            test = match[2] == '~=' ? {\n              p1: '^\\\\s',\n              p2: '+$',\n              p3: 'true'\n            } : match[2] in ATTR_STD_OPS && match[2] != '~=' ? {\n              p1: '^',\n              p2: '$',\n              p3: 'true'\n            } : test;\n          } else if (match[2] == '~=' && match[4].includes(' ')) {\n            // whitespace separated list but value contains space\n            source = 'if(' + N + 'false){' + source + '}';\n            break;\n          } else if (match[4]) {\n            match[4] = convertEscapes(match[4]).replace(REX.RegExpChar, '\\\\$&');\n          }\n\n          type = match[5] == 'i' || HTML_DOCUMENT && HTML_TABLE[expr.toLowerCase()] ? 'i' : '';\n          source = 'if(' + N + '(' + (!match[2] ? NS ? 's.hasAttributeNS(e,\"' + name + '\")' : 'e.hasAttribute&&e.hasAttribute(\"' + name + '\")' : !match[4] && ATTR_STD_OPS[match[2]] && match[2] != '~=' ? 'e.getAttribute&&e.getAttribute(\"' + name + '\")==\"\"' : '(/' + test.p1 + match[4] + test.p2 + '/' + type + ').test(e.getAttribute&&e.getAttribute(\"' + name + '\"))==' + test.p3) + ')){' + source + '}';\n          break;\n        // *** General sibling combinator\n        // E ~ F (F relative sibling of E)\n\n        case '~':\n          match = selector.match(Patterns.relative);\n          source = 'n=e;while((e=e.previousElementSibling)){' + source + '}e=n;';\n          break;\n        // *** Adjacent sibling combinator\n        // E + F (F adiacent sibling of E)\n\n        case '+':\n          match = selector.match(Patterns.adjacent);\n          source = 'n=e;if((e=e.previousElementSibling)){' + source + '}e=n;';\n          break;\n        // *** Descendant combinator\n        // E F (E ancestor of F)\n\n        case '\\x09':\n        case '\\x20':\n          match = selector.match(Patterns.ancestor);\n          source = 'n=e;while((e=e.parentElement)){' + source + '}e=n;';\n          break;\n        // *** Child combinator\n        // E > F (F children of E)\n\n        case '>':\n          match = selector.match(Patterns.children);\n          source = 'n=e;if((e=e.parentElement)){' + source + '}e=n;';\n          break;\n        // *** user supplied combinators extensions\n\n        case symbol in Combinators ? symbol : undefined:\n          // for other registered combinators extensions\n          match[match.length - 1] = '*';\n          source = Combinators[symbol](match) + source;\n          break;\n        // *** tree-structural pseudo-classes\n        // :root, :empty, :first-child, :last-child, :only-child, :first-of-type, :last-of-type, :only-of-type\n\n        case ':':\n          if (match = selector.match(Patterns.structural)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'root':\n                // there can only be one :root element, so exit the loop once found\n                source = 'if(' + N + '(e===s.root)){' + source + (mode ? 'break main;' : '') + '}';\n                break;\n\n              case 'empty':\n                // matches elements that don't contain elements or text nodes\n                source = 'n=e.firstChild;while(n&&!(/1|3/).test(n.nodeType)){n=n.nextSibling}if(' + D + 'n){' + source + '}';\n                break;\n              // *** child-indexed pseudo-classes\n              // :first-child, :last-child, :only-child\n\n              case 'only-child':\n                source = 'if(' + N + '(!e.nextElementSibling&&!e.previousElementSibling)){' + source + '}';\n                break;\n\n              case 'last-child':\n                source = 'if(' + N + '(!e.nextElementSibling)){' + source + '}';\n                break;\n\n              case 'first-child':\n                source = 'if(' + N + '(!e.previousElementSibling)){' + source + '}';\n                break;\n              // *** typed child-indexed pseudo-classes\n              // :only-of-type, :last-of-type, :first-of-type\n\n              case 'only-of-type':\n                source = 'o=e.localName;' + 'n=e;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' + 'n=e;while((n=n.previousElementSibling)&&n.localName!=o);}if(' + D + 'n){' + source + '}';\n                break;\n\n              case 'last-of-type':\n                source = 'n=e;o=e.localName;while((n=n.nextElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\n                break;\n\n              case 'first-of-type':\n                source = 'n=e;o=e.localName;while((n=n.previousElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** child-indexed & typed child-indexed pseudo-classes\n          // :nth-child, :nth-of-type, :nth-last-child, :nth-last-of-type\n          else if (match = selector.match(Patterns.treestruct)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'nth-child':\n              case 'nth-of-type':\n              case 'nth-last-child':\n              case 'nth-last-of-type':\n                expr = /-of-type/i.test(match[1]);\n\n                if (match[1] && match[2]) {\n                  type = /last/i.test(match[1]);\n\n                  if (match[2] == 'n') {\n                    source = 'if(' + N + 'true){' + source + '}';\n                    break;\n                  } else if (match[2] == '1') {\n                    test = type ? 'next' : 'previous';\n                    source = expr ? 'n=e;o=e.localName;' + 'while((n=n.' + test + 'ElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}' : 'if(' + N + '!e.' + test + 'ElementSibling){' + source + '}';\n                    break;\n                  } else if (match[2] == 'even' || match[2] == '2n0' || match[2] == '2n+0' || match[2] == '2n') {\n                    test = 'n%2==0';\n                  } else if (match[2] == 'odd' || match[2] == '2n1' || match[2] == '2n+1') {\n                    test = 'n%2==1';\n                  } else {\n                    f = /n/i.test(match[2]);\n                    n = match[2].split('n');\n                    a = parseInt(n[0], 10) || 0;\n                    b = parseInt(n[1], 10) || 0;\n\n                    if (n[0] == '-') {\n                      a = -1;\n                    }\n\n                    if (n[0] == '+') {\n                      a = +1;\n                    }\n\n                    test = (b ? '(n' + (b > 0 ? '-' : '+') + Math.abs(b) + ')' : 'n') + '%' + a + '==0';\n                    test = a >= +1 ? f ? 'n>' + (b - 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a : a <= -1 ? f ? 'n<' + (b + 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a : a === 0 ? n[0] ? 'n==' + b : 'n>' + (b - 1) : 'false';\n                  }\n\n                  expr = expr ? 'OfType' : 'Element';\n                  type = type ? 'true' : 'false';\n                  source = 'n=s.nth' + expr + '(e,' + type + ');if(' + N + '(' + test + ')){' + source + '}';\n                } else {\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                }\n\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** logical combination pseudo-classes\n          // :is( s1, [ s2, ... ]), :not( s1, [ s2, ... ])\n          else if (match = selector.match(Patterns.logicalsel)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'is':\n              case 'where':\n              case 'matches':\n                expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                break;\n\n              case 'not':\n                expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                source = 'if(!s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** linguistic pseudo-classes\n          // :dir( ltr / rtl ), :lang( en )\n          else if (match = selector.match(Patterns.linguistic)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'dir':\n                source = 'var p;if(' + N + '(' + '(/' + match[2] + '/i.test(e.dir))||(p=s.ancestor(\"[dir]\", e))&&' + '(/' + match[2] + '/i.test(p.dir))||(e.dir==\"\"||e.dir==\"auto\")&&' + '(' + (match[2] == 'ltr' ? '!' : '') + RTL + '.test(e.textContent)))' + '){' + source + '};';\n                break;\n\n              case 'lang':\n                expr = '(?:^|-)' + match[2] + '(?:-|$)';\n                source = 'var p;if(' + N + '(' + '(e.isConnected&&(e.lang==\"\"&&(p=s.ancestor(\"[lang]\",e)))&&' + '(p.lang==\"' + match[2] + '\")||/' + expr + '/i.test(e.lang)))' + '){' + source + '};';\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** location pseudo-classes\n          // :any-link, :link, :visited, :target\n          else if (match = selector.match(Patterns.locationpc)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'any-link':\n                source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")||e.visited)){' + source + '}';\n                break;\n\n              case 'link':\n                source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\"))){' + source + '}';\n                break;\n\n              case 'visited':\n                source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")&&e.visited)){' + source + '}';\n                break;\n\n              case 'target':\n                source = 'if(' + N + '((s.doc.compareDocumentPosition(e)&16)&&s.doc.location.hash&&e.id==s.doc.location.hash.slice(1))){' + source + '}';\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** user actions pseudo-classes\n          // :hover, :active, :focus\n          else if (match = selector.match(Patterns.useraction)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'hover':\n                source = 'hasFocus' in doc && doc.hasFocus() ? 'if(' + N + '(e===s.doc.hoverElement)){' + source + '}' : 'if(' + D + 'true){' + source + '}';\n                break;\n\n              case 'active':\n                source = 'hasFocus' in doc && doc.hasFocus() ? 'if(' + N + '(e===s.doc.activeElement)){' + source + '}' : 'if(' + D + 'true){' + source + '}';\n                break;\n\n              case 'focus':\n                source = 'hasFocus' in doc ? 'if(' + N + '(e===s.doc.activeElement&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : 'if(' + N + '(e===s.doc.activeElement&&(e.type||e.href))){' + source + '}';\n                break;\n\n              case 'focus-within':\n                source = 'hasFocus' in doc ? 'n=s.doc.activeElement;while(e){if(e===n||e.parentNode===n)break;}' + 'if(' + N + '(e===n&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : source;\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** user interface and form pseudo-classes\n          // :enabled, :disabled, :read-only, :read-write, :placeholder-shown, :default\n          else if (match = selector.match(Patterns.inputstate)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'enabled':\n                source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e &&e.disabled===false' + ')){' + source + '}';\n                break;\n\n              case 'disabled':\n                // https://www.w3.org/TR/html5/forms.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n                source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e&&' + '(e.disabled===true||(n=s.ancestor(\"fieldset\",e))&&(n=s.first(\"legend\",n))&&!n.contains(e))' + ')){' + source + '}';\n                break;\n\n              case 'read-only':\n                source = 'if(' + N + '(' + '(/^textarea$/i.test(e.localName)&&(e.readOnly||e.disabled))||' + '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&e.readOnly)' + ')){' + source + '}';\n                break;\n\n              case 'read-write':\n                source = 'if(' + N + '(' + '((/^textarea$/i.test(e.localName)&&!e.readOnly&&!e.disabled)||' + '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&!e.readOnly&&!e.disabled))||' + '(e.hasAttribute(\"contenteditable\")||(s.doc.designMode==\"on\"))' + ')){' + source + '}';\n                break;\n\n              case 'placeholder-shown':\n                source = 'if(' + N + '(' + '(/^input|textarea$/i.test(e.localName))&&e.hasAttribute(\"placeholder\")&&' + '(\"|textarea|password|number|search|email|text|tel|url|\".includes(\"|\"+e.type+\"|\"))&&' + '(!s.match(\":focus\",e))' + ')){' + source + '}';\n                break;\n\n              case 'default':\n                source = 'if(' + N + '(\"form\" in e && e.form)){' + 'var x=0;n=[];' + 'if(e.type==\"image\")n=e.form.getElementsByTagName(\"input\");' + 'if(e.type==\"submit\")n=e.form.elements;' + 'while(n[x]&&e!==n[x]){' + 'if(n[x].type==\"image\")break;' + 'if(n[x].type==\"submit\")break;' + 'x++;' + '}' + '}' + 'if(' + N + '(e.form&&(e===n[x]&&\"|image|submit|\".includes(\"|\"+e.type+\"|\"))||' + '((/^option$/i.test(e.localName))&&e.defaultSelected)||' + '((\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\"))&&e.defaultChecked)' + ')){' + source + '}';\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // *** input pseudo-classes (for form validation)\n          // :checked, :indeterminate, :valid, :invalid, :in-range, :out-of-range, :required, :optional\n          else if (match = selector.match(Patterns.inputvalue)) {\n            match[1] = match[1].toLowerCase();\n\n            switch (match[1]) {\n              case 'checked':\n                source = 'if(' + N + '(/^input$/i.test(e.localName)&&' + '(\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\")&&e.checked)||' + '(/^option$/i.test(e.localName)&&(e.selected||e.checked))' + ')){' + source + '}';\n                break;\n\n              case 'indeterminate':\n                source = 'if(' + N + '(/^progress$/i.test(e.localName)&&!e.hasAttribute(\"value\"))||' + '(/^input$/i.test(e.localName)&&(\"checkbox\"==e.type&&e.indeterminate)||' + '(\"radio\"==e.type&&e.name&&!s.first(\"input[name=\"+e.name+\"]:checked\",e.form))' + ')){' + source + '}';\n                break;\n\n              case 'required':\n                source = 'if(' + N + '(/^input|select|textarea$/i.test(e.localName)&&e.required)' + '){' + source + '}';\n                break;\n\n              case 'optional':\n                source = 'if(' + N + '(/^input|select|textarea$/i.test(e.localName)&&!e.required)' + '){' + source + '}';\n                break;\n\n              case 'invalid':\n                source = 'if(' + N + '((' + '(/^form$/i.test(e.localName)&&!e.noValidate)||' + '(e.willValidate&&!e.formNoValidate))&&!e.checkValidity())||' + '(/^fieldset$/i.test(e.localName)&&s.first(\":invalid\",e))' + '){' + source + '}';\n                break;\n\n              case 'valid':\n                source = 'if(' + N + '((' + '(/^form$/i.test(e.localName)&&!e.noValidate)||' + '(e.willValidate&&!e.formNoValidate))&&e.checkValidity())||' + '(/^fieldset$/i.test(e.localName)&&s.first(\":valid\",e))' + '){' + source + '}';\n                break;\n\n              case 'in-range':\n                source = 'if(' + N + '(/^input$/i.test(e.localName))&&' + '(e.willValidate&&!e.formNoValidate)&&' + '(!e.validity.rangeUnderflow&&!e.validity.rangeOverflow)&&' + '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' + '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' + '){' + source + '}';\n                break;\n\n              case 'out-of-range':\n                source = 'if(' + N + '(/^input$/i.test(e.localName))&&' + '(e.willValidate&&!e.formNoValidate)&&' + '(e.validity.rangeUnderflow||e.validity.rangeOverflow)&&' + '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' + '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' + '){' + source + '}';\n                break;\n\n              default:\n                emit('\\'' + selector_string + '\\'' + qsInvalid);\n                break;\n            }\n          } // allow pseudo-elements starting with single colon (:)\n          // :after, :before, :first-letter, :first-line\n          // assert: e.type is in double-colon format, like ::after\n          else if (match = selector.match(Patterns.pseudo_sng)) {\n            source = 'if(e.element&&e.type.toLowerCase()==\"' + ':' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n          } // allow pseudo-elements starting with double colon (::)\n          // ::after, ::before, ::marker, ::placeholder, ::inactive-selection, ::selection, ::-webkit-<foo-bar>\n          // assert: e.type is in double-colon format, like ::after\n          else if (match = selector.match(Patterns.pseudo_dbl)) {\n            source = 'if(e.element&&e.type.toLowerCase()==\"' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n          } else {\n            // reset\n            expr = false;\n            status = false; // process registered selector extensions\n\n            for (expr in Selectors) {\n              if (match = selector.match(Selectors[expr].Expression)) {\n                result = Selectors[expr].Callback(match, source, mode, callback);\n\n                if ('match' in result) {\n                  match = result.match;\n                }\n\n                vars = result.modvar;\n\n                if (mode) {\n                  // add extra select() vars\n                  vars && S_VARS.indexOf(vars) < 0 && (S_VARS[S_VARS.length] = vars);\n                } else {\n                  // add extra match() vars\n                  vars && M_VARS.indexOf(vars) < 0 && (M_VARS[M_VARS.length] = vars);\n                } // extension source code\n\n\n                source = result.source; // extension status code\n\n                status = result.status; // break on status error\n\n                if (status) {\n                  break;\n                }\n              }\n            }\n\n            if (!status) {\n              emit('unknown pseudo-class selector \\'' + selector + '\\'');\n              return '';\n            }\n\n            if (!expr) {\n              emit('unknown token in selector \\'' + selector + '\\'');\n              return '';\n            }\n          }\n\n          break;\n\n        default:\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          break selector_recursion_label;\n      } // end of switch symbol\n\n\n      if (!match) {\n        emit('\\'' + selector_string + '\\'' + qsInvalid);\n        return '';\n      } // pop last component\n\n\n      selector = match.pop();\n    } // end of while selector\n\n\n    return source;\n  },\n      // replace ':scope' pseudo-class with element references\n  makeref = function (selectors, element) {\n    return selectors.replace(/:scope/ig, element.localName + (element.id ? '#' + element.id : '') + (element.className ? '.' + element.classList[0] : ''));\n  },\n      // equivalent of w3c 'closest' method\n  ancestor = function _closest(selectors, element, callback) {\n    if (/:scope/i.test(selectors)) {\n      selectors = makeref(selectors, element);\n    }\n\n    while (element) {\n      if (match(selectors, element, callback)) break;\n      element = element.parentElement;\n    }\n\n    return element;\n  },\n      match_assert = function (f, element, callback) {\n    for (var i = 0, l = f.length, r = false; l > i; ++i) f[i](element, callback, null, false) && (r = true);\n\n    return r;\n  },\n      match_collect = function (selectors, callback) {\n    for (var i = 0, l = selectors.length, f = []; l > i; ++i) f[i] = compile(selectors[i], false, callback);\n\n    return {\n      factory: f\n    };\n  },\n      // equivalent of w3c 'matches' method\n  match = function _matches(selectors, element, callback) {\n    var expressions, parsed;\n\n    if (element && matchResolvers[selectors]) {\n      return match_assert(matchResolvers[selectors].factory, element, callback);\n    }\n\n    lastMatched = selectors; // arguments validation\n\n    if (arguments.length === 0) {\n      emit(qsNotArgs, TypeError);\n      return Config.VERBOSITY ? undefined : false;\n    } else if (arguments[0] === '') {\n      emit('\\'\\'' + qsInvalid);\n      return Config.VERBOSITY ? undefined : false;\n    } // input NULL or UNDEFINED\n\n\n    if (typeof selectors != 'string') {\n      selectors = '' + selectors;\n    }\n\n    if (/:scope/i.test(selectors)) {\n      selectors = makeref(selectors, element);\n    } // normalize input string\n\n\n    parsed = selectors.replace(/\\x00|\\\\$/g, '\\ufffd').replace(REX.CombineWSP, '\\x20').replace(REX.PseudosWSP, '$1').replace(REX.TabCharWSP, '\\t').replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, ''); // parse, validate and split possible compound selectors\n\n    if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n      expressions = parsed.match(REX.SplitGroup);\n\n      if (parsed[parsed.length - 1] == ',') {\n        emit(qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n    } else {\n      emit('\\'' + selectors + '\\'' + qsInvalid);\n      return Config.VERBOSITY ? undefined : false;\n    }\n\n    matchResolvers[selectors] = match_collect(expressions, callback);\n    return match_assert(matchResolvers[selectors].factory, element, callback);\n  },\n      // equivalent of w3c 'querySelector' method\n  first = function _querySelector(selectors, context, callback) {\n    if (arguments.length === 0) {\n      emit(qsNotArgs, TypeError);\n    }\n\n    return select(selectors, context, typeof callback == 'function' ? function firstMatch(element) {\n      callback(element);\n      return false;\n    } : function firstMatch() {\n      return false;\n    })[0] || null;\n  },\n      // equivalent of w3c 'querySelectorAll' method\n  select = function _querySelectorAll(selectors, context, callback) {\n    var expressions, nodes, parsed, resolver;\n    context || (context = doc);\n\n    if (selectors) {\n      if (resolver = selectResolvers[selectors]) {\n        if (resolver.context === context && resolver.callback === callback) {\n          var f = resolver.factory,\n              h = resolver.htmlset,\n              n = resolver.nodeset,\n              nodes = [];\n\n          if (n.length > 1) {\n            for (var i = 0, l = n.length, list; l > i; ++i) {\n              list = compat[n[i][0]](context, n[i].slice(1))();\n\n              if (f[i] !== null) {\n                f[i](list, callback, context, nodes);\n              } else {\n                nodes = nodes.concat(list);\n              }\n            }\n\n            if (l > 1 && nodes.length > 1) {\n              nodes.sort(documentOrder);\n              hasDupes && (nodes = unique(nodes));\n            }\n          } else {\n            if (f[0]) {\n              nodes = f[0](h[0](), callback, context, nodes);\n            } else {\n              nodes = h[0]();\n            }\n          }\n\n          return typeof callback == 'function' ? concatCall(nodes, callback) : nodes;\n        }\n      }\n    }\n\n    lastSelected = selectors; // arguments validation\n\n    if (arguments.length === 0) {\n      emit(qsNotArgs, TypeError);\n      return Config.VERBOSITY ? undefined : none;\n    } else if (arguments[0] === '') {\n      emit('\\'\\'' + qsInvalid);\n      return Config.VERBOSITY ? undefined : none;\n    } else if (lastContext !== context) {\n      lastContext = switchContext(context);\n    } // input NULL or UNDEFINED\n\n\n    if (typeof selectors != 'string') {\n      selectors = '' + selectors;\n    }\n\n    if (/:scope/i.test(selectors)) {\n      selectors = makeref(selectors, context);\n    } // normalize input string\n\n\n    parsed = selectors.replace(/\\x00|\\\\$/g, '\\ufffd').replace(REX.CombineWSP, '\\x20').replace(REX.PseudosWSP, '$1').replace(REX.TabCharWSP, '\\t').replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, ''); // parse, validate and split possible compound selectors\n\n    if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n      expressions = parsed.match(REX.SplitGroup);\n\n      if (parsed[parsed.length - 1] == ',') {\n        emit(qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n    } else {\n      emit('\\'' + selectors + '\\'' + qsInvalid);\n      return Config.VERBOSITY ? undefined : false;\n    } // save/reuse factory and closure collection\n\n\n    selectResolvers[selectors] = collect(expressions, context, callback);\n    nodes = selectResolvers[selectors].results;\n    return typeof callback == 'function' ? concatCall(nodes, callback) : nodes;\n  },\n      // optimize selectors avoiding duplicated checks\n  optimize = function (selector, token) {\n    var index = token.index,\n        length = token[1].length + token[2].length;\n    return selector.slice(0, index) + (' >+~'.indexOf(selector.charAt(index - 1)) > -1 ? ':['.indexOf(selector.charAt(index + length + 1)) > -1 ? '*' : '' : '') + selector.slice(index + length - (token[1] == '*' ? 1 : 0));\n  },\n      // prepare factory resolvers and closure collections\n  collect = function (selectors, context, callback) {\n    var i,\n        l,\n        seen = {},\n        token = ['', '*', '*'],\n        optimized = selectors,\n        factory = [],\n        htmlset = [],\n        nodeset = [],\n        results = [],\n        type;\n\n    for (i = 0, l = selectors.length; l > i; ++i) {\n      if (!seen[selectors[i]] && (seen[selectors[i]] = true)) {\n        type = selectors[i].match(reOptimizer);\n\n        if (type && type[1] != ':' && (token = type)) {\n          token[1] || (token[1] = '*');\n          optimized[i] = optimize(optimized[i], token);\n        } else {\n          token = ['', '*', '*'];\n        }\n      }\n\n      nodeset[i] = token[1] + token[2];\n      htmlset[i] = compat[token[1]](context, token[2]);\n      factory[i] = compile(optimized[i], true, null);\n      factory[i] ? factory[i](htmlset[i](), callback, context, results) : result.concat(htmlset[i]());\n    }\n\n    if (l > 1) {\n      results.sort(documentOrder);\n      hasDupes && (results = unique(results));\n    }\n\n    return {\n      callback: callback,\n      context: context,\n      factory: factory,\n      htmlset: htmlset,\n      nodeset: nodeset,\n      results: results\n    };\n  },\n      // QSA placeholders to native references\n  _closest,\n      _matches,\n      _querySelector,\n      _querySelectorAll,\n      // overrides QSA methods (only for browsers)\n  install = function (all) {\n    // save native QSA references\n    _closest = Element.prototype.closest;\n    _matches = Element.prototype.matches;\n    _querySelector = Document.prototype.querySelector;\n    _querySelectorAll = Document.prototype.querySelectorAll;\n\n    Element.prototype.closest = function closest() {\n      var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n\n      if (!('nodeType' in this)) {\n        emit('\\'closest\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n      }\n\n      return arguments.length < 1 ? ancestor.apply(this, []) : arguments.length < 2 ? ancestor.apply(this, [arguments[0], this]) : ancestor.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n    };\n\n    Element.prototype.matches = function matches() {\n      var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n\n      if (!('nodeType' in this)) {\n        emit('\\'matches\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n      }\n\n      return arguments.length < 1 ? match.apply(this, []) : arguments.length < 2 ? match.apply(this, [arguments[0], this]) : match.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n    };\n\n    Element.prototype.querySelector = Document.prototype.querySelector = DocumentFragment.prototype.querySelector = function querySelector() {\n      var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n\n      if (!('nodeType' in this)) {\n        emit('\\'querySelector\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n      }\n\n      return arguments.length < 1 ? first.apply(this, []) : arguments.length < 2 ? first.apply(this, [arguments[0], this]) : first.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n    };\n\n    Element.prototype.querySelectorAll = Document.prototype.querySelectorAll = DocumentFragment.prototype.querySelectorAll = function querySelectorAll() {\n      var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n\n      if (!('nodeType' in this)) {\n        emit('\\'querySelectorAll\\' called on an object that does not implement interface ' + ctor + '.', TypeError);\n      }\n\n      return arguments.length < 1 ? select.apply(this, []) : arguments.length < 2 ? select.apply(this, [arguments[0], this]) : select.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n    };\n\n    if (all) {\n      document.addEventListener('load', function (e) {\n        var c,\n            d,\n            r,\n            s,\n            t = e.target;\n\n        if (/iframe/i.test(t.localName)) {\n          c = '(' + Export + ')(this, ' + Factory + ');';\n          d = t.contentDocument;\n          s = d.createElement('script');\n          s.textContent = c + 'NW.Dom.install()';\n          r = d.documentElement;\n          r.removeChild(r.insertBefore(s, r.firstChild));\n        }\n      }, true);\n    }\n  },\n      // restore QSA methods (only for browsers)\n  uninstall = function () {\n    // reinstates QSA native references\n    Element.prototype.closest = _closest;\n    Element.prototype.matches = _matches;\n    Element.prototype.querySelector = Document.prototype.querySelector = DocumentFragment.prototype.querySelector = _querySelector;\n    Element.prototype.querySelectorAll = Document.prototype.querySelectorAll = DocumentFragment.prototype.querySelectorAll = _querySelectorAll;\n  },\n      // empty set\n  none = Array(),\n      // context\n  lastContext,\n      // selector\n  lastMatched,\n      lastSelected,\n      // cached lambdas\n  matchLambdas = {},\n      selectLambdas = {},\n      // cached resolvers\n  matchResolvers = {},\n      selectResolvers = {},\n      // passed to resolvers\n  Snapshot = {\n    doc: doc,\n    from: doc,\n    root: root,\n    byTag: byTag,\n    first: first,\n    match: match,\n    ancestor: ancestor,\n    nthOfType: nthOfType,\n    nthElement: nthElement,\n    hasAttributeNS: hasAttributeNS\n  },\n      // public exported methods/objects\n  Dom = {\n    // exported cache objects\n    lastMatched: lastMatched,\n    lastSelected: lastSelected,\n    matchLambdas: matchLambdas,\n    selectLambdas: selectLambdas,\n    matchResolvers: matchResolvers,\n    selectResolvers: selectResolvers,\n    // exported compiler macros\n    CFG: CFG,\n    M_BODY: M_BODY,\n    S_BODY: S_BODY,\n    M_TEST: M_TEST,\n    S_TEST: S_TEST,\n    // exported engine methods\n    byId: byId,\n    byTag: byTag,\n    byClass: byClass,\n    match: match,\n    first: first,\n    select: select,\n    closest: ancestor,\n    compile: compile,\n    configure: configure,\n    emit: emit,\n    Config: Config,\n    Snapshot: Snapshot,\n    Version: version,\n    install: install,\n    uninstall: uninstall,\n    Operators: Operators,\n    Selectors: Selectors,\n    // register a new selector combinator symbol and its related function resolver\n    registerCombinator: function (combinator, resolver) {\n      var i = 0,\n          l = combinator.length,\n          symbol;\n\n      for (; l > i; ++i) {\n        if (combinator[i] != '=') {\n          symbol = combinator[i];\n          break;\n        }\n      }\n\n      if (CFG.combinators.indexOf(symbol) < 0) {\n        CFG.combinators = CFG.combinators.replace('](', symbol + '](');\n        CFG.combinators = CFG.combinators.replace('])', symbol + '])');\n        Combinators[combinator] = resolver;\n        setIdentifierSyntax();\n      } else {\n        console.warn('Warning: the \\'' + combinator + '\\' combinator is already registered.');\n      }\n    },\n    // register a new attribute operator symbol and its related function resolver\n    registerOperator: function (operator, resolver) {\n      var i = 0,\n          l = operator.length,\n          symbol;\n\n      for (; l > i; ++i) {\n        if (operator[i] != '=') {\n          symbol = operator[i];\n          break;\n        }\n      }\n\n      if (CFG.operators.indexOf(symbol) < 0 && !Operators[operator]) {\n        CFG.operators = CFG.operators.replace(']=', symbol + ']=');\n        Operators[operator] = resolver;\n        setIdentifierSyntax();\n      } else {\n        console.warn('Warning: the \\'' + operator + '\\' operator is already registered.');\n      }\n    },\n    // register a new selector symbol and its related function resolver\n    registerSelector: function (name, rexp, func) {\n      Selectors[name] || (Selectors[name] = {\n        Expression: rexp,\n        Callback: func\n      });\n    }\n  };\n\n  initialize(doc);\n  return Dom;\n});","map":{"version":3,"names":["Export","global","factory","module","exports","define","NW","Dom","Factory","version","doc","document","root","documentElement","slice","Array","prototype","WSP","CFG","operators","combinators","NOT","double_enc","single_enc","parens_enc","square_enc","REX","HasEscapes","RegExp","HexNumbers","EscOrQuote","RegExpChar","TrimSpaces","CommaGroup","SplitGroup","FixEscapes","CombineWSP","TabCharWSP","PseudosWSP","STD","combinator","apimethods","namespaces","GROUPS","linguistic","logicalsel","treestruct","locationpc","useraction","structural","inputstate","inputvalue","pseudo_sng","pseudo_dbl","Patterns","children","adjacent","relative","ancestor","universal","namespace","RTL","qsNotArgs","qsInvalid","reNthElem","reNthType","reOptimizer","reValidator","Config","IDS_DUPES","MIXEDCASE","LOGERRORS","VERBOSITY","NAMESPACE","QUIRKS_MODE","HTML_DOCUMENT","ATTR_STD_OPS","HTML_TABLE","Combinators","Selectors","Operators","p1","p2","p3","concatCall","nodes","callback","i","l","length","list","concatList","documentOrder","a","b","hasDupes","compareDocumentPosition","unique","j","hasMixedCaseTagNames","context","ns","api","ownerDocument","namespaceURI","switchContext","force","oldDoc","isHTML","compatMode","indexOf","Snapshot","from","codePointToUTF16","codePoint","lowHex","toString","substr","stringFromCodePoint","String","fromCharCode","fromCodePoint","convertEscapes","str","test","replace","substring","parseInt","unescapeIdentifier","method","compat","c","n","e","f","byId","byTag","byClass","byIdRaw","id","node","next","firstElementChild","nextElementSibling","parentElement","none","all","nodeType","getAttribute","tag","call","toLowerCase","localName","cls","reCls","className","hasAttributeNS","name","attr","getAttributeNames","nthElement","idx","len","set","parent","undefined","parents","element","dir","k","nthOfType","Object","contentType","createElement","configure","option","clear","matchResolvers","selectResolvers","setIdentifierSyntax","emit","message","proto","err","DOMException","console","log","initialize","lastContext","identifier","pseudonames","pseudoparms","doublequote","singlequote","attrparser","attrvalues","attributes","attrmatcher","pseudoclass","standardValidator","tagName","attribute","F_INIT","S_HEAD","M_HEAD","S_LOOP","N_LOOP","M_LOOP","S_BODY","N_BODY","M_BODY","S_TAIL","M_TAIL","S_TEST","N_TEST","M_TEST","S_VARS","M_VARS","compile","selector","mode","token","head","loop","macro","source","vars","selectLambdas","matchLambdas","compileSelector","includes","join","Function","expression","NS","N","D","expr","match","result","status","symbol","type","selector_string","lastSelected","lastMatched","selector_recursion_label","toUpperCase","prefix","split","Math","abs","hasFocus","Expression","Callback","modvar","pop","makeref","selectors","classList","_closest","match_assert","r","match_collect","_matches","expressions","parsed","arguments","TypeError","first","_querySelector","select","firstMatch","_querySelectorAll","resolver","h","htmlset","nodeset","concat","sort","collect","results","optimize","index","charAt","seen","optimized","install","Element","closest","matches","Document","querySelector","querySelectorAll","ctor","getPrototypeOf","__proto__","constructor","apply","DocumentFragment","addEventListener","d","s","t","target","contentDocument","textContent","removeChild","insertBefore","firstChild","uninstall","Version","registerCombinator","warn","registerOperator","operator","registerSelector","rexp","func"],"sources":["C:/Users/17033/balmco/node_modules/nwsapi/src/nwsapi.js"],"sourcesContent":["/*\n * Copyright (C) 2007-2019 Diego Perini\n * All rights reserved.\n *\n * nwsapi.js - Fast CSS Selectors API Engine\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 2.2.1\n * Created: 20070722\n * Release: 20220622\n *\n * License:\n *  http://javascript.nwbox.com/nwsapi/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/nwsapi/nwsapi.js\n */\n\n(function Export(global, factory) {\n\n  'use strict';\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define == 'function' && define['amd']) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = { });\n    global.NW.Dom = factory(global, Export);\n  }\n\n})(this, function Factory(global, Export) {\n\n  var version = 'nwsapi-2.2.1',\n\n  doc = global.document,\n  root = doc.documentElement,\n  slice = Array.prototype.slice,\n\n  WSP = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n\n  CFG = {\n    // extensions\n    operators: '[~*^$|]=|=',\n    combinators: '[\\\\x20\\\\t>+~](?=[^>+~])'\n  },\n\n  NOT = {\n    // not enclosed in double/single/parens/square\n    double_enc: '(?=(?:[^\"]*[\"][^\"]*[\"])*[^\"]*$)',\n    single_enc: \"(?=(?:[^']*['][^']*['])*[^']*$)\",\n    parens_enc: '(?![^\\\\x28]*\\\\x29)',\n    square_enc: '(?![^\\\\x5b]*\\\\x5d)'\n  },\n\n  REX = {\n    // regular expressions\n    HasEscapes: RegExp('\\\\\\\\'),\n    HexNumbers: RegExp('^[0-9a-fA-F]'),\n    EscOrQuote: RegExp('^\\\\\\\\|[\\\\x22\\\\x27]'),\n    RegExpChar: RegExp('(?:(?!\\\\\\\\)[\\\\\\\\^$.*+?()[\\\\]{}|\\\\/])', 'g'),\n    TrimSpaces: RegExp('[\\\\r\\\\n\\\\f]|^' + WSP + '+|' + WSP + '+$', 'g'),\n    CommaGroup: RegExp('(\\\\s*,\\\\s*)' + NOT.square_enc + NOT.parens_enc, 'g'),\n    SplitGroup: RegExp('((?:\\\\x28[^\\\\x29]*\\\\x29|\\\\[[^\\\\]]*\\\\]|\\\\\\\\.|[^,])+)', 'g'),\n    FixEscapes: RegExp('\\\\\\\\([0-9a-fA-F]{1,6}' + WSP + '?|.)|([\\\\x22\\\\x27])', 'g'),\n    CombineWSP: RegExp('[\\\\n\\\\r\\\\f\\\\x20]+' + NOT.single_enc + NOT.double_enc, 'g'),\n    TabCharWSP: RegExp('(\\\\x20?\\\\t+\\\\x20?)' + NOT.single_enc + NOT.double_enc, 'g'),\n    PseudosWSP: RegExp('\\\\s+([-+])\\\\s+' + NOT.square_enc, 'g')\n  },\n\n  STD = {\n    combinator: RegExp('\\\\s?([>+~])\\\\s?', 'g'),\n    apimethods: RegExp('^(?:[a-z]+|\\\\*)\\\\|', 'i'),\n    namespaces: RegExp('(\\\\*|[a-z]+)\\\\|[-a-z]+', 'i')\n  },\n\n  GROUPS = {\n    // pseudo-classes requiring parameters\n    linguistic: '(dir|lang)\\\\x28\\\\s?([-\\\\w]{2,})\\\\s?(?:\\\\x29|$)',\n    logicalsel: '(is|where|matches|not)\\\\x28\\\\s?([^()]*|[^\\\\x28]*\\\\x28[^\\\\x29]*\\\\x29)\\\\s?(?:\\\\x29|$)',\n    treestruct: '(nth(?:-last)?(?:-child|-of-type))(?:\\\\x28\\\\s?(even|odd|(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)?)\\\\s?(?:\\\\x29|$))',\n    // pseudo-classes not requiring parameters\n    locationpc: '(any-link|link|visited|target)\\\\b',\n    useraction: '(hover|active|focus|focus-within)\\\\b',\n    structural: '(root|empty|(?:(?:first|last|only)(?:-child|-of-type)))\\\\b',\n    inputstate: '(enabled|disabled|read-only|read-write|placeholder-shown|default)\\\\b',\n    inputvalue: '(checked|indeterminate|required|optional|valid|invalid|in-range|out-of-range)\\\\b',\n    // pseudo-elements starting with single colon (:)\n    pseudo_sng: '(after|before|first-letter|first-line)\\\\b',\n    // pseudo-elements starting with double colon (::)\n    pseudo_dbl: ':(after|before|first-letter|first-line|selection|placeholder|-webkit-[-a-zA-Z0-9]{2,})\\\\b'\n  },\n\n  Patterns = {\n    // pseudo-classes\n    treestruct: RegExp('^:(?:' + GROUPS.treestruct + ')(.*)', 'i'),\n    structural: RegExp('^:(?:' + GROUPS.structural + ')(.*)', 'i'),\n    linguistic: RegExp('^:(?:' + GROUPS.linguistic + ')(.*)', 'i'),\n    useraction: RegExp('^:(?:' + GROUPS.useraction + ')(.*)', 'i'),\n    inputstate: RegExp('^:(?:' + GROUPS.inputstate + ')(.*)', 'i'),\n    inputvalue: RegExp('^:(?:' + GROUPS.inputvalue + ')(.*)', 'i'),\n    locationpc: RegExp('^:(?:' + GROUPS.locationpc + ')(.*)', 'i'),\n    logicalsel: RegExp('^:(?:' + GROUPS.logicalsel + ')(.*)', 'i'),\n    pseudo_dbl: RegExp('^:(?:' + GROUPS.pseudo_dbl + ')(.*)', 'i'),\n    pseudo_sng: RegExp('^:(?:' + GROUPS.pseudo_sng + ')(.*)', 'i'),\n    // combinator symbols\n    children: RegExp('^' + WSP + '?\\\\>' + WSP + '?(.*)'),\n    adjacent: RegExp('^' + WSP + '?\\\\+' + WSP + '?(.*)'),\n    relative: RegExp('^' + WSP + '?\\\\~' + WSP + '?(.*)'),\n    ancestor: RegExp('^' + WSP + '+(.*)'),\n   // universal & namespace\n   universal: RegExp('^\\\\*(.*)'),\n   namespace: RegExp('^(\\\\w+|\\\\*)?\\\\|(.*)')\n  },\n\n  // regexp to aproximate detection of RTL languages (Arabic)\n  RTL = RegExp('^[\\\\u0591-\\\\u08ff\\\\ufb1d-\\\\ufdfd\\\\ufe70-\\\\ufefc ]+$'),\n\n  // emulate firefox error strings\n  qsNotArgs = 'Not enough arguments',\n  qsInvalid = ' is not a valid selector',\n\n  // detect structural pseudo-classes in selectors\n  reNthElem = RegExp('(:nth(?:-last)?-child)', 'i'),\n  reNthType = RegExp('(:nth(?:-last)?-of-type)', 'i'),\n\n  // placeholder for global regexp\n  reOptimizer,\n  reValidator,\n\n  // special handling configuration flags\n  Config = {\n    IDS_DUPES: true,\n    MIXEDCASE: true,\n    LOGERRORS: true,\n    VERBOSITY: true\n  },\n\n  NAMESPACE,\n  QUIRKS_MODE,\n  HTML_DOCUMENT,\n\n  ATTR_STD_OPS = {\n    '=': 1, '^=': 1, '$=': 1, '|=': 1, '*=': 1, '~=': 1\n  },\n\n  HTML_TABLE = {\n    'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n    'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n    'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n    'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n    'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n    'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n    'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n  },\n\n  Combinators = { },\n\n  Selectors = { },\n\n  Operators = {\n     '=': { p1: '^',\n            p2: '$',\n            p3: 'true' },\n    '^=': { p1: '^',\n            p2: '',\n            p3: 'true' },\n    '$=': { p1: '',\n            p2: '$',\n            p3: 'true' },\n    '*=': { p1: '',\n            p2: '',\n            p3: 'true' },\n    '|=': { p1: '^',\n            p2: '(-|$)',\n            p3: 'true' },\n    '~=': { p1: '(^|\\\\s)',\n            p2: '(\\\\s|$)',\n            p3: 'true' }\n  },\n\n  concatCall =\n    function(nodes, callback) {\n      var i = 0, l = nodes.length, list = Array(l);\n      while (l > i) {\n        if (false === callback(list[i] = nodes[i])) break;\n        ++i;\n      }\n      return list;\n    },\n\n  concatList =\n    function(list, nodes) {\n      var i = -1, l = nodes.length;\n      while (l--) { list[list.length] = nodes[++i]; }\n      return list;\n    },\n\n  documentOrder =\n    function(a, b) {\n      if (!hasDupes && a === b) {\n        hasDupes = true;\n        return 0;\n      }\n      return a.compareDocumentPosition(b) & 4 ? -1 : 1;\n    },\n\n  hasDupes = false,\n\n  unique =\n    function(nodes) {\n      var i = 0, j = -1, l = nodes.length + 1, list = [ ];\n      while (--l) {\n        if (nodes[i++] === nodes[i]) continue;\n        list[++j] = nodes[i - 1];\n      }\n      hasDupes = false;\n      return list;\n    },\n\n  // check context for mixed content\n  hasMixedCaseTagNames =\n    function(context) {\n      var ns, api = 'getElementsByTagNameNS';\n\n      // current host context (ownerDocument)\n      context = context.ownerDocument || context;\n\n      // documentElement (root) element namespace or default html/xhtml namespace\n      ns = context.documentElement.namespaceURI || 'http://www.w3.org/1999/xhtml';\n\n      // checking the number of non HTML nodes in the document\n      return (context[api]('*', '*').length - context[api](ns, '*').length) > 0;\n    },\n\n  switchContext =\n    function(context, force) {\n      var oldDoc = doc;\n      doc = context.ownerDocument || context;\n      if (force || oldDoc !== doc) {\n        // force a new check for each document change\n        // performed before the next select operation\n        root = doc.documentElement;\n        HTML_DOCUMENT = isHTML(doc);\n        QUIRKS_MODE = HTML_DOCUMENT &&\n          doc.compatMode.indexOf('CSS') < 0;\n        NAMESPACE = root && root.namespaceURI;\n        Snapshot.doc = doc;\n        Snapshot.root = root;\n      }\n      return (Snapshot.from = context);\n    },\n\n  // convert single codepoint to UTF-16 encoding\n  codePointToUTF16 =\n    function(codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff ||\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\n        return '\\\\ufffd';\n      }\n      // javascript strings are UTF-16 encoded\n      if (codePoint < 0x10000) {\n        var lowHex = '000' + codePoint.toString(16);\n        return '\\\\u' + lowHex.substr(lowHex.length - 4);\n      }\n      // supplementary high + low surrogates\n      return '\\\\u' + (((codePoint - 0x10000) >> 0x0a) + 0xd800).toString(16) +\n             '\\\\u' + (((codePoint - 0x10000) % 0x400) + 0xdc00).toString(16);\n    },\n\n  // convert single codepoint to string\n  stringFromCodePoint =\n    function(codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff ||\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\n        return '\\ufffd';\n      }\n      if (codePoint < 0x10000) {\n        return String.fromCharCode(codePoint);\n      }\n      return String.fromCodePoint ?\n        String.fromCodePoint(codePoint) :\n        String.fromCharCode(\n          ((codePoint - 0x10000) >> 0x0a) + 0xd800,\n          ((codePoint - 0x10000) % 0x400) + 0xdc00);\n    },\n\n  // convert escape sequence in a CSS string or identifier\n  // to javascript string with javascript escape sequences\n  convertEscapes =\n    function(str) {\n      return REX.HasEscapes.test(str) ?\n        str.replace(REX.FixEscapes,\n          function(substring, p1, p2) {\n            // unescaped \" or '\n            return p2 ? '\\\\' + p2 :\n              // javascript strings are UTF-16 encoded\n              REX.HexNumbers.test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n              // \\' \\\"\n              REX.EscOrQuote.test(p1) ? substring :\n              // \\g \\h \\. \\# etc\n              p1;\n          }\n        ) : str;\n    },\n\n  // convert escape sequence in a CSS string or identifier\n  // to javascript string with characters representations\n  unescapeIdentifier =\n    function(str) {\n      return REX.HasEscapes.test(str) ?\n        str.replace(REX.FixEscapes,\n          function(substring, p1, p2) {\n            // unescaped \" or '\n            return p2 ? p2 :\n              // javascript strings are UTF-16 encoded\n              REX.HexNumbers.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n              // \\' \\\"\n              REX.EscOrQuote.test(p1) ? substring :\n              // \\g \\h \\. \\# etc\n              p1;\n          }\n        ) : str;\n    },\n\n  method = {\n    '#': 'getElementById',\n    '*': 'getElementsByTagNameNS',\n    '.': 'getElementsByClassName'\n    },\n\n  compat = {\n    '#': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byId(n, c); }; },\n    '*': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byTag(n, c); }; },\n    '.': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byClass(n, c); }; }\n    },\n\n  // find duplicate ids using iterative walk\n  byIdRaw =\n    function(id, context) {\n      var node = context, nodes = [ ], next = node.firstElementChild;\n      while ((node = next)) {\n        node.id == id && (nodes[nodes.length] = node);\n        if ((next = node.firstElementChild || node.nextElementSibling)) continue;\n        while (!next && (node = node.parentElement) && node !== context) {\n          next = node.nextElementSibling;\n        }\n      }\n      return nodes;\n    },\n\n  // context agnostic getElementById\n  byId =\n    function(id, context) {\n      var e, nodes, api = method['#'];\n\n      // duplicates id allowed\n      if (Config.IDS_DUPES === false) {\n        if (api in context) {\n          return (e = context[api](id)) ? [ e ] : none;\n        }\n      } else {\n        if ('all' in context) {\n          if ((e = context.all[id])) {\n            if (e.nodeType == 1) return e.getAttribute('id') != id ? [ ] : [ e ];\n            else if (id == 'length') return (e = context[api](id)) ? [ e ] : none;\n            for (i = 0, l = e.length, nodes = [ ]; l > i; ++i) {\n              if (e[i].id == id) nodes[nodes.length] = e[i];\n            }\n            return nodes && nodes.length ? nodes : [ nodes ];\n          } else return none;\n        }\n      }\n\n      return byIdRaw(id, context);\n    },\n\n  // context agnostic getElementsByTagName\n  byTag =\n    function(tag, context) {\n      var e, nodes, api = method['*'];\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api]('*', tag));\n      } else {\n        tag = tag.toLowerCase();\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if ((e = context.firstElementChild)) {\n          if (!(e.nextElementSibling || tag == '*' || e.localName == tag)) {\n            return slice.call(e[api]('*', tag));\n          } else {\n            nodes = [ ];\n            do {\n              if (tag == '*' || e.localName == tag) nodes[nodes.length] = e;\n              concatList(nodes, e[api]('*', tag));\n            } while ((e = e.nextElementSibling));\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n\n  // context agnostic getElementsByClassName\n  byClass =\n    function(cls, context) {\n      var e, nodes, api = method['.'], reCls;\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](cls));\n      } else {\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if ((e = context.firstElementChild)) {\n          reCls = RegExp('(^|\\\\s)' + cls + '(\\\\s|$)', QUIRKS_MODE ? 'i' : '');\n          if (!(e.nextElementSibling || reCls.test(e.className))) {\n            return slice.call(e[api](cls));\n          } else {\n            nodes = [ ];\n            do {\n              if (reCls.test(e.className)) nodes[nodes.length] = e;\n              concatList(nodes, e[api](cls));\n            } while ((e = e.nextElementSibling));\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n\n  // namespace aware hasAttribute\n  // helper for XML/XHTML documents\n  hasAttributeNS =\n    function(e, name) {\n      var i, l, attr = e.getAttributeNames();\n      name = RegExp(':?' + name + '$', HTML_DOCUMENT ? 'i' : '');\n      for (i = 0, l = attr.length; l > i; ++i) {\n        if (name.test(attr[i])) return true;\n      }\n      return false;\n    },\n\n  // fast resolver for the :nth-child() and :nth-last-child() pseudo-classes\n  nthElement = (function() {\n    var idx = 0, len = 0, set = 0, parent = undefined, parents = Array(), nodes = Array();\n    return function(element, dir) {\n      // ensure caches are emptied after each run, invoking with dir = 2\n      if (dir == 2) {\n        idx = 0; len = 0; set = 0; nodes.length = 0;\n        parents.length = 0; parent = undefined;\n        return -1;\n      }\n      var e, i, j, k, l;\n      if (parent === element.parentElement) {\n        i = set; j = idx; l = len;\n      } else {\n        l = parents.length;\n        parent = element.parentElement;\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n          if (parents[j] === parent) { i = j; break; }\n          if (parents[k] === parent) { i = k; break; }\n        }\n        if (i < 0) {\n          parents[i = l] = parent;\n          l = 0; nodes[i] = Array();\n          e = parent && parent.firstElementChild || element;\n          while (e) { nodes[i][l] = e; if (e === element) j = l; e = e.nextElementSibling; ++l; }\n          set = i; idx = 0; len = l;\n          if (l < 2) return l;\n        } else {\n          l = nodes[i].length;\n          set = i;\n        }\n      }\n      if (element !== nodes[i][j] && element !== nodes[i][j = 0]) {\n        for (j = 0, e = nodes[i], k = l - 1; l > j; ++j, --k) {\n          if (e[j] === element) { break; }\n          if (e[k] === element) { j = k; break; }\n        }\n      }\n      idx = j + 1; len = l;\n      return dir ? l - j : idx;\n    };\n  })(),\n\n  // fast resolver for the :nth-of-type() and :nth-last-of-type() pseudo-classes\n  nthOfType = (function() {\n    var idx = 0, len = 0, set = 0, parent = undefined, parents = Array(), nodes = Array();\n    return function(element, dir) {\n      // ensure caches are emptied after each run, invoking with dir = 2\n      if (dir == 2) {\n        idx = 0; len = 0; set = 0; nodes.length = 0;\n        parents.length = 0; parent = undefined;\n        return -1;\n      }\n      var e, i, j, k, l, name = element.localName;\n      if (nodes[set] && nodes[set][name] && parent === element.parentElement) {\n        i = set; j = idx; l = len;\n      } else {\n        l = parents.length;\n        parent = element.parentElement;\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n          if (parents[j] === parent) { i = j; break; }\n          if (parents[k] === parent) { i = k; break; }\n        }\n        if (i < 0 || !nodes[i][name]) {\n          parents[i = l] = parent;\n          nodes[i] || (nodes[i] = Object());\n          l = 0; nodes[i][name] = Array();\n          e = parent && parent.firstElementChild || element;\n          while (e) { if (e === element) j = l; if (e.localName == name) { nodes[i][name][l] = e; ++l; } e = e.nextElementSibling; }\n          set = i; idx = j; len = l;\n          if (l < 2) return l;\n        } else {\n          l = nodes[i][name].length;\n          set = i;\n        }\n      }\n      if (element !== nodes[i][name][j] && element !== nodes[i][name][j = 0]) {\n        for (j = 0, e = nodes[i][name], k = l - 1; l > j; ++j, --k) {\n          if (e[j] === element) { break; }\n          if (e[k] === element) { j = k; break; }\n        }\n      }\n      idx = j + 1; len = l;\n      return dir ? l - j : idx;\n    };\n  })(),\n\n  // check if the document type is HTML\n  isHTML =\n    function(node) {\n      var doc = node.ownerDocument || node;\n      return doc.nodeType == 9 &&\n        // contentType not in IE <= 11\n        'contentType' in doc ?\n          doc.contentType.indexOf('/html') > 0 :\n          doc.createElement('DiV').localName == 'div';\n    },\n\n  // configure the engine to use special handling\n  configure =\n    function(option, clear) {\n      if (typeof option == 'string') { return !!Config[option]; }\n      if (typeof option != 'object') { return Config; }\n      for (var i in option) {\n        Config[i] = !!option[i];\n      }\n      // clear lambda cache\n      if (clear) {\n        matchResolvers = { };\n        selectResolvers = { };\n      }\n      setIdentifierSyntax();\n      return true;\n    },\n\n  // centralized error and exceptions handling\n  emit =\n    function(message, proto) {\n      var err;\n      if (Config.VERBOSITY) {\n        if (proto) {\n          err = new proto(message);\n        } else {\n          err = new global.DOMException(message, 'SyntaxError');\n        }\n        throw err;\n      }\n      if (Config.LOGERRORS && console && console.log) {\n        console.log(message);\n      }\n    },\n\n  // execute the engine initialization code\n  initialize =\n    function(doc) {\n      setIdentifierSyntax();\n      lastContext = switchContext(doc, true);\n    },\n\n  // build validation regexps used by the engine\n  setIdentifierSyntax =\n    function() {\n\n      //\n      // NOTE: SPECIAL CASES IN CSS SYNTAX PARSING RULES\n      //\n      // The <EOF-token> https://drafts.csswg.org/css-syntax/#typedef-eof-token\n      // allow mangled|unclosed selector syntax at the end of selectors strings\n      //\n      // Literal equivalent hex representations of the characters: \" ' ` ] )\n      //\n      //     \\\\x22 = \" - double quotes    \\\\x5b = [ - open square bracket\n      //     \\\\x27 = ' - single quote     \\\\x5d = ] - closed square bracket\n      //     \\\\x60 = ` - back tick        \\\\x28 = ( - open round parens\n      //     \\\\x5c = \\ - back slash       \\\\x29 = ) - closed round parens\n      //\n      // using hex format prevents false matches of opened/closed instances\n      // pairs, coloring breakage and other editors highlightning problems.\n      //\n\n      var identifier =\n        // doesn't start with a digit\n        '(?=[^0-9])' +\n        // can start with double dash\n        '(?:-{2}' +\n          // may include ascii chars\n          '|[a-zA-Z0-9-_]' +\n          // non-ascii chars\n          '|[^\\\\x00-\\\\x9f]' +\n          // escaped chars\n          '|\\\\\\\\[^\\\\r\\\\n\\\\f0-9a-fA-F]' +\n          // unicode chars\n          '|\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|\\\\s)?' +\n          // any escaped chars\n          '|\\\\\\\\.' +\n        ')+',\n\n      pseudonames = '[-\\\\w]+',\n      pseudoparms = '(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)',\n      doublequote = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(?:\"|$)',\n      singlequote = \"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*(?:'|$)\",\n\n      attrparser = identifier + '|' + doublequote + '|' + singlequote,\n\n      attrvalues = '([\\\\x22\\\\x27]?)((?!\\\\3)*|(?:\\\\\\\\?.)*?)(?:\\\\3|$)',\n\n      attributes =\n        '\\\\[' +\n          // attribute presence\n          '(?:\\\\*\\\\|)?' +\n          WSP + '?' +\n          '(' + identifier + '(?::' + identifier + ')?)' +\n          WSP + '?' +\n          '(?:' +\n            '(' + CFG.operators + ')' + WSP + '?' +\n            '(?:' + attrparser + ')' +\n          ')?' +\n          // attribute case sensitivity\n          WSP + '?' + '(i)?' + WSP + '?' +\n        '(?:\\\\]|$)',\n\n      attrmatcher = attributes.replace(attrparser, attrvalues),\n\n      pseudoclass =\n        '(?:\\\\x28' + WSP + '*' +\n          '(?:' + pseudoparms + '?)?|' +\n          // universal * &\n          // namespace *|*\n          '(?:\\\\*|\\\\|)|' +\n          '(?:' +\n            '(?::' + pseudonames +\n            '(?:\\\\x28' + pseudoparms + '?(?:\\\\x29|$))?|' +\n          ')|' +\n          '(?:[.#]?' + identifier + ')|' +\n          '(?:' + attributes + ')' +\n          ')+|' +\n          '(?:' + WSP + '?,' + WSP + '?)|' +\n          '(?:' + WSP + '?)|' +\n          '(?:\\\\x29|$))*',\n\n      standardValidator =\n        '(?=' + WSP + '?[^>+~(){}<>])' +\n        '(?:' +\n          // universal * &\n          // namespace *|*\n          '(?:\\\\*|\\\\|)|' +\n          '(?:[.#]?' + identifier + ')+|' +\n          '(?:' + attributes + ')+|' +\n          '(?:::?' + pseudonames + pseudoclass + ')|' +\n          '(?:' + WSP + '?' + CFG.combinators + WSP + '?)|' +\n          '(?:' + WSP + '?,' + WSP + '?)|' +\n          '(?:' + WSP + '?)' +\n        ')+';\n\n      // the following global RE is used to return the\n      // deepest localName in selector strings and then\n      // use it to retrieve all possible matching nodes\n      // that will be filtered by compiled resolvers\n      reOptimizer = RegExp(\n        '(?:([.:#*]?)' +\n        '(' + identifier + ')' +\n        '(?:' +\n          ':[-\\\\w]+|' +\n          '\\\\[[^\\\\]]+(?:\\\\]|$)|' +\n          '\\\\x28[^\\\\x29]+(?:\\\\x29|$)' +\n        ')*)$');\n\n      // global\n      reValidator = RegExp(standardValidator, 'g');\n\n      Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n      Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n      Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n      Patterns.attribute = RegExp('^(?:' + attrmatcher + ')(.*)');\n    },\n\n  F_INIT = '\"use strict\";return function Resolver(c,f,x,r)',\n\n  S_HEAD = 'var e,n,o,j=r.length-1,k=-1',\n  M_HEAD = 'var e,n,o',\n\n  S_LOOP = 'main:while((e=c[++k]))',\n  N_LOOP = 'main:while((e=c.item(++k)))',\n  M_LOOP = 'e=c;',\n\n  S_BODY = 'r[++j]=c[k];',\n  N_BODY = 'r[++j]=c.item(k);',\n  M_BODY = '',\n\n  S_TAIL = 'continue main;',\n  M_TAIL = 'r=true;',\n\n  S_TEST = 'if(f(c[k])){break main;}',\n  N_TEST = 'if(f(c.item(k))){break main;}',\n  M_TEST = 'f(c);',\n\n  S_VARS = [ ],\n  M_VARS = [ ],\n\n  // compile groups or single selector strings into\n  // executable functions for matching or selecting\n  compile =\n    function(selector, mode, callback) {\n      var factory, token, head = '', loop = '', macro = '', source = '', vars = '';\n\n      // 'mode' can be boolean or null\n      // true = select / false = match\n      // null to use collection.item()\n      switch (mode) {\n        case true:\n          if (selectLambdas[selector]) { return selectLambdas[selector]; }\n          macro = S_BODY + (callback ? S_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = S_LOOP;\n          break;\n        case false:\n          if (matchLambdas[selector]) { return matchLambdas[selector]; }\n          macro = M_BODY + (callback ? M_TEST : '') + M_TAIL;\n          head = M_HEAD;\n          loop = M_LOOP;\n          break;\n        case null:\n          if (selectLambdas[selector]) { return selectLambdas[selector]; }\n          macro = N_BODY + (callback ? N_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = N_LOOP;\n          break;\n        default:\n          break;\n      }\n\n      source = compileSelector(selector, macro, mode, callback);\n\n      loop += mode || mode === null ? '{' + source + '}' : source;\n\n      if (mode || mode === null && selector.includes(':nth')) {\n        loop += reNthElem.test(selector) ? 's.nthElement(null, 2);' : '';\n        loop += reNthType.test(selector) ? 's.nthOfType(null, 2);' : '';\n      }\n\n      if (S_VARS[0] || M_VARS[0]) {\n        vars = ',' + (S_VARS.join(',') || M_VARS.join(','));\n        S_VARS.length = 0;\n        M_VARS.length = 0;\n      }\n\n      factory = Function('s', F_INIT + '{' + head + vars + ';' + loop + 'return r;}')(Snapshot);\n\n      return mode || mode === null ? (selectLambdas[selector] = factory) : (matchLambdas[selector] = factory);\n    },\n\n  // build conditional code to check components of selector strings\n  compileSelector =\n    function(expression, source, mode, callback) {\n\n      // N is the negation pseudo-class flag\n      // D is the default inverted negation flag\n      var a, b, n, f, i, l, name, NS, N = '', D = '!',\n      compat, expr, match, result, status, symbol, test,\n      type, selector = expression, selector_string, vars;\n\n      // original 'select' or 'match' selector string before normalization\n      selector_string = mode ? lastSelected : lastMatched;\n\n      // isolate selector combinators/components and normalize whitespace\n      selector = selector.replace(STD.combinator, '$1');//.replace(STD.whitespace, ' ');\n\n      // javascript needs a label to break\n      // out of the while loops processing\n      selector_recursion_label:\n\n      while (selector) {\n\n        // get namespace prefix if present or get first char of selector\n        symbol = STD.apimethods.test(selector) ? '|' : selector[0];\n\n        switch (symbol) {\n\n          // universal resolver\n          case '*':\n            match = selector.match(Patterns.universal);\n            if (N == '!') {\n              source = 'if(' + N + 'true' +\n                '){' + source + '}';\n            }\n            break;\n\n          // id resolver\n          case '#':\n            match = selector.match(Patterns.id);\n            source = 'if(' + N + '(/^' + match[1] + '$/.test(e.getAttribute(\"id\"))' +\n              ')){' + source + '}';\n            break;\n\n          // class name resolver\n          case '.':\n            match = selector.match(Patterns.className);\n            compat = (QUIRKS_MODE ? 'i' : '') + '.test(e.getAttribute(\"class\"))';\n            source = 'if(' + N + '(/(^|\\\\s)' + match[1] + '(\\\\s|$)/' + compat +\n              ')){' + source + '}';\n            break;\n\n          // tag name resolver\n          case (/[_a-z]/i.test(symbol) ? symbol : undefined):\n            match = selector.match(Patterns.tagName);\n            source = 'if(' + N + '(e.localName' +\n              (Config.MIXEDCASE || hasMixedCaseTagNames(doc) ?\n                '==\"' + match[1].toLowerCase() + '\"' :\n                '==\"' + match[1].toUpperCase() + '\"') +\n              ')){' + source + '}';\n            break;\n\n          // namespace resolver\n          case '|':\n            match = selector.match(Patterns.namespace);\n            if (match[1] == '*') {\n              source = 'if(' + N + 'true){' + source + '}';\n            } else if (!match[1]) {\n              source = 'if(' + N + '(!e.namespaceURI)){' + source + '}';\n            } else if (typeof match[1] == 'string' && root.prefix == match[1]) {\n              source = 'if(' + N + '(e.namespaceURI==\"' + NAMESPACE + '\")){' + source + '}';\n            } else {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n            }\n            break;\n\n          // attributes resolver\n          case '[':\n            match = selector.match(Patterns.attribute);\n            NS = match[0].match(STD.namespaces);\n            name = match[1];\n            expr = name.split(':');\n            expr = expr.length == 2 ? expr[1] : expr[0];\n            if (match[2] && !(test = Operators[match[2]])) {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n              return '';\n            }\n            if (match[4] === '') {\n              test = match[2] == '~=' ?\n                { p1: '^\\\\s', p2: '+$', p3: 'true' } :\n                  match[2] in ATTR_STD_OPS && match[2] != '~=' ?\n                { p1: '^',    p2: '$',  p3: 'true' } : test;\n            } else if (match[2] == '~=' && match[4].includes(' ')) {\n              // whitespace separated list but value contains space\n              source = 'if(' + N + 'false){' + source + '}';\n              break;\n            } else if (match[4]) {\n              match[4] = convertEscapes(match[4]).replace(REX.RegExpChar, '\\\\$&');\n            }\n            type = match[5] == 'i' || (HTML_DOCUMENT && HTML_TABLE[expr.toLowerCase()]) ? 'i' : '';\n            source = 'if(' + N + '(' +\n              (!match[2] ? (NS ? 's.hasAttributeNS(e,\"' + name + '\")' : 'e.hasAttribute&&e.hasAttribute(\"' + name + '\")') :\n              !match[4] && ATTR_STD_OPS[match[2]] && match[2] != '~=' ? 'e.getAttribute&&e.getAttribute(\"' + name + '\")==\"\"' :\n              '(/' + test.p1 + match[4] + test.p2 + '/' + type + ').test(e.getAttribute&&e.getAttribute(\"' + name + '\"))==' + test.p3) +\n              ')){' + source + '}';\n            break;\n\n          // *** General sibling combinator\n          // E ~ F (F relative sibling of E)\n          case '~':\n            match = selector.match(Patterns.relative);\n            source = 'n=e;while((e=e.previousElementSibling)){' + source + '}e=n;';\n            break;\n          // *** Adjacent sibling combinator\n          // E + F (F adiacent sibling of E)\n          case '+':\n            match = selector.match(Patterns.adjacent);\n            source = 'n=e;if((e=e.previousElementSibling)){' + source + '}e=n;';\n            break;\n          // *** Descendant combinator\n          // E F (E ancestor of F)\n          case '\\x09':\n          case '\\x20':\n            match = selector.match(Patterns.ancestor);\n            source = 'n=e;while((e=e.parentElement)){' + source + '}e=n;';\n            break;\n          // *** Child combinator\n          // E > F (F children of E)\n          case '>':\n            match = selector.match(Patterns.children);\n            source = 'n=e;if((e=e.parentElement)){' + source + '}e=n;';\n            break;\n\n          // *** user supplied combinators extensions\n          case (symbol in Combinators ? symbol : undefined):\n            // for other registered combinators extensions\n            match[match.length - 1] = '*';\n            source = Combinators[symbol](match) + source;\n            break;\n\n          // *** tree-structural pseudo-classes\n          // :root, :empty, :first-child, :last-child, :only-child, :first-of-type, :last-of-type, :only-of-type\n          case ':':\n            if ((match = selector.match(Patterns.structural))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'root':\n                  // there can only be one :root element, so exit the loop once found\n                  source = 'if(' + N + '(e===s.root)){' + source + (mode ? 'break main;' : '') + '}';\n                  break;\n                case 'empty':\n                  // matches elements that don't contain elements or text nodes\n                  source = 'n=e.firstChild;while(n&&!(/1|3/).test(n.nodeType)){n=n.nextSibling}if(' + D + 'n){' + source + '}';\n                  break;\n\n                // *** child-indexed pseudo-classes\n                // :first-child, :last-child, :only-child\n                case 'only-child':\n                  source = 'if(' + N + '(!e.nextElementSibling&&!e.previousElementSibling)){' + source + '}';\n                  break;\n                case 'last-child':\n                  source = 'if(' + N + '(!e.nextElementSibling)){' + source + '}';\n                  break;\n                case 'first-child':\n                  source = 'if(' + N + '(!e.previousElementSibling)){' + source + '}';\n                  break;\n\n                // *** typed child-indexed pseudo-classes\n                // :only-of-type, :last-of-type, :first-of-type\n                case 'only-of-type':\n                  source = 'o=e.localName;' +\n                    'n=e;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' +\n                    'n=e;while((n=n.previousElementSibling)&&n.localName!=o);}if(' + D + 'n){' + source + '}';\n                  break;\n                case 'last-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.nextElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\n                  break;\n                case 'first-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.previousElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** child-indexed & typed child-indexed pseudo-classes\n            // :nth-child, :nth-of-type, :nth-last-child, :nth-last-of-type\n            else if ((match = selector.match(Patterns.treestruct))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'nth-child':\n                case 'nth-of-type':\n                case 'nth-last-child':\n                case 'nth-last-of-type':\n                  expr = /-of-type/i.test(match[1]);\n                  if (match[1] && match[2]) {\n                    type = /last/i.test(match[1]);\n                    if (match[2] == 'n') {\n                      source = 'if(' + N + 'true){' + source + '}';\n                      break;\n                    } else if (match[2] == '1') {\n                      test = type ? 'next' : 'previous';\n                      source = expr ? 'n=e;o=e.localName;' +\n                        'while((n=n.' + test + 'ElementSibling)&&n.localName!=o);if(' + D + 'n){' + source + '}' :\n                        'if(' + N + '!e.' + test + 'ElementSibling){' + source + '}';\n                      break;\n                    } else if (match[2] == 'even' || match[2] == '2n0' || match[2] == '2n+0' || match[2] == '2n') {\n                      test = 'n%2==0';\n                    } else if (match[2] == 'odd'  || match[2] == '2n1' || match[2] == '2n+1') {\n                      test = 'n%2==1';\n                    } else {\n                      f = /n/i.test(match[2]);\n                      n = match[2].split('n');\n                      a = parseInt(n[0], 10) || 0;\n                      b = parseInt(n[1], 10) || 0;\n                      if (n[0] == '-') { a = -1; }\n                      if (n[0] == '+') { a = +1; }\n                      test = (b ? '(n' + (b > 0 ? '-' : '+') + Math.abs(b) + ')' : 'n') + '%' + a + '==0' ;\n                      test =\n                        a >= +1 ? (f ? 'n>' + (b - 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a) :\n                        a <= -1 ? (f ? 'n<' + (b + 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a) :\n                        a === 0 ? (n[0] ? 'n==' + b : 'n>' + (b - 1)) : 'false';\n                    }\n                    expr = expr ? 'OfType' : 'Element';\n                    type = type ? 'true' : 'false';\n                    source = 'n=s.nth' + expr + '(e,' + type + ');if(' + N + '(' + test + ')){' + source + '}';\n                  } else {\n                    emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  }\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** logical combination pseudo-classes\n            // :is( s1, [ s2, ... ]), :not( s1, [ s2, ... ])\n            else if ((match = selector.match(Patterns.logicalsel))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'is':\n                case 'where':\n                case 'matches':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                case 'not':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(!s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** linguistic pseudo-classes\n            // :dir( ltr / rtl ), :lang( en )\n            else if ((match = selector.match(Patterns.linguistic))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'dir':\n                  source = 'var p;if(' + N + '(' +\n                    '(/' + match[2] + '/i.test(e.dir))||(p=s.ancestor(\"[dir]\", e))&&' +\n                    '(/' + match[2] + '/i.test(p.dir))||(e.dir==\"\"||e.dir==\"auto\")&&' +\n                    '(' + (match[2] == 'ltr' ? '!':'')+ RTL +'.test(e.textContent)))' +\n                    '){' + source + '};';\n                  break;\n                case 'lang':\n                  expr = '(?:^|-)' + match[2] + '(?:-|$)';\n                  source = 'var p;if(' + N + '(' +\n                    '(e.isConnected&&(e.lang==\"\"&&(p=s.ancestor(\"[lang]\",e)))&&' +\n                    '(p.lang==\"' + match[2] + '\")||/'+ expr +'/i.test(e.lang)))' +\n                    '){' + source + '};';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** location pseudo-classes\n            // :any-link, :link, :visited, :target\n            else if ((match = selector.match(Patterns.locationpc))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'any-link':\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")||e.visited)){' + source + '}';\n                  break;\n                case 'link':\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\"))){' + source + '}';\n                  break;\n                case 'visited':\n                  source = 'if(' + N + '(/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")&&e.visited)){' + source + '}';\n                  break;\n                case 'target':\n                  source = 'if(' + N + '((s.doc.compareDocumentPosition(e)&16)&&s.doc.location.hash&&e.id==s.doc.location.hash.slice(1))){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user actions pseudo-classes\n            // :hover, :active, :focus\n            else if ((match = selector.match(Patterns.useraction))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'hover':\n                  source = 'hasFocus' in doc && doc.hasFocus() ?\n                    'if(' + N + '(e===s.doc.hoverElement)){' + source + '}' :\n                    'if(' + D + 'true){' + source + '}';\n                  break;\n                case 'active':\n                  source = 'hasFocus' in doc && doc.hasFocus() ?\n                    'if(' + N + '(e===s.doc.activeElement)){' + source + '}' :\n                    'if(' + D + 'true){' + source + '}';\n                  break;\n                case 'focus':\n                  source = 'hasFocus' in doc ?\n                    'if(' + N + '(e===s.doc.activeElement&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' :\n                    'if(' + N + '(e===s.doc.activeElement&&(e.type||e.href))){' + source + '}';\n                  break;\n                case 'focus-within':\n                  source = 'hasFocus' in doc ?\n                    'n=s.doc.activeElement;while(e){if(e===n||e.parentNode===n)break;}' +\n                    'if(' + N + '(e===n&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : source;\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user interface and form pseudo-classes\n            // :enabled, :disabled, :read-only, :read-write, :placeholder-shown, :default\n            else if ((match = selector.match(Patterns.inputstate))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'enabled':\n                  source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e &&e.disabled===false' +\n                    ')){' + source + '}';\n                  break;\n                case 'disabled':\n                  // https://www.w3.org/TR/html5/forms.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n                  source = 'if(' + N + '((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e&&' +\n                    '(e.disabled===true||(n=s.ancestor(\"fieldset\",e))&&(n=s.first(\"legend\",n))&&!n.contains(e))' +\n                    ')){' + source + '}';\n                  break;\n                case 'read-only':\n                  source =\n                    'if(' + N + '(' +\n                      '(/^textarea$/i.test(e.localName)&&(e.readOnly||e.disabled))||' +\n                      '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&e.readOnly)' +\n                    ')){' + source + '}';\n                  break;\n                case 'read-write':\n                  source =\n                    'if(' + N + '(' +\n                      '((/^textarea$/i.test(e.localName)&&!e.readOnly&&!e.disabled)||' +\n                      '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&!e.readOnly&&!e.disabled))||' +\n                      '(e.hasAttribute(\"contenteditable\")||(s.doc.designMode==\"on\"))' +\n                    ')){' + source + '}';\n                  break;\n                case 'placeholder-shown':\n                  source =\n                    'if(' + N + '(' +\n                      '(/^input|textarea$/i.test(e.localName))&&e.hasAttribute(\"placeholder\")&&' +\n                      '(\"|textarea|password|number|search|email|text|tel|url|\".includes(\"|\"+e.type+\"|\"))&&' +\n                      '(!s.match(\":focus\",e))' +\n                    ')){' + source + '}';\n                  break;\n                case 'default':\n                  source =\n                    'if(' + N + '(\"form\" in e && e.form)){' +\n                      'var x=0;n=[];' +\n                      'if(e.type==\"image\")n=e.form.getElementsByTagName(\"input\");' +\n                      'if(e.type==\"submit\")n=e.form.elements;' +\n                      'while(n[x]&&e!==n[x]){' +\n                        'if(n[x].type==\"image\")break;' +\n                        'if(n[x].type==\"submit\")break;' +\n                        'x++;' +\n                      '}' +\n                    '}' +\n                    'if(' + N + '(e.form&&(e===n[x]&&\"|image|submit|\".includes(\"|\"+e.type+\"|\"))||' +\n                      '((/^option$/i.test(e.localName))&&e.defaultSelected)||' +\n                      '((\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\"))&&e.defaultChecked)' +\n                    ')){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** input pseudo-classes (for form validation)\n            // :checked, :indeterminate, :valid, :invalid, :in-range, :out-of-range, :required, :optional\n            else if ((match = selector.match(Patterns.inputvalue))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'checked':\n                  source = 'if(' + N + '(/^input$/i.test(e.localName)&&' +\n                    '(\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\")&&e.checked)||' +\n                    '(/^option$/i.test(e.localName)&&(e.selected||e.checked))' +\n                    ')){' + source + '}';\n                  break;\n                case 'indeterminate':\n                  source =\n                    'if(' + N + '(/^progress$/i.test(e.localName)&&!e.hasAttribute(\"value\"))||' +\n                      '(/^input$/i.test(e.localName)&&(\"checkbox\"==e.type&&e.indeterminate)||' +\n                      '(\"radio\"==e.type&&e.name&&!s.first(\"input[name=\"+e.name+\"]:checked\",e.form))' +\n                    ')){' + source + '}';\n                  break;\n                case 'required':\n                  source =\n                    'if(' + N +\n                      '(/^input|select|textarea$/i.test(e.localName)&&e.required)' +\n                    '){' + source + '}';\n                  break;\n                case 'optional':\n                  source =\n                    'if(' + N +\n                      '(/^input|select|textarea$/i.test(e.localName)&&!e.required)' +\n                    '){' + source + '}';\n                  break;\n                case 'invalid':\n                  source =\n                    'if(' + N + '((' +\n                      '(/^form$/i.test(e.localName)&&!e.noValidate)||' +\n                      '(e.willValidate&&!e.formNoValidate))&&!e.checkValidity())||' +\n                      '(/^fieldset$/i.test(e.localName)&&s.first(\":invalid\",e))' +\n                    '){' + source + '}';\n                  break;\n                case 'valid':\n                  source =\n                    'if(' + N + '((' +\n                      '(/^form$/i.test(e.localName)&&!e.noValidate)||' +\n                      '(e.willValidate&&!e.formNoValidate))&&e.checkValidity())||' +\n                      '(/^fieldset$/i.test(e.localName)&&s.first(\":valid\",e))' +\n                    '){' + source + '}';\n                  break;\n                case 'in-range':\n                  source =\n                    'if(' + N +\n                      '(/^input$/i.test(e.localName))&&' +\n                      '(e.willValidate&&!e.formNoValidate)&&' +\n                      '(!e.validity.rangeUnderflow&&!e.validity.rangeOverflow)&&' +\n                      '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' +\n                      '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' +\n                    '){' + source + '}';\n                  break;\n                case 'out-of-range':\n                  source =\n                    'if(' + N +\n                      '(/^input$/i.test(e.localName))&&' +\n                      '(e.willValidate&&!e.formNoValidate)&&' +\n                      '(e.validity.rangeUnderflow||e.validity.rangeOverflow)&&' +\n                      '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' +\n                      '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' +\n                    '){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // allow pseudo-elements starting with single colon (:)\n            // :after, :before, :first-letter, :first-line\n            // assert: e.type is in double-colon format, like ::after\n            else if ((match = selector.match(Patterns.pseudo_sng))) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' +\n              ':' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // allow pseudo-elements starting with double colon (::)\n            // ::after, ::before, ::marker, ::placeholder, ::inactive-selection, ::selection, ::-webkit-<foo-bar>\n            // assert: e.type is in double-colon format, like ::after\n            else if ((match = selector.match(Patterns.pseudo_dbl))) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' +\n              match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            else {\n\n              // reset\n              expr = false;\n              status = false;\n\n              // process registered selector extensions\n              for (expr in Selectors) {\n                if ((match = selector.match(Selectors[expr].Expression))) {\n                  result = Selectors[expr].Callback(match, source, mode, callback);\n                  if ('match' in result) { match = result.match; }\n                  vars = result.modvar;\n                  if (mode) {\n                     // add extra select() vars\n                     vars && S_VARS.indexOf(vars) < 0 && (S_VARS[S_VARS.length] = vars);\n                  } else {\n                     // add extra match() vars\n                     vars && M_VARS.indexOf(vars) < 0 && (M_VARS[M_VARS.length] = vars);\n                  }\n                  // extension source code\n                  source = result.source;\n                  // extension status code\n                  status = result.status;\n                  // break on status error\n                  if (status) { break; }\n                }\n              }\n\n              if (!status) {\n                emit('unknown pseudo-class selector \\'' + selector + '\\'');\n                return '';\n              }\n\n              if (!expr) {\n                emit('unknown token in selector \\'' + selector + '\\'');\n                return '';\n              }\n\n            }\n            break;\n\n        default:\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          break selector_recursion_label;\n\n        }\n        // end of switch symbol\n\n        if (!match) {\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          return '';\n        }\n\n        // pop last component\n        selector = match.pop();\n      }\n      // end of while selector\n\n      return source;\n    },\n\n  // replace ':scope' pseudo-class with element references\n  makeref =\n    function(selectors, element) {\n      return selectors.replace(/:scope/ig,\n        element.localName +\n        (element.id ? '#' + element.id : '') +\n        (element.className ? '.' + element.classList[0] : ''));\n    },\n\n  // equivalent of w3c 'closest' method\n  ancestor =\n    function _closest(selectors, element, callback) {\n\n      if ((/:scope/i).test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n\n      while (element) {\n        if (match(selectors, element, callback)) break;\n        element = element.parentElement;\n      }\n      return element;\n    },\n\n  match_assert =\n    function(f, element, callback) {\n      for (var i = 0, l = f.length, r = false; l > i; ++i)\n        f[i](element, callback, null, false) && (r = true);\n      return r;\n    },\n\n  match_collect =\n    function(selectors, callback) {\n      for (var i = 0, l = selectors.length, f = [ ]; l > i; ++i)\n        f[i] = compile(selectors[i], false, callback);\n      return { factory: f };\n    },\n\n  // equivalent of w3c 'matches' method\n  match =\n    function _matches(selectors, element, callback) {\n\n      var expressions, parsed;\n\n      if (element && matchResolvers[selectors]) {\n        return match_assert(matchResolvers[selectors].factory, element, callback);\n      }\n\n      lastMatched = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : false;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n\n      if ((/:scope/i).test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n\n      // normalize input string\n      parsed = selectors.\n        replace(/\\x00|\\\\$/g, '\\ufffd').\n        replace(REX.CombineWSP, '\\x20').\n        replace(REX.PseudosWSP, '$1').\n        replace(REX.TabCharWSP, '\\t').\n        replace(REX.CommaGroup, ',').\n        replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      matchResolvers[selectors] = match_collect(expressions, callback);\n\n      return match_assert(matchResolvers[selectors].factory, element, callback);\n    },\n\n  // equivalent of w3c 'querySelector' method\n  first =\n    function _querySelector(selectors, context, callback) {\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n      }\n      return select(selectors, context,\n        typeof callback == 'function' ?\n        function firstMatch(element) {\n          callback(element);\n          return false;\n        } :\n        function firstMatch() {\n          return false;\n        }\n      )[0] || null;\n    },\n\n  // equivalent of w3c 'querySelectorAll' method\n  select =\n    function _querySelectorAll(selectors, context, callback) {\n\n      var expressions, nodes, parsed, resolver;\n\n      context || (context = doc);\n\n      if (selectors) {\n        if ((resolver = selectResolvers[selectors])) {\n          if (resolver.context === context && resolver.callback === callback) {\n            var f = resolver.factory, h = resolver.htmlset, n = resolver.nodeset, nodes = [ ];\n            if (n.length > 1) {\n              for (var i = 0, l = n.length, list; l > i; ++i) {\n                list = compat[n[i][0]](context, n[i].slice(1))();\n                if (f[i] !== null) {\n                  f[i](list, callback, context, nodes);\n                } else {\n                  nodes = nodes.concat(list);\n                }\n              }\n              if (l > 1 && nodes.length > 1) {\n                nodes.sort(documentOrder);\n                hasDupes && (nodes = unique(nodes));\n              }\n            } else {\n              if (f[0]) {\n                nodes = f[0](h[0](), callback, context, nodes);\n              } else {\n                nodes = h[0]();\n              }\n            }\n            return typeof callback == 'function' ?\n              concatCall(nodes, callback) : nodes;\n          }\n        }\n      }\n\n      lastSelected = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (lastContext !== context) {\n        lastContext = switchContext(context);\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n\n      if ((/:scope/i).test(selectors)) {\n        selectors = makeref(selectors, context);\n      }\n\n      // normalize input string\n      parsed = selectors.\n        replace(/\\x00|\\\\$/g, '\\ufffd').\n        replace(REX.CombineWSP, '\\x20').\n        replace(REX.PseudosWSP, '$1').\n        replace(REX.TabCharWSP, '\\t').\n        replace(REX.CommaGroup, ',').\n        replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // save/reuse factory and closure collection\n      selectResolvers[selectors] = collect(expressions, context, callback);\n\n      nodes = selectResolvers[selectors].results;\n\n      return typeof callback == 'function' ?\n        concatCall(nodes, callback) : nodes;\n    },\n\n  // optimize selectors avoiding duplicated checks\n  optimize =\n    function(selector, token) {\n      var index = token.index,\n      length = token[1].length + token[2].length;\n      return selector.slice(0, index) +\n        (' >+~'.indexOf(selector.charAt(index - 1)) > -1 ?\n          (':['.indexOf(selector.charAt(index + length + 1)) > -1 ?\n          '*' : '') : '') + selector.slice(index + length - (token[1] == '*' ? 1 : 0));\n    },\n\n  // prepare factory resolvers and closure collections\n  collect =\n    function(selectors, context, callback) {\n\n      var i, l, seen = { }, token = ['', '*', '*'], optimized = selectors,\n      factory = [ ], htmlset = [ ], nodeset = [ ], results = [ ], type;\n\n      for (i = 0, l = selectors.length; l > i; ++i) {\n\n        if (!seen[selectors[i]] && (seen[selectors[i]] = true)) {\n          type = selectors[i].match(reOptimizer);\n          if (type && type[1] != ':' && (token = type)) {\n            token[1] || (token[1] = '*');\n            optimized[i] = optimize(optimized[i], token);\n          } else {\n            token = ['', '*', '*'];\n          }\n        }\n\n        nodeset[i] = token[1] + token[2];\n        htmlset[i] = compat[token[1]](context, token[2]);\n        factory[i] = compile(optimized[i], true, null);\n\n        factory[i] ?\n          factory[i](htmlset[i](), callback, context, results) :\n          result.concat(htmlset[i]());\n      }\n\n      if (l > 1) {\n        results.sort(documentOrder);\n        hasDupes && (results = unique(results));\n      }\n\n      return {\n        callback: callback,\n        context: context,\n        factory: factory,\n        htmlset: htmlset,\n        nodeset: nodeset,\n        results: results\n      };\n\n    },\n\n  // QSA placeholders to native references\n  _closest, _matches, _querySelector, _querySelectorAll,\n\n  // overrides QSA methods (only for browsers)\n  install =\n    function(all) {\n\n      // save native QSA references\n      _closest = Element.prototype.closest;\n      _matches = Element.prototype.matches;\n      _querySelector = Document.prototype.querySelector;\n      _querySelectorAll = Document.prototype.querySelectorAll;\n\n      Element.prototype.closest =\n        function closest() {\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n          if (!('nodeType' in this)) { emit('\\'closest\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\n          return arguments.length < 1 ? ancestor.apply(this, [ ]) :\n                 arguments.length < 2 ? ancestor.apply(this, [ arguments[0], this ]) :\n                                        ancestor.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\n        };\n\n      Element.prototype.matches =\n        function matches() {\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n          if (!('nodeType' in this)) { emit('\\'matches\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\n          return arguments.length < 1 ? match.apply(this, [ ]) :\n                 arguments.length < 2 ? match.apply(this, [ arguments[0], this ]) :\n                                        match.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\n        };\n\n      Element.prototype.querySelector =\n      Document.prototype.querySelector =\n      DocumentFragment.prototype.querySelector =\n        function querySelector() {\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n          if (!('nodeType' in this)) { emit('\\'querySelector\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\n          return arguments.length < 1 ? first.apply(this, [ ]) :\n                 arguments.length < 2 ? first.apply(this, [ arguments[0], this ]) :\n                                        first.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\n        };\n\n      Element.prototype.querySelectorAll =\n      Document.prototype.querySelectorAll =\n      DocumentFragment.prototype.querySelectorAll =\n        function querySelectorAll() {\n          var ctor = Object.getPrototypeOf(this).__proto__.__proto__.constructor.name;\n          if (!('nodeType' in this)) { emit('\\'querySelectorAll\\' called on an object that does not implement interface ' + ctor + '.', TypeError); }\n          return arguments.length < 1 ? select.apply(this, [ ]) :\n                 arguments.length < 2 ? select.apply(this, [ arguments[0], this ]) :\n                                        select.apply(this, [ arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined ]);\n        };\n\n      if (all) {\n        document.addEventListener('load', function(e) {\n          var c, d, r, s, t = e.target;\n          if (/iframe/i.test(t.localName)) {\n            c = '(' + Export + ')(this, ' + Factory + ');'; d = t.contentDocument;\n            s = d.createElement('script'); s.textContent = c + 'NW.Dom.install()';\n            r = d.documentElement; r.removeChild(r.insertBefore(s, r.firstChild));\n          }\n        }, true);\n      }\n\n    },\n\n  // restore QSA methods (only for browsers)\n  uninstall =\n    function() {\n      // reinstates QSA native references\n      Element.prototype.closest = _closest;\n      Element.prototype.matches = _matches;\n      Element.prototype.querySelector =\n      Document.prototype.querySelector =\n      DocumentFragment.prototype.querySelector = _querySelector;\n      Element.prototype.querySelectorAll =\n      Document.prototype.querySelectorAll =\n      DocumentFragment.prototype.querySelectorAll = _querySelectorAll;\n    },\n\n  // empty set\n  none = Array(),\n\n  // context\n  lastContext,\n\n  // selector\n  lastMatched,\n  lastSelected,\n\n  // cached lambdas\n  matchLambdas = { },\n  selectLambdas = { },\n\n  // cached resolvers\n  matchResolvers = { },\n  selectResolvers = { },\n\n  // passed to resolvers\n  Snapshot = {\n\n    doc: doc,\n    from: doc,\n    root: root,\n\n    byTag: byTag,\n\n    first: first,\n    match: match,\n\n    ancestor: ancestor,\n\n    nthOfType: nthOfType,\n    nthElement: nthElement,\n\n    hasAttributeNS: hasAttributeNS\n  },\n\n  // public exported methods/objects\n  Dom = {\n\n    // exported cache objects\n\n    lastMatched: lastMatched,\n    lastSelected: lastSelected,\n\n    matchLambdas: matchLambdas,\n    selectLambdas: selectLambdas,\n\n    matchResolvers: matchResolvers,\n    selectResolvers: selectResolvers,\n\n    // exported compiler macros\n\n    CFG: CFG,\n\n    M_BODY: M_BODY,\n    S_BODY: S_BODY,\n    M_TEST: M_TEST,\n    S_TEST: S_TEST,\n\n    // exported engine methods\n\n    byId: byId,\n    byTag: byTag,\n    byClass: byClass,\n\n    match: match,\n    first: first,\n    select: select,\n    closest: ancestor,\n\n    compile: compile,\n    configure: configure,\n\n    emit: emit,\n    Config: Config,\n    Snapshot: Snapshot,\n\n    Version: version,\n\n    install: install,\n    uninstall: uninstall,\n\n    Operators: Operators,\n    Selectors: Selectors,\n\n    // register a new selector combinator symbol and its related function resolver\n    registerCombinator:\n      function(combinator, resolver) {\n        var i = 0, l = combinator.length, symbol;\n        for (; l > i; ++i) {\n          if (combinator[i] != '=') {\n            symbol = combinator[i];\n            break;\n          }\n        }\n        if (CFG.combinators.indexOf(symbol) < 0) {\n          CFG.combinators = CFG.combinators.replace('](', symbol + '](');\n          CFG.combinators = CFG.combinators.replace('])', symbol + '])');\n          Combinators[combinator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + combinator + '\\' combinator is already registered.');\n        }\n      },\n\n    // register a new attribute operator symbol and its related function resolver\n    registerOperator:\n      function(operator, resolver) {\n        var i = 0, l = operator.length, symbol;\n        for (; l > i; ++i) {\n          if (operator[i] != '=') {\n            symbol = operator[i];\n            break;\n          }\n        }\n        if (CFG.operators.indexOf(symbol) < 0 && !Operators[operator]) {\n          CFG.operators = CFG.operators.replace(']=', symbol + ']=');\n          Operators[operator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + operator + '\\' operator is already registered.');\n        }\n      },\n\n    // register a new selector symbol and its related function resolver\n    registerSelector:\n      function(name, rexp, func) {\n        Selectors[name] || (Selectors[name] = {\n          Expression: rexp,\n          Callback: func\n        });\n      }\n\n  };\n\n  initialize(doc);\n\n  return Dom;\n\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAAC,SAASA,MAAT,CAAgBC,MAAhB,EAAwBC,OAAxB,EAAiC;EAEhC;;EAEA,IAAI,OAAOC,MAAP,IAAiB,QAAjB,IAA6B,OAAOC,OAAP,IAAkB,QAAnD,EAA6D;IAC3DD,MAAM,CAACC,OAAP,GAAiBF,OAAjB;EACD,CAFD,MAEO,IAAI,OAAOG,MAAP,IAAiB,UAAjB,IAA+BA,MAAM,CAAC,KAAD,CAAzC,EAAkD;IACvDA,MAAM,CAACH,OAAD,CAAN;EACD,CAFM,MAEA;IACLD,MAAM,CAACK,EAAP,KAAcL,MAAM,CAACK,EAAP,GAAY,EAA1B;IACAL,MAAM,CAACK,EAAP,CAAUC,GAAV,GAAgBL,OAAO,CAACD,MAAD,EAASD,MAAT,CAAvB;EACD;AAEF,CAbD,EAaG,IAbH,EAaS,SAASQ,OAAT,CAAiBP,MAAjB,EAAyBD,MAAzB,EAAiC;EAExC,IAAIS,OAAO,GAAG,cAAd;EAAA,IAEAC,GAAG,GAAGT,MAAM,CAACU,QAFb;EAAA,IAGAC,IAAI,GAAGF,GAAG,CAACG,eAHX;EAAA,IAIAC,KAAK,GAAGC,KAAK,CAACC,SAAN,CAAgBF,KAJxB;EAAA,IAMAG,GAAG,GAAG,qBANN;EAAA,IAQAC,GAAG,GAAG;IACJ;IACAC,SAAS,EAAE,YAFP;IAGJC,WAAW,EAAE;EAHT,CARN;EAAA,IAcAC,GAAG,GAAG;IACJ;IACAC,UAAU,EAAE,iCAFR;IAGJC,UAAU,EAAE,iCAHR;IAIJC,UAAU,EAAE,oBAJR;IAKJC,UAAU,EAAE;EALR,CAdN;EAAA,IAsBAC,GAAG,GAAG;IACJ;IACAC,UAAU,EAAEC,MAAM,CAAC,MAAD,CAFd;IAGJC,UAAU,EAAED,MAAM,CAAC,cAAD,CAHd;IAIJE,UAAU,EAAEF,MAAM,CAAC,oBAAD,CAJd;IAKJG,UAAU,EAAEH,MAAM,CAAC,sCAAD,EAAyC,GAAzC,CALd;IAMJI,UAAU,EAAEJ,MAAM,CAAC,kBAAkBX,GAAlB,GAAwB,IAAxB,GAA+BA,GAA/B,GAAqC,IAAtC,EAA4C,GAA5C,CANd;IAOJgB,UAAU,EAAEL,MAAM,CAAC,gBAAgBP,GAAG,CAACI,UAApB,GAAiCJ,GAAG,CAACG,UAAtC,EAAkD,GAAlD,CAPd;IAQJU,UAAU,EAAEN,MAAM,CAAC,qDAAD,EAAwD,GAAxD,CARd;IASJO,UAAU,EAAEP,MAAM,CAAC,0BAA0BX,GAA1B,GAAgC,qBAAjC,EAAwD,GAAxD,CATd;IAUJmB,UAAU,EAAER,MAAM,CAAC,sBAAsBP,GAAG,CAACE,UAA1B,GAAuCF,GAAG,CAACC,UAA5C,EAAwD,GAAxD,CAVd;IAWJe,UAAU,EAAET,MAAM,CAAC,uBAAuBP,GAAG,CAACE,UAA3B,GAAwCF,GAAG,CAACC,UAA7C,EAAyD,GAAzD,CAXd;IAYJgB,UAAU,EAAEV,MAAM,CAAC,mBAAmBP,GAAG,CAACI,UAAxB,EAAoC,GAApC;EAZd,CAtBN;EAAA,IAqCAc,GAAG,GAAG;IACJC,UAAU,EAAEZ,MAAM,CAAC,iBAAD,EAAoB,GAApB,CADd;IAEJa,UAAU,EAAEb,MAAM,CAAC,oBAAD,EAAuB,GAAvB,CAFd;IAGJc,UAAU,EAAEd,MAAM,CAAC,wBAAD,EAA2B,GAA3B;EAHd,CArCN;EAAA,IA2CAe,MAAM,GAAG;IACP;IACAC,UAAU,EAAE,gDAFL;IAGPC,UAAU,EAAE,qFAHL;IAIPC,UAAU,EAAE,+GAJL;IAKP;IACAC,UAAU,EAAE,mCANL;IAOPC,UAAU,EAAE,sCAPL;IAQPC,UAAU,EAAE,4DARL;IASPC,UAAU,EAAE,sEATL;IAUPC,UAAU,EAAE,kFAVL;IAWP;IACAC,UAAU,EAAE,2CAZL;IAaP;IACAC,UAAU,EAAE;EAdL,CA3CT;EAAA,IA4DAC,QAAQ,GAAG;IACT;IACAR,UAAU,EAAElB,MAAM,CAAC,UAAUe,MAAM,CAACG,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CAFT;IAGTG,UAAU,EAAErB,MAAM,CAAC,UAAUe,MAAM,CAACM,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CAHT;IAITL,UAAU,EAAEhB,MAAM,CAAC,UAAUe,MAAM,CAACC,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CAJT;IAKTI,UAAU,EAAEpB,MAAM,CAAC,UAAUe,MAAM,CAACK,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CALT;IAMTE,UAAU,EAAEtB,MAAM,CAAC,UAAUe,MAAM,CAACO,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CANT;IAOTC,UAAU,EAAEvB,MAAM,CAAC,UAAUe,MAAM,CAACQ,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CAPT;IAQTJ,UAAU,EAAEnB,MAAM,CAAC,UAAUe,MAAM,CAACI,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CART;IASTF,UAAU,EAAEjB,MAAM,CAAC,UAAUe,MAAM,CAACE,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CATT;IAUTQ,UAAU,EAAEzB,MAAM,CAAC,UAAUe,MAAM,CAACU,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CAVT;IAWTD,UAAU,EAAExB,MAAM,CAAC,UAAUe,MAAM,CAACS,UAAjB,GAA8B,OAA/B,EAAwC,GAAxC,CAXT;IAYT;IACAG,QAAQ,EAAE3B,MAAM,CAAC,MAAMX,GAAN,GAAY,MAAZ,GAAqBA,GAArB,GAA2B,OAA5B,CAbP;IAcTuC,QAAQ,EAAE5B,MAAM,CAAC,MAAMX,GAAN,GAAY,MAAZ,GAAqBA,GAArB,GAA2B,OAA5B,CAdP;IAeTwC,QAAQ,EAAE7B,MAAM,CAAC,MAAMX,GAAN,GAAY,MAAZ,GAAqBA,GAArB,GAA2B,OAA5B,CAfP;IAgBTyC,QAAQ,EAAE9B,MAAM,CAAC,MAAMX,GAAN,GAAY,OAAb,CAhBP;IAiBV;IACA0C,SAAS,EAAE/B,MAAM,CAAC,UAAD,CAlBP;IAmBVgC,SAAS,EAAEhC,MAAM,CAAC,qBAAD;EAnBP,CA5DX;EAAA,IAkFA;EACAiC,GAAG,GAAGjC,MAAM,CAAC,qDAAD,CAnFZ;EAAA,IAqFA;EACAkC,SAAS,GAAG,sBAtFZ;EAAA,IAuFAC,SAAS,GAAG,0BAvFZ;EAAA,IAyFA;EACAC,SAAS,GAAGpC,MAAM,CAAC,wBAAD,EAA2B,GAA3B,CA1FlB;EAAA,IA2FAqC,SAAS,GAAGrC,MAAM,CAAC,0BAAD,EAA6B,GAA7B,CA3FlB;EAAA,IA6FA;EACAsC,WA9FA;EAAA,IA+FAC,WA/FA;EAAA,IAiGA;EACAC,MAAM,GAAG;IACPC,SAAS,EAAE,IADJ;IAEPC,SAAS,EAAE,IAFJ;IAGPC,SAAS,EAAE,IAHJ;IAIPC,SAAS,EAAE;EAJJ,CAlGT;EAAA,IAyGAC,SAzGA;EAAA,IA0GAC,WA1GA;EAAA,IA2GAC,aA3GA;EAAA,IA6GAC,YAAY,GAAG;IACb,KAAK,CADQ;IACL,MAAM,CADD;IACI,MAAM,CADV;IACa,MAAM,CADnB;IACsB,MAAM,CAD5B;IAC+B,MAAM;EADrC,CA7Gf;EAAA,IAiHAC,UAAU,GAAG;IACX,UAAU,CADC;IACE,kBAAkB,CADpB;IACuB,SAAS,CADhC;IACmC,SAAS,CAD5C;IAC+C,QAAQ,CADvD;IAEX,WAAW,CAFA;IAEG,WAAW,CAFd;IAEiB,WAAW,CAF5B;IAE+B,SAAS,CAFxC;IAE2C,YAAY,CAFvD;IAE0D,SAAS,CAFnE;IAGX,WAAW,CAHA;IAGG,WAAW,CAHd;IAGiB,SAAS,CAH1B;IAG6B,OAAO,CAHpC;IAGuC,aAAa,CAHpD;IAGuD,YAAY,CAHnE;IAIX,WAAW,CAJA;IAIG,QAAQ,CAJX;IAIc,SAAS,CAJvB;IAI0B,YAAY,CAJtC;IAIyC,cAAc,CAJvD;IAI0D,QAAQ,CAJlE;IAKX,YAAY,CALD;IAKI,QAAQ,CALZ;IAKe,SAAS,CALxB;IAK2B,UAAU,CALrC;IAKwC,YAAY,CALpD;IAKuD,UAAU,CALjE;IAMX,YAAY,CAND;IAMI,WAAW,CANf;IAMkB,UAAU,CAN5B;IAM+B,YAAY,CAN3C;IAM8C,OAAO,CANrD;IAMwD,OAAO,CAN/D;IAOX,SAAS,CAPE;IAOC,SAAS,CAPV;IAOa,aAAa,CAP1B;IAO6B,YAAY,CAPzC;IAO4C,SAAS,CAPrD;IAOwD,UAAU,CAPlE;IAQX,QAAQ,CARG;IAQA,QAAQ,CARR;IAQW,UAAU,CARrB;IAQwB,aAAa,CARrC;IAQwC,SAAS;EARjD,CAjHb;EAAA,IA4HAC,WAAW,GAAG,EA5Hd;EAAA,IA8HAC,SAAS,GAAG,EA9HZ;EAAA,IAgIAC,SAAS,GAAG;IACT,KAAK;MAAEC,EAAE,EAAE,GAAN;MACEC,EAAE,EAAE,GADN;MAEEC,EAAE,EAAE;IAFN,CADI;IAIV,MAAM;MAAEF,EAAE,EAAE,GAAN;MACEC,EAAE,EAAE,EADN;MAEEC,EAAE,EAAE;IAFN,CAJI;IAOV,MAAM;MAAEF,EAAE,EAAE,EAAN;MACEC,EAAE,EAAE,GADN;MAEEC,EAAE,EAAE;IAFN,CAPI;IAUV,MAAM;MAAEF,EAAE,EAAE,EAAN;MACEC,EAAE,EAAE,EADN;MAEEC,EAAE,EAAE;IAFN,CAVI;IAaV,MAAM;MAAEF,EAAE,EAAE,GAAN;MACEC,EAAE,EAAE,OADN;MAEEC,EAAE,EAAE;IAFN,CAbI;IAgBV,MAAM;MAAEF,EAAE,EAAE,SAAN;MACEC,EAAE,EAAE,SADN;MAEEC,EAAE,EAAE;IAFN;EAhBI,CAhIZ;EAAA,IAqJAC,UAAU,GACR,UAASC,KAAT,EAAgBC,QAAhB,EAA0B;IACxB,IAAIC,CAAC,GAAG,CAAR;IAAA,IAAWC,CAAC,GAAGH,KAAK,CAACI,MAArB;IAAA,IAA6BC,IAAI,GAAG3E,KAAK,CAACyE,CAAD,CAAzC;;IACA,OAAOA,CAAC,GAAGD,CAAX,EAAc;MACZ,IAAI,UAAUD,QAAQ,CAACI,IAAI,CAACH,CAAD,CAAJ,GAAUF,KAAK,CAACE,CAAD,CAAhB,CAAtB,EAA4C;MAC5C,EAAEA,CAAF;IACD;;IACD,OAAOG,IAAP;EACD,CA7JH;EAAA,IA+JAC,UAAU,GACR,UAASD,IAAT,EAAeL,KAAf,EAAsB;IACpB,IAAIE,CAAC,GAAG,CAAC,CAAT;IAAA,IAAYC,CAAC,GAAGH,KAAK,CAACI,MAAtB;;IACA,OAAOD,CAAC,EAAR,EAAY;MAAEE,IAAI,CAACA,IAAI,CAACD,MAAN,CAAJ,GAAoBJ,KAAK,CAAC,EAAEE,CAAH,CAAzB;IAAiC;;IAC/C,OAAOG,IAAP;EACD,CApKH;EAAA,IAsKAE,aAAa,GACX,UAASC,CAAT,EAAYC,CAAZ,EAAe;IACb,IAAI,CAACC,QAAD,IAAaF,CAAC,KAAKC,CAAvB,EAA0B;MACxBC,QAAQ,GAAG,IAAX;MACA,OAAO,CAAP;IACD;;IACD,OAAOF,CAAC,CAACG,uBAAF,CAA0BF,CAA1B,IAA+B,CAA/B,GAAmC,CAAC,CAApC,GAAwC,CAA/C;EACD,CA7KH;EAAA,IA+KAC,QAAQ,GAAG,KA/KX;EAAA,IAiLAE,MAAM,GACJ,UAASZ,KAAT,EAAgB;IACd,IAAIE,CAAC,GAAG,CAAR;IAAA,IAAWW,CAAC,GAAG,CAAC,CAAhB;IAAA,IAAmBV,CAAC,GAAGH,KAAK,CAACI,MAAN,GAAe,CAAtC;IAAA,IAAyCC,IAAI,GAAG,EAAhD;;IACA,OAAO,EAAEF,CAAT,EAAY;MACV,IAAIH,KAAK,CAACE,CAAC,EAAF,CAAL,KAAeF,KAAK,CAACE,CAAD,CAAxB,EAA6B;MAC7BG,IAAI,CAAC,EAAEQ,CAAH,CAAJ,GAAYb,KAAK,CAACE,CAAC,GAAG,CAAL,CAAjB;IACD;;IACDQ,QAAQ,GAAG,KAAX;IACA,OAAOL,IAAP;EACD,CA1LH;EAAA,IA4LA;EACAS,oBAAoB,GAClB,UAASC,OAAT,EAAkB;IAChB,IAAIC,EAAJ;IAAA,IAAQC,GAAG,GAAG,wBAAd,CADgB,CAGhB;;IACAF,OAAO,GAAGA,OAAO,CAACG,aAAR,IAAyBH,OAAnC,CAJgB,CAMhB;;IACAC,EAAE,GAAGD,OAAO,CAACvF,eAAR,CAAwB2F,YAAxB,IAAwC,8BAA7C,CAPgB,CAShB;;IACA,OAAQJ,OAAO,CAACE,GAAD,CAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuBb,MAAvB,GAAgCW,OAAO,CAACE,GAAD,CAAP,CAAaD,EAAb,EAAiB,GAAjB,EAAsBZ,MAAvD,GAAiE,CAAxE;EACD,CAzMH;EAAA,IA2MAgB,aAAa,GACX,UAASL,OAAT,EAAkBM,KAAlB,EAAyB;IACvB,IAAIC,MAAM,GAAGjG,GAAb;IACAA,GAAG,GAAG0F,OAAO,CAACG,aAAR,IAAyBH,OAA/B;;IACA,IAAIM,KAAK,IAAIC,MAAM,KAAKjG,GAAxB,EAA6B;MAC3B;MACA;MACAE,IAAI,GAAGF,GAAG,CAACG,eAAX;MACA8D,aAAa,GAAGiC,MAAM,CAAClG,GAAD,CAAtB;MACAgE,WAAW,GAAGC,aAAa,IACzBjE,GAAG,CAACmG,UAAJ,CAAeC,OAAf,CAAuB,KAAvB,IAAgC,CADlC;MAEArC,SAAS,GAAG7D,IAAI,IAAIA,IAAI,CAAC4F,YAAzB;MACAO,QAAQ,CAACrG,GAAT,GAAeA,GAAf;MACAqG,QAAQ,CAACnG,IAAT,GAAgBA,IAAhB;IACD;;IACD,OAAQmG,QAAQ,CAACC,IAAT,GAAgBZ,OAAxB;EACD,CA3NH;EAAA,IA6NA;EACAa,gBAAgB,GACd,UAASC,SAAT,EAAoB;IAClB;IACA,IAAIA,SAAS,GAAG,CAAZ,IAAiBA,SAAS,GAAG,QAA7B,IACDA,SAAS,GAAG,MAAZ,IAAsBA,SAAS,GAAG,MADrC,EAC8C;MAC5C,OAAO,SAAP;IACD,CALiB,CAMlB;;;IACA,IAAIA,SAAS,GAAG,OAAhB,EAAyB;MACvB,IAAIC,MAAM,GAAG,QAAQD,SAAS,CAACE,QAAV,CAAmB,EAAnB,CAArB;MACA,OAAO,QAAQD,MAAM,CAACE,MAAP,CAAcF,MAAM,CAAC1B,MAAP,GAAgB,CAA9B,CAAf;IACD,CAViB,CAWlB;;;IACA,OAAO,QAAQ,CAAC,CAAEyB,SAAS,GAAG,OAAb,IAAyB,IAA1B,IAAkC,MAAnC,EAA2CE,QAA3C,CAAoD,EAApD,CAAR,GACA,KADA,GACQ,CAAE,CAACF,SAAS,GAAG,OAAb,IAAwB,KAAzB,GAAkC,MAAnC,EAA2CE,QAA3C,CAAoD,EAApD,CADf;EAED,CA7OH;EAAA,IA+OA;EACAE,mBAAmB,GACjB,UAASJ,SAAT,EAAoB;IAClB;IACA,IAAIA,SAAS,GAAG,CAAZ,IAAiBA,SAAS,GAAG,QAA7B,IACDA,SAAS,GAAG,MAAZ,IAAsBA,SAAS,GAAG,MADrC,EAC8C;MAC5C,OAAO,QAAP;IACD;;IACD,IAAIA,SAAS,GAAG,OAAhB,EAAyB;MACvB,OAAOK,MAAM,CAACC,YAAP,CAAoBN,SAApB,CAAP;IACD;;IACD,OAAOK,MAAM,CAACE,aAAP,GACLF,MAAM,CAACE,aAAP,CAAqBP,SAArB,CADK,GAELK,MAAM,CAACC,YAAP,CACE,CAAEN,SAAS,GAAG,OAAb,IAAyB,IAA1B,IAAkC,MADpC,EAEG,CAACA,SAAS,GAAG,OAAb,IAAwB,KAAzB,GAAkC,MAFpC,CAFF;EAKD,CA/PH;EAAA,IAiQA;EACA;EACAQ,cAAc,GACZ,UAASC,GAAT,EAAc;IACZ,OAAOjG,GAAG,CAACC,UAAJ,CAAeiG,IAAf,CAAoBD,GAApB,IACLA,GAAG,CAACE,OAAJ,CAAYnG,GAAG,CAACS,UAAhB,EACE,UAAS2F,SAAT,EAAoB7C,EAApB,EAAwBC,EAAxB,EAA4B;MAC1B;MACA,OAAOA,EAAE,GAAG,OAAOA,EAAV,GACP;MACAxD,GAAG,CAACG,UAAJ,CAAe+F,IAAf,CAAoB3C,EAApB,IAA0BgC,gBAAgB,CAACc,QAAQ,CAAC9C,EAAD,EAAK,EAAL,CAAT,CAA1C,GACA;MACAvD,GAAG,CAACI,UAAJ,CAAe8F,IAAf,CAAoB3C,EAApB,IAA0B6C,SAA1B,GACA;MACA7C,EANF;IAOD,CAVH,CADK,GAYD0C,GAZN;EAaD,CAlRH;EAAA,IAoRA;EACA;EACAK,kBAAkB,GAChB,UAASL,GAAT,EAAc;IACZ,OAAOjG,GAAG,CAACC,UAAJ,CAAeiG,IAAf,CAAoBD,GAApB,IACLA,GAAG,CAACE,OAAJ,CAAYnG,GAAG,CAACS,UAAhB,EACE,UAAS2F,SAAT,EAAoB7C,EAApB,EAAwBC,EAAxB,EAA4B;MAC1B;MACA,OAAOA,EAAE,GAAGA,EAAH,GACP;MACAxD,GAAG,CAACG,UAAJ,CAAe+F,IAAf,CAAoB3C,EAApB,IAA0BqC,mBAAmB,CAACS,QAAQ,CAAC9C,EAAD,EAAK,EAAL,CAAT,CAA7C,GACA;MACAvD,GAAG,CAACI,UAAJ,CAAe8F,IAAf,CAAoB3C,EAApB,IAA0B6C,SAA1B,GACA;MACA7C,EANF;IAOD,CAVH,CADK,GAYD0C,GAZN;EAaD,CArSH;EAAA,IAuSAM,MAAM,GAAG;IACP,KAAK,gBADE;IAEP,KAAK,wBAFE;IAGP,KAAK;EAHE,CAvST;EAAA,IA6SAC,MAAM,GAAG;IACP,KAAK,UAASC,CAAT,EAAYC,CAAZ,EAAe;MAAE1G,GAAG,CAACC,UAAJ,CAAeiG,IAAf,CAAoBQ,CAApB,MAA2BA,CAAC,GAAGJ,kBAAkB,CAACI,CAAD,CAAjD;MAAuD,OAAO,UAASC,CAAT,EAAYC,CAAZ,EAAe;QAAE,OAAOC,IAAI,CAACH,CAAD,EAAID,CAAJ,CAAX;MAAoB,CAA5C;IAA+C,CADrH;IAEP,KAAK,UAASA,CAAT,EAAYC,CAAZ,EAAe;MAAE1G,GAAG,CAACC,UAAJ,CAAeiG,IAAf,CAAoBQ,CAApB,MAA2BA,CAAC,GAAGJ,kBAAkB,CAACI,CAAD,CAAjD;MAAuD,OAAO,UAASC,CAAT,EAAYC,CAAZ,EAAe;QAAE,OAAOE,KAAK,CAACJ,CAAD,EAAID,CAAJ,CAAZ;MAAqB,CAA7C;IAAgD,CAFtH;IAGP,KAAK,UAASA,CAAT,EAAYC,CAAZ,EAAe;MAAE1G,GAAG,CAACC,UAAJ,CAAeiG,IAAf,CAAoBQ,CAApB,MAA2BA,CAAC,GAAGJ,kBAAkB,CAACI,CAAD,CAAjD;MAAuD,OAAO,UAASC,CAAT,EAAYC,CAAZ,EAAe;QAAE,OAAOG,OAAO,CAACL,CAAD,EAAID,CAAJ,CAAd;MAAuB,CAA/C;IAAkD;EAHxH,CA7ST;EAAA,IAmTA;EACAO,OAAO,GACL,UAASC,EAAT,EAAavC,OAAb,EAAsB;IACpB,IAAIwC,IAAI,GAAGxC,OAAX;IAAA,IAAoBf,KAAK,GAAG,EAA5B;IAAA,IAAiCwD,IAAI,GAAGD,IAAI,CAACE,iBAA7C;;IACA,OAAQF,IAAI,GAAGC,IAAf,EAAsB;MACpBD,IAAI,CAACD,EAAL,IAAWA,EAAX,KAAkBtD,KAAK,CAACA,KAAK,CAACI,MAAP,CAAL,GAAsBmD,IAAxC;MACA,IAAKC,IAAI,GAAGD,IAAI,CAACE,iBAAL,IAA0BF,IAAI,CAACG,kBAA3C,EAAgE;;MAChE,OAAO,CAACF,IAAD,KAAUD,IAAI,GAAGA,IAAI,CAACI,aAAtB,KAAwCJ,IAAI,KAAKxC,OAAxD,EAAiE;QAC/DyC,IAAI,GAAGD,IAAI,CAACG,kBAAZ;MACD;IACF;;IACD,OAAO1D,KAAP;EACD,CA/TH;EAAA,IAiUA;EACAkD,IAAI,GACF,UAASI,EAAT,EAAavC,OAAb,EAAsB;IACpB,IAAIiC,CAAJ;IAAA,IAAOhD,KAAP;IAAA,IAAciB,GAAG,GAAG2B,MAAM,CAAC,GAAD,CAA1B,CADoB,CAGpB;;IACA,IAAI7D,MAAM,CAACC,SAAP,KAAqB,KAAzB,EAAgC;MAC9B,IAAIiC,GAAG,IAAIF,OAAX,EAAoB;QAClB,OAAO,CAACiC,CAAC,GAAGjC,OAAO,CAACE,GAAD,CAAP,CAAaqC,EAAb,CAAL,IAAyB,CAAEN,CAAF,CAAzB,GAAiCY,IAAxC;MACD;IACF,CAJD,MAIO;MACL,IAAI,SAAS7C,OAAb,EAAsB;QACpB,IAAKiC,CAAC,GAAGjC,OAAO,CAAC8C,GAAR,CAAYP,EAAZ,CAAT,EAA2B;UACzB,IAAIN,CAAC,CAACc,QAAF,IAAc,CAAlB,EAAqB,OAAOd,CAAC,CAACe,YAAF,CAAe,IAAf,KAAwBT,EAAxB,GAA6B,EAA7B,GAAmC,CAAEN,CAAF,CAA1C,CAArB,KACK,IAAIM,EAAE,IAAI,QAAV,EAAoB,OAAO,CAACN,CAAC,GAAGjC,OAAO,CAACE,GAAD,CAAP,CAAaqC,EAAb,CAAL,IAAyB,CAAEN,CAAF,CAAzB,GAAiCY,IAAxC;;UACzB,KAAK1D,CAAC,GAAG,CAAJ,EAAOC,CAAC,GAAG6C,CAAC,CAAC5C,MAAb,EAAqBJ,KAAK,GAAG,EAAlC,EAAuCG,CAAC,GAAGD,CAA3C,EAA8C,EAAEA,CAAhD,EAAmD;YACjD,IAAI8C,CAAC,CAAC9C,CAAD,CAAD,CAAKoD,EAAL,IAAWA,EAAf,EAAmBtD,KAAK,CAACA,KAAK,CAACI,MAAP,CAAL,GAAsB4C,CAAC,CAAC9C,CAAD,CAAvB;UACpB;;UACD,OAAOF,KAAK,IAAIA,KAAK,CAACI,MAAf,GAAwBJ,KAAxB,GAAgC,CAAEA,KAAF,CAAvC;QACD,CAPD,MAOO,OAAO4D,IAAP;MACR;IACF;;IAED,OAAOP,OAAO,CAACC,EAAD,EAAKvC,OAAL,CAAd;EACD,CAzVH;EAAA,IA2VA;EACAoC,KAAK,GACH,UAASa,GAAT,EAAcjD,OAAd,EAAuB;IACrB,IAAIiC,CAAJ;IAAA,IAAOhD,KAAP;IAAA,IAAciB,GAAG,GAAG2B,MAAM,CAAC,GAAD,CAA1B,CADqB,CAErB;;IACA,IAAI3B,GAAG,IAAIF,OAAX,EAAoB;MAClB,OAAOtF,KAAK,CAACwI,IAAN,CAAWlD,OAAO,CAACE,GAAD,CAAP,CAAa,GAAb,EAAkB+C,GAAlB,CAAX,CAAP;IACD,CAFD,MAEO;MACLA,GAAG,GAAGA,GAAG,CAACE,WAAJ,EAAN,CADK,CAEL;;MACA,IAAKlB,CAAC,GAAGjC,OAAO,CAAC0C,iBAAjB,EAAqC;QACnC,IAAI,EAAET,CAAC,CAACU,kBAAF,IAAwBM,GAAG,IAAI,GAA/B,IAAsChB,CAAC,CAACmB,SAAF,IAAeH,GAAvD,CAAJ,EAAiE;UAC/D,OAAOvI,KAAK,CAACwI,IAAN,CAAWjB,CAAC,CAAC/B,GAAD,CAAD,CAAO,GAAP,EAAY+C,GAAZ,CAAX,CAAP;QACD,CAFD,MAEO;UACLhE,KAAK,GAAG,EAAR;;UACA,GAAG;YACD,IAAIgE,GAAG,IAAI,GAAP,IAAchB,CAAC,CAACmB,SAAF,IAAeH,GAAjC,EAAsChE,KAAK,CAACA,KAAK,CAACI,MAAP,CAAL,GAAsB4C,CAAtB;YACtC1C,UAAU,CAACN,KAAD,EAAQgD,CAAC,CAAC/B,GAAD,CAAD,CAAO,GAAP,EAAY+C,GAAZ,CAAR,CAAV;UACD,CAHD,QAGUhB,CAAC,GAAGA,CAAC,CAACU,kBAHhB;QAID;MACF,CAVD,MAUO1D,KAAK,GAAG4D,IAAR;IACR;;IACD,OAAO5D,KAAP;EACD,CAlXH;EAAA,IAoXA;EACAoD,OAAO,GACL,UAASgB,GAAT,EAAcrD,OAAd,EAAuB;IACrB,IAAIiC,CAAJ;IAAA,IAAOhD,KAAP;IAAA,IAAciB,GAAG,GAAG2B,MAAM,CAAC,GAAD,CAA1B;IAAA,IAAiCyB,KAAjC,CADqB,CAErB;;IACA,IAAIpD,GAAG,IAAIF,OAAX,EAAoB;MAClB,OAAOtF,KAAK,CAACwI,IAAN,CAAWlD,OAAO,CAACE,GAAD,CAAP,CAAamD,GAAb,CAAX,CAAP;IACD,CAFD,MAEO;MACL;MACA,IAAKpB,CAAC,GAAGjC,OAAO,CAAC0C,iBAAjB,EAAqC;QACnCY,KAAK,GAAG9H,MAAM,CAAC,YAAY6H,GAAZ,GAAkB,SAAnB,EAA8B/E,WAAW,GAAG,GAAH,GAAS,EAAlD,CAAd;;QACA,IAAI,EAAE2D,CAAC,CAACU,kBAAF,IAAwBW,KAAK,CAAC9B,IAAN,CAAWS,CAAC,CAACsB,SAAb,CAA1B,CAAJ,EAAwD;UACtD,OAAO7I,KAAK,CAACwI,IAAN,CAAWjB,CAAC,CAAC/B,GAAD,CAAD,CAAOmD,GAAP,CAAX,CAAP;QACD,CAFD,MAEO;UACLpE,KAAK,GAAG,EAAR;;UACA,GAAG;YACD,IAAIqE,KAAK,CAAC9B,IAAN,CAAWS,CAAC,CAACsB,SAAb,CAAJ,EAA6BtE,KAAK,CAACA,KAAK,CAACI,MAAP,CAAL,GAAsB4C,CAAtB;YAC7B1C,UAAU,CAACN,KAAD,EAAQgD,CAAC,CAAC/B,GAAD,CAAD,CAAOmD,GAAP,CAAR,CAAV;UACD,CAHD,QAGUpB,CAAC,GAAGA,CAAC,CAACU,kBAHhB;QAID;MACF,CAXD,MAWO1D,KAAK,GAAG4D,IAAR;IACR;;IACD,OAAO5D,KAAP;EACD,CA3YH;EAAA,IA6YA;EACA;EACAuE,cAAc,GACZ,UAASvB,CAAT,EAAYwB,IAAZ,EAAkB;IAChB,IAAItE,CAAJ;IAAA,IAAOC,CAAP;IAAA,IAAUsE,IAAI,GAAGzB,CAAC,CAAC0B,iBAAF,EAAjB;IACAF,IAAI,GAAGjI,MAAM,CAAC,OAAOiI,IAAP,GAAc,GAAf,EAAoBlF,aAAa,GAAG,GAAH,GAAS,EAA1C,CAAb;;IACA,KAAKY,CAAC,GAAG,CAAJ,EAAOC,CAAC,GAAGsE,IAAI,CAACrE,MAArB,EAA6BD,CAAC,GAAGD,CAAjC,EAAoC,EAAEA,CAAtC,EAAyC;MACvC,IAAIsE,IAAI,CAACjC,IAAL,CAAUkC,IAAI,CAACvE,CAAD,CAAd,CAAJ,EAAwB,OAAO,IAAP;IACzB;;IACD,OAAO,KAAP;EACD,CAvZH;EAAA,IAyZA;EACAyE,UAAU,GAAI,YAAW;IACvB,IAAIC,GAAG,GAAG,CAAV;IAAA,IAAaC,GAAG,GAAG,CAAnB;IAAA,IAAsBC,GAAG,GAAG,CAA5B;IAAA,IAA+BC,MAAM,GAAGC,SAAxC;IAAA,IAAmDC,OAAO,GAAGvJ,KAAK,EAAlE;IAAA,IAAsEsE,KAAK,GAAGtE,KAAK,EAAnF;IACA,OAAO,UAASwJ,OAAT,EAAkBC,GAAlB,EAAuB;MAC5B;MACA,IAAIA,GAAG,IAAI,CAAX,EAAc;QACZP,GAAG,GAAG,CAAN;QAASC,GAAG,GAAG,CAAN;QAASC,GAAG,GAAG,CAAN;QAAS9E,KAAK,CAACI,MAAN,GAAe,CAAf;QAC3B6E,OAAO,CAAC7E,MAAR,GAAiB,CAAjB;QAAoB2E,MAAM,GAAGC,SAAT;QACpB,OAAO,CAAC,CAAR;MACD;;MACD,IAAIhC,CAAJ,EAAO9C,CAAP,EAAUW,CAAV,EAAauE,CAAb,EAAgBjF,CAAhB;;MACA,IAAI4E,MAAM,KAAKG,OAAO,CAACvB,aAAvB,EAAsC;QACpCzD,CAAC,GAAG4E,GAAJ;QAASjE,CAAC,GAAG+D,GAAJ;QAASzE,CAAC,GAAG0E,GAAJ;MACnB,CAFD,MAEO;QACL1E,CAAC,GAAG8E,OAAO,CAAC7E,MAAZ;QACA2E,MAAM,GAAGG,OAAO,CAACvB,aAAjB;;QACA,KAAKzD,CAAC,GAAG,CAAC,CAAL,EAAQW,CAAC,GAAG,CAAZ,EAAeuE,CAAC,GAAGjF,CAAC,GAAG,CAA5B,EAA+BA,CAAC,GAAGU,CAAnC,EAAsC,EAAEA,CAAF,EAAK,EAAEuE,CAA7C,EAAgD;UAC9C,IAAIH,OAAO,CAACpE,CAAD,CAAP,KAAekE,MAAnB,EAA2B;YAAE7E,CAAC,GAAGW,CAAJ;YAAO;UAAQ;;UAC5C,IAAIoE,OAAO,CAACG,CAAD,CAAP,KAAeL,MAAnB,EAA2B;YAAE7E,CAAC,GAAGkF,CAAJ;YAAO;UAAQ;QAC7C;;QACD,IAAIlF,CAAC,GAAG,CAAR,EAAW;UACT+E,OAAO,CAAC/E,CAAC,GAAGC,CAAL,CAAP,GAAiB4E,MAAjB;UACA5E,CAAC,GAAG,CAAJ;UAAOH,KAAK,CAACE,CAAD,CAAL,GAAWxE,KAAK,EAAhB;UACPsH,CAAC,GAAG+B,MAAM,IAAIA,MAAM,CAACtB,iBAAjB,IAAsCyB,OAA1C;;UACA,OAAOlC,CAAP,EAAU;YAAEhD,KAAK,CAACE,CAAD,CAAL,CAASC,CAAT,IAAc6C,CAAd;YAAiB,IAAIA,CAAC,KAAKkC,OAAV,EAAmBrE,CAAC,GAAGV,CAAJ;YAAO6C,CAAC,GAAGA,CAAC,CAACU,kBAAN;YAA0B,EAAEvD,CAAF;UAAM;;UACvF2E,GAAG,GAAG5E,CAAN;UAAS0E,GAAG,GAAG,CAAN;UAASC,GAAG,GAAG1E,CAAN;UAClB,IAAIA,CAAC,GAAG,CAAR,EAAW,OAAOA,CAAP;QACZ,CAPD,MAOO;UACLA,CAAC,GAAGH,KAAK,CAACE,CAAD,CAAL,CAASE,MAAb;UACA0E,GAAG,GAAG5E,CAAN;QACD;MACF;;MACD,IAAIgF,OAAO,KAAKlF,KAAK,CAACE,CAAD,CAAL,CAASW,CAAT,CAAZ,IAA2BqE,OAAO,KAAKlF,KAAK,CAACE,CAAD,CAAL,CAASW,CAAC,GAAG,CAAb,CAA3C,EAA4D;QAC1D,KAAKA,CAAC,GAAG,CAAJ,EAAOmC,CAAC,GAAGhD,KAAK,CAACE,CAAD,CAAhB,EAAqBkF,CAAC,GAAGjF,CAAC,GAAG,CAAlC,EAAqCA,CAAC,GAAGU,CAAzC,EAA4C,EAAEA,CAAF,EAAK,EAAEuE,CAAnD,EAAsD;UACpD,IAAIpC,CAAC,CAACnC,CAAD,CAAD,KAASqE,OAAb,EAAsB;YAAE;UAAQ;;UAChC,IAAIlC,CAAC,CAACoC,CAAD,CAAD,KAASF,OAAb,EAAsB;YAAErE,CAAC,GAAGuE,CAAJ;YAAO;UAAQ;QACxC;MACF;;MACDR,GAAG,GAAG/D,CAAC,GAAG,CAAV;MAAagE,GAAG,GAAG1E,CAAN;MACb,OAAOgF,GAAG,GAAGhF,CAAC,GAAGU,CAAP,GAAW+D,GAArB;IACD,CArCD;EAsCD,CAxCY,EA1Zb;EAAA,IAocA;EACAS,SAAS,GAAI,YAAW;IACtB,IAAIT,GAAG,GAAG,CAAV;IAAA,IAAaC,GAAG,GAAG,CAAnB;IAAA,IAAsBC,GAAG,GAAG,CAA5B;IAAA,IAA+BC,MAAM,GAAGC,SAAxC;IAAA,IAAmDC,OAAO,GAAGvJ,KAAK,EAAlE;IAAA,IAAsEsE,KAAK,GAAGtE,KAAK,EAAnF;IACA,OAAO,UAASwJ,OAAT,EAAkBC,GAAlB,EAAuB;MAC5B;MACA,IAAIA,GAAG,IAAI,CAAX,EAAc;QACZP,GAAG,GAAG,CAAN;QAASC,GAAG,GAAG,CAAN;QAASC,GAAG,GAAG,CAAN;QAAS9E,KAAK,CAACI,MAAN,GAAe,CAAf;QAC3B6E,OAAO,CAAC7E,MAAR,GAAiB,CAAjB;QAAoB2E,MAAM,GAAGC,SAAT;QACpB,OAAO,CAAC,CAAR;MACD;;MACD,IAAIhC,CAAJ;MAAA,IAAO9C,CAAP;MAAA,IAAUW,CAAV;MAAA,IAAauE,CAAb;MAAA,IAAgBjF,CAAhB;MAAA,IAAmBqE,IAAI,GAAGU,OAAO,CAACf,SAAlC;;MACA,IAAInE,KAAK,CAAC8E,GAAD,CAAL,IAAc9E,KAAK,CAAC8E,GAAD,CAAL,CAAWN,IAAX,CAAd,IAAkCO,MAAM,KAAKG,OAAO,CAACvB,aAAzD,EAAwE;QACtEzD,CAAC,GAAG4E,GAAJ;QAASjE,CAAC,GAAG+D,GAAJ;QAASzE,CAAC,GAAG0E,GAAJ;MACnB,CAFD,MAEO;QACL1E,CAAC,GAAG8E,OAAO,CAAC7E,MAAZ;QACA2E,MAAM,GAAGG,OAAO,CAACvB,aAAjB;;QACA,KAAKzD,CAAC,GAAG,CAAC,CAAL,EAAQW,CAAC,GAAG,CAAZ,EAAeuE,CAAC,GAAGjF,CAAC,GAAG,CAA5B,EAA+BA,CAAC,GAAGU,CAAnC,EAAsC,EAAEA,CAAF,EAAK,EAAEuE,CAA7C,EAAgD;UAC9C,IAAIH,OAAO,CAACpE,CAAD,CAAP,KAAekE,MAAnB,EAA2B;YAAE7E,CAAC,GAAGW,CAAJ;YAAO;UAAQ;;UAC5C,IAAIoE,OAAO,CAACG,CAAD,CAAP,KAAeL,MAAnB,EAA2B;YAAE7E,CAAC,GAAGkF,CAAJ;YAAO;UAAQ;QAC7C;;QACD,IAAIlF,CAAC,GAAG,CAAJ,IAAS,CAACF,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,CAAd,EAA8B;UAC5BS,OAAO,CAAC/E,CAAC,GAAGC,CAAL,CAAP,GAAiB4E,MAAjB;UACA/E,KAAK,CAACE,CAAD,CAAL,KAAaF,KAAK,CAACE,CAAD,CAAL,GAAWoF,MAAM,EAA9B;UACAnF,CAAC,GAAG,CAAJ;UAAOH,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,IAAiB9I,KAAK,EAAtB;UACPsH,CAAC,GAAG+B,MAAM,IAAIA,MAAM,CAACtB,iBAAjB,IAAsCyB,OAA1C;;UACA,OAAOlC,CAAP,EAAU;YAAE,IAAIA,CAAC,KAAKkC,OAAV,EAAmBrE,CAAC,GAAGV,CAAJ;;YAAO,IAAI6C,CAAC,CAACmB,SAAF,IAAeK,IAAnB,EAAyB;cAAExE,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,EAAerE,CAAf,IAAoB6C,CAApB;cAAuB,EAAE7C,CAAF;YAAM;;YAAC6C,CAAC,GAAGA,CAAC,CAACU,kBAAN;UAA2B;;UAC1HoB,GAAG,GAAG5E,CAAN;UAAS0E,GAAG,GAAG/D,CAAN;UAASgE,GAAG,GAAG1E,CAAN;UAClB,IAAIA,CAAC,GAAG,CAAR,EAAW,OAAOA,CAAP;QACZ,CARD,MAQO;UACLA,CAAC,GAAGH,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,EAAepE,MAAnB;UACA0E,GAAG,GAAG5E,CAAN;QACD;MACF;;MACD,IAAIgF,OAAO,KAAKlF,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,EAAe3D,CAAf,CAAZ,IAAiCqE,OAAO,KAAKlF,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,EAAe3D,CAAC,GAAG,CAAnB,CAAjD,EAAwE;QACtE,KAAKA,CAAC,GAAG,CAAJ,EAAOmC,CAAC,GAAGhD,KAAK,CAACE,CAAD,CAAL,CAASsE,IAAT,CAAX,EAA2BY,CAAC,GAAGjF,CAAC,GAAG,CAAxC,EAA2CA,CAAC,GAAGU,CAA/C,EAAkD,EAAEA,CAAF,EAAK,EAAEuE,CAAzD,EAA4D;UAC1D,IAAIpC,CAAC,CAACnC,CAAD,CAAD,KAASqE,OAAb,EAAsB;YAAE;UAAQ;;UAChC,IAAIlC,CAAC,CAACoC,CAAD,CAAD,KAASF,OAAb,EAAsB;YAAErE,CAAC,GAAGuE,CAAJ;YAAO;UAAQ;QACxC;MACF;;MACDR,GAAG,GAAG/D,CAAC,GAAG,CAAV;MAAagE,GAAG,GAAG1E,CAAN;MACb,OAAOgF,GAAG,GAAGhF,CAAC,GAAGU,CAAP,GAAW+D,GAArB;IACD,CAtCD;EAuCD,CAzCW,EArcZ;EAAA,IAgfA;EACArD,MAAM,GACJ,UAASgC,IAAT,EAAe;IACb,IAAIlI,GAAG,GAAGkI,IAAI,CAACrC,aAAL,IAAsBqC,IAAhC;IACA,OAAOlI,GAAG,CAACyI,QAAJ,IAAgB,CAAhB,IACL;IACA,iBAAiBzI,GAFZ,GAGHA,GAAG,CAACkK,WAAJ,CAAgB9D,OAAhB,CAAwB,OAAxB,IAAmC,CAHhC,GAIHpG,GAAG,CAACmK,aAAJ,CAAkB,KAAlB,EAAyBrB,SAAzB,IAAsC,KAJ1C;EAKD,CAzfH;EAAA,IA2fA;EACAsB,SAAS,GACP,UAASC,MAAT,EAAiBC,KAAjB,EAAwB;IACtB,IAAI,OAAOD,MAAP,IAAiB,QAArB,EAA+B;MAAE,OAAO,CAAC,CAAC3G,MAAM,CAAC2G,MAAD,CAAf;IAA0B;;IAC3D,IAAI,OAAOA,MAAP,IAAiB,QAArB,EAA+B;MAAE,OAAO3G,MAAP;IAAgB;;IACjD,KAAK,IAAImB,CAAT,IAAcwF,MAAd,EAAsB;MACpB3G,MAAM,CAACmB,CAAD,CAAN,GAAY,CAAC,CAACwF,MAAM,CAACxF,CAAD,CAApB;IACD,CALqB,CAMtB;;;IACA,IAAIyF,KAAJ,EAAW;MACTC,cAAc,GAAG,EAAjB;MACAC,eAAe,GAAG,EAAlB;IACD;;IACDC,mBAAmB;IACnB,OAAO,IAAP;EACD,CA1gBH;EAAA,IA4gBA;EACAC,IAAI,GACF,UAASC,OAAT,EAAkBC,KAAlB,EAAyB;IACvB,IAAIC,GAAJ;;IACA,IAAInH,MAAM,CAACI,SAAX,EAAsB;MACpB,IAAI8G,KAAJ,EAAW;QACTC,GAAG,GAAG,IAAID,KAAJ,CAAUD,OAAV,CAAN;MACD,CAFD,MAEO;QACLE,GAAG,GAAG,IAAItL,MAAM,CAACuL,YAAX,CAAwBH,OAAxB,EAAiC,aAAjC,CAAN;MACD;;MACD,MAAME,GAAN;IACD;;IACD,IAAInH,MAAM,CAACG,SAAP,IAAoBkH,OAApB,IAA+BA,OAAO,CAACC,GAA3C,EAAgD;MAC9CD,OAAO,CAACC,GAAR,CAAYL,OAAZ;IACD;EACF,CA3hBH;EAAA,IA6hBA;EACAM,UAAU,GACR,UAASjL,GAAT,EAAc;IACZyK,mBAAmB;IACnBS,WAAW,GAAGnF,aAAa,CAAC/F,GAAD,EAAM,IAAN,CAA3B;EACD,CAliBH;EAAA,IAoiBA;EACAyK,mBAAmB,GACjB,YAAW;IAET;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,IAAIU,UAAU,GACZ;IACA,eACA;IACA,SAFA,GAGE;IACA,gBAJF,GAKE;IACA,iBANF,GAOE;IACA,4BARF,GASE;IACA,sCAVF,GAWE;IACA,QAZF,GAaA,IAfF;IAAA,IAiBAC,WAAW,GAAG,SAjBd;IAAA,IAkBAC,WAAW,GAAG,qCAlBd;IAAA,IAmBAC,WAAW,GAAG,sCAnBd;IAAA,IAoBAC,WAAW,GAAG,sCApBd;IAAA,IAsBAC,UAAU,GAAGL,UAAU,GAAG,GAAb,GAAmBG,WAAnB,GAAiC,GAAjC,GAAuCC,WAtBpD;IAAA,IAwBAE,UAAU,GAAG,iDAxBb;IAAA,IA0BAC,UAAU,GACR,QACE;IACA,aAFF,GAGEnL,GAHF,GAGQ,GAHR,GAIE,GAJF,GAIQ4K,UAJR,GAIqB,MAJrB,GAI8BA,UAJ9B,GAI2C,KAJ3C,GAKE5K,GALF,GAKQ,GALR,GAME,KANF,GAOI,GAPJ,GAOUC,GAAG,CAACC,SAPd,GAO0B,GAP1B,GAOgCF,GAPhC,GAOsC,GAPtC,GAQI,KARJ,GAQYiL,UARZ,GAQyB,GARzB,GASE,IATF,GAUE;IACAjL,GAXF,GAWQ,GAXR,GAWc,MAXd,GAWuBA,GAXvB,GAW6B,GAX7B,GAYA,WAvCF;IAAA,IAyCAoL,WAAW,GAAGD,UAAU,CAACvE,OAAX,CAAmBqE,UAAnB,EAA+BC,UAA/B,CAzCd;IAAA,IA2CAG,WAAW,GACT,aAAarL,GAAb,GAAmB,GAAnB,GACE,KADF,GACU8K,WADV,GACwB,MADxB,GAEE;IACA;IACA,cAJF,GAKE,KALF,GAMI,MANJ,GAMaD,WANb,GAOI,UAPJ,GAOiBC,WAPjB,GAO+B,iBAP/B,GAQE,IARF,GASE,UATF,GASeF,UATf,GAS4B,IAT5B,GAUE,KAVF,GAUUO,UAVV,GAUuB,GAVvB,GAWE,KAXF,GAYE,KAZF,GAYUnL,GAZV,GAYgB,IAZhB,GAYuBA,GAZvB,GAY6B,KAZ7B,GAaE,KAbF,GAaUA,GAbV,GAagB,KAbhB,GAcE,eA1DJ;IAAA,IA4DAsL,iBAAiB,GACf,QAAQtL,GAAR,GAAc,gBAAd,GACA,KADA,GAEE;IACA;IACA,cAJF,GAKE,UALF,GAKe4K,UALf,GAK4B,KAL5B,GAME,KANF,GAMUO,UANV,GAMuB,KANvB,GAOE,QAPF,GAOaN,WAPb,GAO2BQ,WAP3B,GAOyC,IAPzC,GAQE,KARF,GAQUrL,GARV,GAQgB,GARhB,GAQsBC,GAAG,CAACE,WAR1B,GAQwCH,GARxC,GAQ8C,KAR9C,GASE,KATF,GASUA,GATV,GASgB,IAThB,GASuBA,GATvB,GAS6B,KAT7B,GAUE,KAVF,GAUUA,GAVV,GAUgB,IAVhB,GAWA,IAxEF,CAnBS,CA6FT;IACA;IACA;IACA;;IACAiD,WAAW,GAAGtC,MAAM,CAClB,iBACA,GADA,GACMiK,UADN,GACmB,GADnB,GAEA,KAFA,GAGE,WAHF,GAIE,sBAJF,GAKE,2BALF,GAMA,MAPkB,CAApB,CAjGS,CA0GT;;IACA1H,WAAW,GAAGvC,MAAM,CAAC2K,iBAAD,EAAoB,GAApB,CAApB;IAEAjJ,QAAQ,CAACqF,EAAT,GAAc/G,MAAM,CAAC,QAAQiK,UAAR,GAAqB,OAAtB,CAApB;IACAvI,QAAQ,CAACkJ,OAAT,GAAmB5K,MAAM,CAAC,OAAOiK,UAAP,GAAoB,OAArB,CAAzB;IACAvI,QAAQ,CAACqG,SAAT,GAAqB/H,MAAM,CAAC,UAAUiK,UAAV,GAAuB,OAAxB,CAA3B;IACAvI,QAAQ,CAACmJ,SAAT,GAAqB7K,MAAM,CAAC,SAASyK,WAAT,GAAuB,OAAxB,CAA3B;EACD,CAvpBH;EAAA,IAypBAK,MAAM,GAAG,gDAzpBT;EAAA,IA2pBAC,MAAM,GAAG,6BA3pBT;EAAA,IA4pBAC,MAAM,GAAG,WA5pBT;EAAA,IA8pBAC,MAAM,GAAG,wBA9pBT;EAAA,IA+pBAC,MAAM,GAAG,6BA/pBT;EAAA,IAgqBAC,MAAM,GAAG,MAhqBT;EAAA,IAkqBAC,MAAM,GAAG,cAlqBT;EAAA,IAmqBAC,MAAM,GAAG,mBAnqBT;EAAA,IAoqBAC,MAAM,GAAG,EApqBT;EAAA,IAsqBAC,MAAM,GAAG,gBAtqBT;EAAA,IAuqBAC,MAAM,GAAG,SAvqBT;EAAA,IAyqBAC,MAAM,GAAG,0BAzqBT;EAAA,IA0qBAC,MAAM,GAAG,+BA1qBT;EAAA,IA2qBAC,MAAM,GAAG,OA3qBT;EAAA,IA6qBAC,MAAM,GAAG,EA7qBT;EAAA,IA8qBAC,MAAM,GAAG,EA9qBT;EAAA,IAgrBA;EACA;EACAC,OAAO,GACL,UAASC,QAAT,EAAmBC,IAAnB,EAAyBtI,QAAzB,EAAmC;IACjC,IAAIpF,OAAJ;IAAA,IAAa2N,KAAb;IAAA,IAAoBC,IAAI,GAAG,EAA3B;IAAA,IAA+BC,IAAI,GAAG,EAAtC;IAAA,IAA0CC,KAAK,GAAG,EAAlD;IAAA,IAAsDC,MAAM,GAAG,EAA/D;IAAA,IAAmEC,IAAI,GAAG,EAA1E,CADiC,CAGjC;IACA;IACA;;IACA,QAAQN,IAAR;MACE,KAAK,IAAL;QACE,IAAIO,aAAa,CAACR,QAAD,CAAjB,EAA6B;UAAE,OAAOQ,aAAa,CAACR,QAAD,CAApB;QAAiC;;QAChEK,KAAK,GAAGhB,MAAM,IAAI1H,QAAQ,GAAG+H,MAAH,GAAY,EAAxB,CAAN,GAAoCF,MAA5C;QACAW,IAAI,GAAGnB,MAAP;QACAoB,IAAI,GAAGlB,MAAP;QACA;;MACF,KAAK,KAAL;QACE,IAAIuB,YAAY,CAACT,QAAD,CAAhB,EAA4B;UAAE,OAAOS,YAAY,CAACT,QAAD,CAAnB;QAAgC;;QAC9DK,KAAK,GAAGd,MAAM,IAAI5H,QAAQ,GAAGiI,MAAH,GAAY,EAAxB,CAAN,GAAoCH,MAA5C;QACAU,IAAI,GAAGlB,MAAP;QACAmB,IAAI,GAAGhB,MAAP;QACA;;MACF,KAAK,IAAL;QACE,IAAIoB,aAAa,CAACR,QAAD,CAAjB,EAA6B;UAAE,OAAOQ,aAAa,CAACR,QAAD,CAApB;QAAiC;;QAChEK,KAAK,GAAGf,MAAM,IAAI3H,QAAQ,GAAGgI,MAAH,GAAY,EAAxB,CAAN,GAAoCH,MAA5C;QACAW,IAAI,GAAGnB,MAAP;QACAoB,IAAI,GAAGjB,MAAP;QACA;;MACF;QACE;IApBJ;;IAuBAmB,MAAM,GAAGI,eAAe,CAACV,QAAD,EAAWK,KAAX,EAAkBJ,IAAlB,EAAwBtI,QAAxB,CAAxB;IAEAyI,IAAI,IAAIH,IAAI,IAAIA,IAAI,KAAK,IAAjB,GAAwB,MAAMK,MAAN,GAAe,GAAvC,GAA6CA,MAArD;;IAEA,IAAIL,IAAI,IAAIA,IAAI,KAAK,IAAT,IAAiBD,QAAQ,CAACW,QAAT,CAAkB,MAAlB,CAA7B,EAAwD;MACtDP,IAAI,IAAI/J,SAAS,CAAC4D,IAAV,CAAe+F,QAAf,IAA2B,wBAA3B,GAAsD,EAA9D;MACAI,IAAI,IAAI9J,SAAS,CAAC2D,IAAV,CAAe+F,QAAf,IAA2B,uBAA3B,GAAqD,EAA7D;IACD;;IAED,IAAIH,MAAM,CAAC,CAAD,CAAN,IAAaC,MAAM,CAAC,CAAD,CAAvB,EAA4B;MAC1BS,IAAI,GAAG,OAAOV,MAAM,CAACe,IAAP,CAAY,GAAZ,KAAoBd,MAAM,CAACc,IAAP,CAAY,GAAZ,CAA3B,CAAP;MACAf,MAAM,CAAC/H,MAAP,GAAgB,CAAhB;MACAgI,MAAM,CAAChI,MAAP,GAAgB,CAAhB;IACD;;IAEDvF,OAAO,GAAGsO,QAAQ,CAAC,GAAD,EAAM9B,MAAM,GAAG,GAAT,GAAeoB,IAAf,GAAsBI,IAAtB,GAA6B,GAA7B,GAAmCH,IAAnC,GAA0C,YAAhD,CAAR,CAAsEhH,QAAtE,CAAV;IAEA,OAAO6G,IAAI,IAAIA,IAAI,KAAK,IAAjB,GAAyBO,aAAa,CAACR,QAAD,CAAb,GAA0BzN,OAAnD,GAA+DkO,YAAY,CAACT,QAAD,CAAZ,GAAyBzN,OAA/F;EACD,CAluBH;EAAA,IAouBA;EACAmO,eAAe,GACb,UAASI,UAAT,EAAqBR,MAArB,EAA6BL,IAA7B,EAAmCtI,QAAnC,EAA6C;IAE3C;IACA;IACA,IAAIO,CAAJ;IAAA,IAAOC,CAAP;IAAA,IAAUsC,CAAV;IAAA,IAAaE,CAAb;IAAA,IAAgB/C,CAAhB;IAAA,IAAmBC,CAAnB;IAAA,IAAsBqE,IAAtB;IAAA,IAA4B6E,EAA5B;IAAA,IAAgCC,CAAC,GAAG,EAApC;IAAA,IAAwCC,CAAC,GAAG,GAA5C;IAAA,IACA1G,MADA;IAAA,IACQ2G,IADR;IAAA,IACcC,KADd;IAAA,IACqBC,MADrB;IAAA,IAC6BC,MAD7B;IAAA,IACqCC,MADrC;IAAA,IAC6CrH,IAD7C;IAAA,IAEAsH,IAFA;IAAA,IAEMvB,QAAQ,GAAGc,UAFjB;IAAA,IAE6BU,eAF7B;IAAA,IAE8CjB,IAF9C,CAJ2C,CAQ3C;;IACAiB,eAAe,GAAGvB,IAAI,GAAGwB,YAAH,GAAkBC,WAAxC,CAT2C,CAW3C;;IACA1B,QAAQ,GAAGA,QAAQ,CAAC9F,OAAT,CAAiBtF,GAAG,CAACC,UAArB,EAAiC,IAAjC,CAAX,CAZ2C,CAYO;IAElD;IACA;;IACA8M,wBAAwB,EAExB,OAAO3B,QAAP,EAAiB;MAEf;MACAsB,MAAM,GAAG1M,GAAG,CAACE,UAAJ,CAAemF,IAAf,CAAoB+F,QAApB,IAAgC,GAAhC,GAAsCA,QAAQ,CAAC,CAAD,CAAvD;;MAEA,QAAQsB,MAAR;QAEE;QACA,KAAK,GAAL;UACEH,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACK,SAAxB,CAAR;;UACA,IAAIgL,CAAC,IAAI,GAAT,EAAc;YACZV,MAAM,GAAG,QAAQU,CAAR,GAAY,MAAZ,GACP,IADO,GACAV,MADA,GACS,GADlB;UAED;;UACD;QAEF;;QACA,KAAK,GAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACqF,EAAxB,CAAR;UACAsF,MAAM,GAAG,QAAQU,CAAR,GAAY,KAAZ,GAAoBG,KAAK,CAAC,CAAD,CAAzB,GAA+B,+BAA/B,GACP,KADO,GACCb,MADD,GACU,GADnB;UAEA;QAEF;;QACA,KAAK,GAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACqG,SAAxB,CAAR;UACAzB,MAAM,GAAG,CAACxD,WAAW,GAAG,GAAH,GAAS,EAArB,IAA2B,gCAApC;UACAuJ,MAAM,GAAG,QAAQU,CAAR,GAAY,WAAZ,GAA0BG,KAAK,CAAC,CAAD,CAA/B,GAAqC,UAArC,GAAkD5G,MAAlD,GACP,KADO,GACC+F,MADD,GACU,GADnB;UAEA;QAEF;;QACA,KAAM,UAAUrG,IAAV,CAAeqH,MAAf,IAAyBA,MAAzB,GAAkC5E,SAAxC;UACEyE,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACkJ,OAAxB,CAAR;UACAyB,MAAM,GAAG,QAAQU,CAAR,GAAY,cAAZ,IACNvK,MAAM,CAACE,SAAP,IAAoB6B,oBAAoB,CAACzF,GAAD,CAAxC,GACC,QAAQoO,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAR,GAAiC,GADlC,GAEC,QAAQuF,KAAK,CAAC,CAAD,CAAL,CAASS,WAAT,EAAR,GAAiC,GAH5B,IAIP,KAJO,GAICtB,MAJD,GAIU,GAJnB;UAKA;QAEF;;QACA,KAAK,GAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACM,SAAxB,CAAR;;UACA,IAAIkL,KAAK,CAAC,CAAD,CAAL,IAAY,GAAhB,EAAqB;YACnBb,MAAM,GAAG,QAAQU,CAAR,GAAY,QAAZ,GAAuBV,MAAvB,GAAgC,GAAzC;UACD,CAFD,MAEO,IAAI,CAACa,KAAK,CAAC,CAAD,CAAV,EAAe;YACpBb,MAAM,GAAG,QAAQU,CAAR,GAAY,qBAAZ,GAAoCV,MAApC,GAA6C,GAAtD;UACD,CAFM,MAEA,IAAI,OAAOa,KAAK,CAAC,CAAD,CAAZ,IAAmB,QAAnB,IAA+BlO,IAAI,CAAC4O,MAAL,IAAeV,KAAK,CAAC,CAAD,CAAvD,EAA4D;YACjEb,MAAM,GAAG,QAAQU,CAAR,GAAY,oBAAZ,GAAmClK,SAAnC,GAA+C,MAA/C,GAAwDwJ,MAAxD,GAAiE,GAA1E;UACD,CAFM,MAEA;YACL7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;UACD;;UACD;QAEF;;QACA,KAAK,GAAL;UACE+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACmJ,SAAxB,CAAR;UACAiC,EAAE,GAAGI,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAevM,GAAG,CAACG,UAAnB,CAAL;UACAmH,IAAI,GAAGiF,KAAK,CAAC,CAAD,CAAZ;UACAD,IAAI,GAAGhF,IAAI,CAAC4F,KAAL,CAAW,GAAX,CAAP;UACAZ,IAAI,GAAGA,IAAI,CAACpJ,MAAL,IAAe,CAAf,GAAmBoJ,IAAI,CAAC,CAAD,CAAvB,GAA6BA,IAAI,CAAC,CAAD,CAAxC;;UACA,IAAIC,KAAK,CAAC,CAAD,CAAL,IAAY,EAAElH,IAAI,GAAG5C,SAAS,CAAC8J,KAAK,CAAC,CAAD,CAAN,CAAlB,CAAhB,EAA+C;YAC7C1D,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;YACA,OAAO,EAAP;UACD;;UACD,IAAI+K,KAAK,CAAC,CAAD,CAAL,KAAa,EAAjB,EAAqB;YACnBlH,IAAI,GAAGkH,KAAK,CAAC,CAAD,CAAL,IAAY,IAAZ,GACL;cAAE7J,EAAE,EAAE,MAAN;cAAcC,EAAE,EAAE,IAAlB;cAAwBC,EAAE,EAAE;YAA5B,CADK,GAEH2J,KAAK,CAAC,CAAD,CAAL,IAAYlK,YAAZ,IAA4BkK,KAAK,CAAC,CAAD,CAAL,IAAY,IAAxC,GACF;cAAE7J,EAAE,EAAE,GAAN;cAAcC,EAAE,EAAE,GAAlB;cAAwBC,EAAE,EAAE;YAA5B,CADE,GACqCyC,IAHzC;UAID,CALD,MAKO,IAAIkH,KAAK,CAAC,CAAD,CAAL,IAAY,IAAZ,IAAoBA,KAAK,CAAC,CAAD,CAAL,CAASR,QAAT,CAAkB,GAAlB,CAAxB,EAAgD;YACrD;YACAL,MAAM,GAAG,QAAQU,CAAR,GAAY,SAAZ,GAAwBV,MAAxB,GAAiC,GAA1C;YACA;UACD,CAJM,MAIA,IAAIa,KAAK,CAAC,CAAD,CAAT,EAAc;YACnBA,KAAK,CAAC,CAAD,CAAL,GAAWpH,cAAc,CAACoH,KAAK,CAAC,CAAD,CAAN,CAAd,CAAyBjH,OAAzB,CAAiCnG,GAAG,CAACK,UAArC,EAAiD,MAAjD,CAAX;UACD;;UACDmN,IAAI,GAAGJ,KAAK,CAAC,CAAD,CAAL,IAAY,GAAZ,IAAoBnK,aAAa,IAAIE,UAAU,CAACgK,IAAI,CAACtF,WAAL,EAAD,CAA/C,GAAuE,GAAvE,GAA6E,EAApF;UACA0E,MAAM,GAAG,QAAQU,CAAR,GAAY,GAAZ,IACN,CAACG,KAAK,CAAC,CAAD,CAAN,GAAaJ,EAAE,GAAG,yBAAyB7E,IAAzB,GAAgC,IAAnC,GAA0C,qCAAqCA,IAArC,GAA4C,IAArG,GACD,CAACiF,KAAK,CAAC,CAAD,CAAN,IAAalK,YAAY,CAACkK,KAAK,CAAC,CAAD,CAAN,CAAzB,IAAuCA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAnD,GAA0D,qCAAqCjF,IAArC,GAA4C,QAAtG,GACA,OAAOjC,IAAI,CAAC3C,EAAZ,GAAiB6J,KAAK,CAAC,CAAD,CAAtB,GAA4BlH,IAAI,CAAC1C,EAAjC,GAAsC,GAAtC,GAA4CgK,IAA5C,GAAmD,yCAAnD,GAA+FrF,IAA/F,GAAsG,OAAtG,GAAgHjC,IAAI,CAACzC,EAH9G,IAIP,KAJO,GAIC8I,MAJD,GAIU,GAJnB;UAKA;QAEF;QACA;;QACA,KAAK,GAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACG,QAAxB,CAAR;UACAwK,MAAM,GAAG,6CAA6CA,MAA7C,GAAsD,OAA/D;UACA;QACF;QACA;;QACA,KAAK,GAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACE,QAAxB,CAAR;UACAyK,MAAM,GAAG,0CAA0CA,MAA1C,GAAmD,OAA5D;UACA;QACF;QACA;;QACA,KAAK,MAAL;QACA,KAAK,MAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACI,QAAxB,CAAR;UACAuK,MAAM,GAAG,oCAAoCA,MAApC,GAA6C,OAAtD;UACA;QACF;QACA;;QACA,KAAK,GAAL;UACEa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACC,QAAxB,CAAR;UACA0K,MAAM,GAAG,iCAAiCA,MAAjC,GAA0C,OAAnD;UACA;QAEF;;QACA,KAAMgB,MAAM,IAAInK,WAAV,GAAwBmK,MAAxB,GAAiC5E,SAAvC;UACE;UACAyE,KAAK,CAACA,KAAK,CAACrJ,MAAN,GAAe,CAAhB,CAAL,GAA0B,GAA1B;UACAwI,MAAM,GAAGnJ,WAAW,CAACmK,MAAD,CAAX,CAAoBH,KAApB,IAA6Bb,MAAtC;UACA;QAEF;QACA;;QACA,KAAK,GAAL;UACE,IAAKa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACL,UAAxB,CAAb,EAAmD;YACjD6L,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,MAAL;gBACE;gBACAb,MAAM,GAAG,QAAQU,CAAR,GAAY,gBAAZ,GAA+BV,MAA/B,IAAyCL,IAAI,GAAG,aAAH,GAAmB,EAAhE,IAAsE,GAA/E;gBACA;;cACF,KAAK,OAAL;gBACE;gBACAK,MAAM,GAAG,2EAA2EW,CAA3E,GAA+E,KAA/E,GAAuFX,MAAvF,GAAgG,GAAzG;gBACA;cAEF;cACA;;cACA,KAAK,YAAL;gBACEA,MAAM,GAAG,QAAQU,CAAR,GAAY,sDAAZ,GAAqEV,MAArE,GAA8E,GAAvF;gBACA;;cACF,KAAK,YAAL;gBACEA,MAAM,GAAG,QAAQU,CAAR,GAAY,2BAAZ,GAA0CV,MAA1C,GAAmD,GAA5D;gBACA;;cACF,KAAK,aAAL;gBACEA,MAAM,GAAG,QAAQU,CAAR,GAAY,+BAAZ,GAA8CV,MAA9C,GAAuD,GAAhE;gBACA;cAEF;cACA;;cACA,KAAK,cAAL;gBACEA,MAAM,GAAG,mBACP,6DADO,GAEP,8DAFO,GAE0DW,CAF1D,GAE8D,KAF9D,GAEsEX,MAFtE,GAE+E,GAFxF;gBAGA;;cACF,KAAK,cAAL;gBACEA,MAAM,GAAG,0EAA0EW,CAA1E,GAA8E,KAA9E,GAAsFX,MAAtF,GAA+F,GAAxG;gBACA;;cACF,KAAK,eAAL;gBACEA,MAAM,GAAG,8EAA8EW,CAA9E,GAAkF,KAAlF,GAA0FX,MAA1F,GAAmG,GAA5G;gBACA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YArCJ;UAuCD,CAzCD,CA2CA;UACA;UA5CA,KA6CK,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACR,UAAxB,CAAb,EAAmD;YACtDgM,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,WAAL;cACA,KAAK,aAAL;cACA,KAAK,gBAAL;cACA,KAAK,kBAAL;gBACED,IAAI,GAAG,YAAYjH,IAAZ,CAAiBkH,KAAK,CAAC,CAAD,CAAtB,CAAP;;gBACA,IAAIA,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAArB,EAA0B;kBACxBI,IAAI,GAAG,QAAQtH,IAAR,CAAakH,KAAK,CAAC,CAAD,CAAlB,CAAP;;kBACA,IAAIA,KAAK,CAAC,CAAD,CAAL,IAAY,GAAhB,EAAqB;oBACnBb,MAAM,GAAG,QAAQU,CAAR,GAAY,QAAZ,GAAuBV,MAAvB,GAAgC,GAAzC;oBACA;kBACD,CAHD,MAGO,IAAIa,KAAK,CAAC,CAAD,CAAL,IAAY,GAAhB,EAAqB;oBAC1BlH,IAAI,GAAGsH,IAAI,GAAG,MAAH,GAAY,UAAvB;oBACAjB,MAAM,GAAGY,IAAI,GAAG,uBACd,aADc,GACEjH,IADF,GACS,sCADT,GACkDgH,CADlD,GACsD,KADtD,GAC8DX,MAD9D,GACuE,GAD1E,GAEX,QAAQU,CAAR,GAAY,KAAZ,GAAoB/G,IAApB,GAA2B,kBAA3B,GAAgDqG,MAAhD,GAAyD,GAF3D;oBAGA;kBACD,CANM,MAMA,IAAIa,KAAK,CAAC,CAAD,CAAL,IAAY,MAAZ,IAAsBA,KAAK,CAAC,CAAD,CAAL,IAAY,KAAlC,IAA2CA,KAAK,CAAC,CAAD,CAAL,IAAY,MAAvD,IAAiEA,KAAK,CAAC,CAAD,CAAL,IAAY,IAAjF,EAAuF;oBAC5FlH,IAAI,GAAG,QAAP;kBACD,CAFM,MAEA,IAAIkH,KAAK,CAAC,CAAD,CAAL,IAAY,KAAZ,IAAsBA,KAAK,CAAC,CAAD,CAAL,IAAY,KAAlC,IAA2CA,KAAK,CAAC,CAAD,CAAL,IAAY,MAA3D,EAAmE;oBACxElH,IAAI,GAAG,QAAP;kBACD,CAFM,MAEA;oBACLU,CAAC,GAAG,KAAKV,IAAL,CAAUkH,KAAK,CAAC,CAAD,CAAf,CAAJ;oBACA1G,CAAC,GAAG0G,KAAK,CAAC,CAAD,CAAL,CAASW,KAAT,CAAe,GAAf,CAAJ;oBACA5J,CAAC,GAAGkC,QAAQ,CAACK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAR,IAAsB,CAA1B;oBACAtC,CAAC,GAAGiC,QAAQ,CAACK,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAAR,IAAsB,CAA1B;;oBACA,IAAIA,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAZ,EAAiB;sBAAEvC,CAAC,GAAG,CAAC,CAAL;oBAAS;;oBAC5B,IAAIuC,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAZ,EAAiB;sBAAEvC,CAAC,GAAG,CAAC,CAAL;oBAAS;;oBAC5B+B,IAAI,GAAG,CAAC9B,CAAC,GAAG,QAAQA,CAAC,GAAG,CAAJ,GAAQ,GAAR,GAAc,GAAtB,IAA6B4J,IAAI,CAACC,GAAL,CAAS7J,CAAT,CAA7B,GAA2C,GAA9C,GAAoD,GAAtD,IAA6D,GAA7D,GAAmED,CAAnE,GAAuE,KAA9E;oBACA+B,IAAI,GACF/B,CAAC,IAAI,CAAC,CAAN,GAAWyC,CAAC,GAAG,QAAQxC,CAAC,GAAG,CAAZ,KAAkB4J,IAAI,CAACC,GAAL,CAAS9J,CAAT,KAAe,CAAf,GAAmB,OAAO+B,IAA1B,GAAiC,EAAnD,CAAH,GAA4D,QAAQ/B,CAAhF,GACAA,CAAC,IAAI,CAAC,CAAN,GAAWyC,CAAC,GAAG,QAAQxC,CAAC,GAAG,CAAZ,KAAkB4J,IAAI,CAACC,GAAL,CAAS9J,CAAT,KAAe,CAAf,GAAmB,OAAO+B,IAA1B,GAAiC,EAAnD,CAAH,GAA4D,QAAQ/B,CAAhF,GACAA,CAAC,KAAK,CAAN,GAAWuC,CAAC,CAAC,CAAD,CAAD,GAAO,QAAQtC,CAAf,GAAmB,QAAQA,CAAC,GAAG,CAAZ,CAA9B,GAAgD,OAHlD;kBAID;;kBACD+I,IAAI,GAAGA,IAAI,GAAG,QAAH,GAAc,SAAzB;kBACAK,IAAI,GAAGA,IAAI,GAAG,MAAH,GAAY,OAAvB;kBACAjB,MAAM,GAAG,YAAYY,IAAZ,GAAmB,KAAnB,GAA2BK,IAA3B,GAAkC,OAAlC,GAA4CP,CAA5C,GAAgD,GAAhD,GAAsD/G,IAAtD,GAA6D,KAA7D,GAAqEqG,MAArE,GAA8E,GAAvF;gBACD,CA/BD,MA+BO;kBACL7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACD;;gBACD;;cACF;gBACEqH,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YA3CJ;UA6CD,CA/CI,CAiDL;UACA;UAlDK,KAmDA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACT,UAAxB,CAAb,EAAmD;YACtDiM,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,IAAL;cACA,KAAK,OAAL;cACA,KAAK,SAAL;gBACED,IAAI,GAAGC,KAAK,CAAC,CAAD,CAAL,CAASjH,OAAT,CAAiBnG,GAAG,CAACO,UAArB,EAAiC,GAAjC,EAAsC4F,OAAtC,CAA8CnG,GAAG,CAACM,UAAlD,EAA8D,EAA9D,CAAP;gBACAiM,MAAM,GAAG,iBAAiBY,IAAI,CAAChH,OAAL,CAAa,OAAb,EAAsB,KAAtB,CAAjB,GAAgD,QAAhD,GAA2DoG,MAA3D,GAAoE,GAA7E;gBACA;;cACF,KAAK,KAAL;gBACEY,IAAI,GAAGC,KAAK,CAAC,CAAD,CAAL,CAASjH,OAAT,CAAiBnG,GAAG,CAACO,UAArB,EAAiC,GAAjC,EAAsC4F,OAAtC,CAA8CnG,GAAG,CAACM,UAAlD,EAA8D,EAA9D,CAAP;gBACAiM,MAAM,GAAG,kBAAkBY,IAAI,CAAChH,OAAL,CAAa,OAAb,EAAsB,KAAtB,CAAlB,GAAiD,QAAjD,GAA4DoG,MAA5D,GAAqE,GAA9E;gBACA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YAbJ;UAeD,CAjBI,CAmBL;UACA;UApBK,KAqBA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACV,UAAxB,CAAb,EAAmD;YACtDkM,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,KAAL;gBACEb,MAAM,GAAG,cAAcU,CAAd,GAAkB,GAAlB,GACP,IADO,GACAG,KAAK,CAAC,CAAD,CADL,GACW,+CADX,GAEP,IAFO,GAEAA,KAAK,CAAC,CAAD,CAFL,GAEW,+CAFX,GAGP,GAHO,IAGAA,KAAK,CAAC,CAAD,CAAL,IAAY,KAAZ,GAAoB,GAApB,GAAwB,EAHxB,IAG6BjL,GAH7B,GAGkC,wBAHlC,GAIP,IAJO,GAIAoK,MAJA,GAIS,IAJlB;gBAKA;;cACF,KAAK,MAAL;gBACEY,IAAI,GAAG,YAAYC,KAAK,CAAC,CAAD,CAAjB,GAAuB,SAA9B;gBACAb,MAAM,GAAG,cAAcU,CAAd,GAAkB,GAAlB,GACP,4DADO,GAEP,YAFO,GAEQG,KAAK,CAAC,CAAD,CAFb,GAEmB,OAFnB,GAE4BD,IAF5B,GAEkC,mBAFlC,GAGP,IAHO,GAGAZ,MAHA,GAGS,IAHlB;gBAIA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YAjBJ;UAmBD,CArBI,CAuBL;UACA;UAxBK,KAyBA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACP,UAAxB,CAAb,EAAmD;YACtD+L,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,UAAL;gBACEb,MAAM,GAAG,QAAQU,CAAR,GAAY,sEAAZ,GAAqFV,MAArF,GAA8F,GAAvG;gBACA;;cACF,KAAK,MAAL;gBACEA,MAAM,GAAG,QAAQU,CAAR,GAAY,2DAAZ,GAA0EV,MAA1E,GAAmF,GAA5F;gBACA;;cACF,KAAK,SAAL;gBACEA,MAAM,GAAG,QAAQU,CAAR,GAAY,sEAAZ,GAAqFV,MAArF,GAA8F,GAAvG;gBACA;;cACF,KAAK,QAAL;gBACEA,MAAM,GAAG,QAAQU,CAAR,GAAY,oGAAZ,GAAmHV,MAAnH,GAA4H,GAArI;gBACA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YAfJ;UAiBD,CAnBI,CAqBL;UACA;UAtBK,KAuBA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACN,UAAxB,CAAb,EAAmD;YACtD8L,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,OAAL;gBACEb,MAAM,GAAG,cAAcvN,GAAd,IAAqBA,GAAG,CAACkP,QAAJ,EAArB,GACP,QAAQjB,CAAR,GAAY,4BAAZ,GAA2CV,MAA3C,GAAoD,GAD7C,GAEP,QAAQW,CAAR,GAAY,QAAZ,GAAuBX,MAAvB,GAAgC,GAFlC;gBAGA;;cACF,KAAK,QAAL;gBACEA,MAAM,GAAG,cAAcvN,GAAd,IAAqBA,GAAG,CAACkP,QAAJ,EAArB,GACP,QAAQjB,CAAR,GAAY,6BAAZ,GAA4CV,MAA5C,GAAqD,GAD9C,GAEP,QAAQW,CAAR,GAAY,QAAZ,GAAuBX,MAAvB,GAAgC,GAFlC;gBAGA;;cACF,KAAK,OAAL;gBACEA,MAAM,GAAG,cAAcvN,GAAd,GACP,QAAQiO,CAAR,GAAY,8FAAZ,GAA6GV,MAA7G,GAAsH,GAD/G,GAEP,QAAQU,CAAR,GAAY,+CAAZ,GAA8DV,MAA9D,GAAuE,GAFzE;gBAGA;;cACF,KAAK,cAAL;gBACEA,MAAM,GAAG,cAAcvN,GAAd,GACP,sEACA,KADA,GACQiO,CADR,GACY,4EADZ,GAC2FV,MAD3F,GACoG,GAF7F,GAEmGA,MAF5G;gBAGA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YAvBJ;UAyBD,CA3BI,CA6BL;UACA;UA9BK,KA+BA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACJ,UAAxB,CAAb,EAAmD;YACtD4L,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,SAAL;gBACEb,MAAM,GAAG,QAAQU,CAAR,GAAY,uFAAZ,GACP,KADO,GACCV,MADD,GACU,GADnB;gBAEA;;cACF,KAAK,UAAL;gBACE;gBACAA,MAAM,GAAG,QAAQU,CAAR,GAAY,oEAAZ,GACP,4FADO,GAEP,KAFO,GAECV,MAFD,GAEU,GAFnB;gBAGA;;cACF,KAAK,WAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,GAAZ,GACE,+DADF,GAEE,0DAFF,GAGA,KAHA,GAGQV,MAHR,GAGiB,GAJnB;gBAKA;;cACF,KAAK,YAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,GAAZ,GACE,gEADF,GAEE,2EAFF,GAGE,+DAHF,GAIA,KAJA,GAIQV,MAJR,GAIiB,GALnB;gBAMA;;cACF,KAAK,mBAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,GAAZ,GACE,0EADF,GAEE,qFAFF,GAGE,wBAHF,GAIA,KAJA,GAIQV,MAJR,GAIiB,GALnB;gBAMA;;cACF,KAAK,SAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,2BAAZ,GACE,eADF,GAEE,4DAFF,GAGE,wCAHF,GAIE,wBAJF,GAKI,8BALJ,GAMI,+BANJ,GAOI,MAPJ,GAQE,GARF,GASA,GATA,GAUA,KAVA,GAUQA,CAVR,GAUY,kEAVZ,GAWE,wDAXF,GAYE,mEAZF,GAaA,KAbA,GAaQV,MAbR,GAaiB,GAdnB;gBAeA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YArDJ;UAuDD,CAzDI,CA2DL;UACA;UA5DK,KA6DA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACH,UAAxB,CAAb,EAAmD;YACtD2L,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EAAX;;YACA,QAAQuF,KAAK,CAAC,CAAD,CAAb;cACE,KAAK,SAAL;gBACEb,MAAM,GAAG,QAAQU,CAAR,GAAY,iCAAZ,GACP,4DADO,GAEP,0DAFO,GAGP,KAHO,GAGCV,MAHD,GAGU,GAHnB;gBAIA;;cACF,KAAK,eAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,+DAAZ,GACE,wEADF,GAEE,8EAFF,GAGA,KAHA,GAGQV,MAHR,GAGiB,GAJnB;gBAKA;;cACF,KAAK,UAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GACE,4DADF,GAEA,IAFA,GAEOV,MAFP,GAEgB,GAHlB;gBAIA;;cACF,KAAK,UAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GACE,6DADF,GAEA,IAFA,GAEOV,MAFP,GAEgB,GAHlB;gBAIA;;cACF,KAAK,SAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,IAAZ,GACE,gDADF,GAEE,6DAFF,GAGE,0DAHF,GAIA,IAJA,GAIOV,MAJP,GAIgB,GALlB;gBAMA;;cACF,KAAK,OAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GAAY,IAAZ,GACE,gDADF,GAEE,4DAFF,GAGE,wDAHF,GAIA,IAJA,GAIOV,MAJP,GAIgB,GALlB;gBAMA;;cACF,KAAK,UAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GACE,kCADF,GAEE,uCAFF,GAGE,2DAHF,GAIE,mFAJF,GAKE,iEALF,GAMA,IANA,GAMOV,MANP,GAMgB,GAPlB;gBAQA;;cACF,KAAK,cAAL;gBACEA,MAAM,GACJ,QAAQU,CAAR,GACE,kCADF,GAEE,uCAFF,GAGE,yDAHF,GAIE,mFAJF,GAKE,iEALF,GAMA,IANA,GAMOV,MANP,GAMgB,GAPlB;gBAQA;;cACF;gBACE7C,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;gBACA;YAhEJ;UAkED,CApEI,CAsEL;UACA;UACA;UAxEK,KAyEA,IAAK+K,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACF,UAAxB,CAAb,EAAmD;YACtD6K,MAAM,GAAG,0CACT,GADS,GACHa,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EADG,GACsB,iBADtB,GAC0C0E,MAD1C,GACmD,GAD5D;UAED,CAHI,CAKL;UACA;UACA;UAPK,KAQA,IAAKa,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAexL,QAAQ,CAACD,UAAxB,CAAb,EAAmD;YACtD4K,MAAM,GAAG,0CACTa,KAAK,CAAC,CAAD,CAAL,CAASvF,WAAT,EADS,GACgB,iBADhB,GACoC0E,MADpC,GAC6C,GADtD;UAED,CAHI,MAKA;YAEH;YACAY,IAAI,GAAG,KAAP;YACAG,MAAM,GAAG,KAAT,CAJG,CAMH;;YACA,KAAKH,IAAL,IAAa9J,SAAb,EAAwB;cACtB,IAAK+J,KAAK,GAAGnB,QAAQ,CAACmB,KAAT,CAAe/J,SAAS,CAAC8J,IAAD,CAAT,CAAgBgB,UAA/B,CAAb,EAA0D;gBACxDd,MAAM,GAAGhK,SAAS,CAAC8J,IAAD,CAAT,CAAgBiB,QAAhB,CAAyBhB,KAAzB,EAAgCb,MAAhC,EAAwCL,IAAxC,EAA8CtI,QAA9C,CAAT;;gBACA,IAAI,WAAWyJ,MAAf,EAAuB;kBAAED,KAAK,GAAGC,MAAM,CAACD,KAAf;gBAAuB;;gBAChDZ,IAAI,GAAGa,MAAM,CAACgB,MAAd;;gBACA,IAAInC,IAAJ,EAAU;kBACP;kBACAM,IAAI,IAAIV,MAAM,CAAC1G,OAAP,CAAeoH,IAAf,IAAuB,CAA/B,KAAqCV,MAAM,CAACA,MAAM,CAAC/H,MAAR,CAAN,GAAwByI,IAA7D;gBACF,CAHD,MAGO;kBACJ;kBACAA,IAAI,IAAIT,MAAM,CAAC3G,OAAP,CAAeoH,IAAf,IAAuB,CAA/B,KAAqCT,MAAM,CAACA,MAAM,CAAChI,MAAR,CAAN,GAAwByI,IAA7D;gBACF,CAVuD,CAWxD;;;gBACAD,MAAM,GAAGc,MAAM,CAACd,MAAhB,CAZwD,CAaxD;;gBACAe,MAAM,GAAGD,MAAM,CAACC,MAAhB,CAdwD,CAexD;;gBACA,IAAIA,MAAJ,EAAY;kBAAE;gBAAQ;cACvB;YACF;;YAED,IAAI,CAACA,MAAL,EAAa;cACX5D,IAAI,CAAC,qCAAqCuC,QAArC,GAAgD,IAAjD,CAAJ;cACA,OAAO,EAAP;YACD;;YAED,IAAI,CAACkB,IAAL,EAAW;cACTzD,IAAI,CAAC,iCAAiCuC,QAAjC,GAA4C,IAA7C,CAAJ;cACA,OAAO,EAAP;YACD;UAEF;;UACD;;QAEJ;UACEvC,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;UACA,MAAMuL,wBAAN;MAvfF,CALe,CA+ff;;;MAEA,IAAI,CAACR,KAAL,EAAY;QACV1D,IAAI,CAAC,OAAO+D,eAAP,GAAyB,IAAzB,GAAgCpL,SAAjC,CAAJ;QACA,OAAO,EAAP;MACD,CApgBc,CAsgBf;;;MACA4J,QAAQ,GAAGmB,KAAK,CAACkB,GAAN,EAAX;IACD,CA1hB0C,CA2hB3C;;;IAEA,OAAO/B,MAAP;EACD,CApwCH;EAAA,IAswCA;EACAgC,OAAO,GACL,UAASC,SAAT,EAAoB3F,OAApB,EAA6B;IAC3B,OAAO2F,SAAS,CAACrI,OAAV,CAAkB,UAAlB,EACL0C,OAAO,CAACf,SAAR,IACCe,OAAO,CAAC5B,EAAR,GAAa,MAAM4B,OAAO,CAAC5B,EAA3B,GAAgC,EADjC,KAEC4B,OAAO,CAACZ,SAAR,GAAoB,MAAMY,OAAO,CAAC4F,SAAR,CAAkB,CAAlB,CAA1B,GAAiD,EAFlD,CADK,CAAP;EAID,CA7wCH;EAAA,IA+wCA;EACAzM,QAAQ,GACN,SAAS0M,QAAT,CAAkBF,SAAlB,EAA6B3F,OAA7B,EAAsCjF,QAAtC,EAAgD;IAE9C,IAAK,SAAD,CAAYsC,IAAZ,CAAiBsI,SAAjB,CAAJ,EAAiC;MAC/BA,SAAS,GAAGD,OAAO,CAACC,SAAD,EAAY3F,OAAZ,CAAnB;IACD;;IAED,OAAOA,OAAP,EAAgB;MACd,IAAIuE,KAAK,CAACoB,SAAD,EAAY3F,OAAZ,EAAqBjF,QAArB,CAAT,EAAyC;MACzCiF,OAAO,GAAGA,OAAO,CAACvB,aAAlB;IACD;;IACD,OAAOuB,OAAP;EACD,CA5xCH;EAAA,IA8xCA8F,YAAY,GACV,UAAS/H,CAAT,EAAYiC,OAAZ,EAAqBjF,QAArB,EAA+B;IAC7B,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG8C,CAAC,CAAC7C,MAAjB,EAAyB6K,CAAC,GAAG,KAAlC,EAAyC9K,CAAC,GAAGD,CAA7C,EAAgD,EAAEA,CAAlD,EACE+C,CAAC,CAAC/C,CAAD,CAAD,CAAKgF,OAAL,EAAcjF,QAAd,EAAwB,IAAxB,EAA8B,KAA9B,MAAyCgL,CAAC,GAAG,IAA7C;;IACF,OAAOA,CAAP;EACD,CAnyCH;EAAA,IAqyCAC,aAAa,GACX,UAASL,SAAT,EAAoB5K,QAApB,EAA8B;IAC5B,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG0K,SAAS,CAACzK,MAAzB,EAAiC6C,CAAC,GAAG,EAA1C,EAA+C9C,CAAC,GAAGD,CAAnD,EAAsD,EAAEA,CAAxD,EACE+C,CAAC,CAAC/C,CAAD,CAAD,GAAOmI,OAAO,CAACwC,SAAS,CAAC3K,CAAD,CAAV,EAAe,KAAf,EAAsBD,QAAtB,CAAd;;IACF,OAAO;MAAEpF,OAAO,EAAEoI;IAAX,CAAP;EACD,CA1yCH;EAAA,IA4yCA;EACAwG,KAAK,GACH,SAAS0B,QAAT,CAAkBN,SAAlB,EAA6B3F,OAA7B,EAAsCjF,QAAtC,EAAgD;IAE9C,IAAImL,WAAJ,EAAiBC,MAAjB;;IAEA,IAAInG,OAAO,IAAIU,cAAc,CAACiF,SAAD,CAA7B,EAA0C;MACxC,OAAOG,YAAY,CAACpF,cAAc,CAACiF,SAAD,CAAd,CAA0BhQ,OAA3B,EAAoCqK,OAApC,EAA6CjF,QAA7C,CAAnB;IACD;;IAED+J,WAAW,GAAGa,SAAd,CAR8C,CAU9C;;IACA,IAAIS,SAAS,CAAClL,MAAV,KAAqB,CAAzB,EAA4B;MAC1B2F,IAAI,CAACtH,SAAD,EAAY8M,SAAZ,CAAJ;MACA,OAAOxM,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+B,KAAtC;IACD,CAHD,MAGO,IAAIsG,SAAS,CAAC,CAAD,CAAT,KAAiB,EAArB,EAAyB;MAC9BvF,IAAI,CAAC,SAASrH,SAAV,CAAJ;MACA,OAAOK,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+B,KAAtC;IACD,CAjB6C,CAmB9C;;;IACA,IAAI,OAAO6F,SAAP,IAAoB,QAAxB,EAAkC;MAChCA,SAAS,GAAG,KAAKA,SAAjB;IACD;;IAED,IAAK,SAAD,CAAYtI,IAAZ,CAAiBsI,SAAjB,CAAJ,EAAiC;MAC/BA,SAAS,GAAGD,OAAO,CAACC,SAAD,EAAY3F,OAAZ,CAAnB;IACD,CA1B6C,CA4B9C;;;IACAmG,MAAM,GAAGR,SAAS,CAChBrI,OADO,CACC,WADD,EACc,QADd,EAEPA,OAFO,CAECnG,GAAG,CAACU,UAFL,EAEiB,MAFjB,EAGPyF,OAHO,CAGCnG,GAAG,CAACY,UAHL,EAGiB,IAHjB,EAIPuF,OAJO,CAICnG,GAAG,CAACW,UAJL,EAIiB,IAJjB,EAKPwF,OALO,CAKCnG,GAAG,CAACO,UALL,EAKiB,GALjB,EAMP4F,OANO,CAMCnG,GAAG,CAACM,UANL,EAMiB,EANjB,CAAT,CA7B8C,CAqC9C;;IACA,IAAI,CAACyO,WAAW,GAAGC,MAAM,CAAC5B,KAAP,CAAa3K,WAAb,CAAf,KAA6CsM,WAAW,CAAClC,IAAZ,CAAiB,EAAjB,KAAwBmC,MAAzE,EAAiF;MAC/ED,WAAW,GAAGC,MAAM,CAAC5B,KAAP,CAAapN,GAAG,CAACQ,UAAjB,CAAd;;MACA,IAAIwO,MAAM,CAACA,MAAM,CAACjL,MAAP,GAAgB,CAAjB,CAAN,IAA6B,GAAjC,EAAsC;QACpC2F,IAAI,CAACrH,SAAD,CAAJ;QACA,OAAOK,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+B,KAAtC;MACD;IACF,CAND,MAMO;MACLe,IAAI,CAAC,OAAO8E,SAAP,GAAmB,IAAnB,GAA0BnM,SAA3B,CAAJ;MACA,OAAOK,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+B,KAAtC;IACD;;IAEDY,cAAc,CAACiF,SAAD,CAAd,GAA4BK,aAAa,CAACE,WAAD,EAAcnL,QAAd,CAAzC;IAEA,OAAO+K,YAAY,CAACpF,cAAc,CAACiF,SAAD,CAAd,CAA0BhQ,OAA3B,EAAoCqK,OAApC,EAA6CjF,QAA7C,CAAnB;EACD,CAl2CH;EAAA,IAo2CA;EACAuL,KAAK,GACH,SAASC,cAAT,CAAwBZ,SAAxB,EAAmC9J,OAAnC,EAA4Cd,QAA5C,EAAsD;IACpD,IAAIqL,SAAS,CAAClL,MAAV,KAAqB,CAAzB,EAA4B;MAC1B2F,IAAI,CAACtH,SAAD,EAAY8M,SAAZ,CAAJ;IACD;;IACD,OAAOG,MAAM,CAACb,SAAD,EAAY9J,OAAZ,EACX,OAAOd,QAAP,IAAmB,UAAnB,GACA,SAAS0L,UAAT,CAAoBzG,OAApB,EAA6B;MAC3BjF,QAAQ,CAACiF,OAAD,CAAR;MACA,OAAO,KAAP;IACD,CAJD,GAKA,SAASyG,UAAT,GAAsB;MACpB,OAAO,KAAP;IACD,CARU,CAAN,CASL,CATK,KASC,IATR;EAUD,CAp3CH;EAAA,IAs3CA;EACAD,MAAM,GACJ,SAASE,iBAAT,CAA2Bf,SAA3B,EAAsC9J,OAAtC,EAA+Cd,QAA/C,EAAyD;IAEvD,IAAImL,WAAJ,EAAiBpL,KAAjB,EAAwBqL,MAAxB,EAAgCQ,QAAhC;IAEA9K,OAAO,KAAKA,OAAO,GAAG1F,GAAf,CAAP;;IAEA,IAAIwP,SAAJ,EAAe;MACb,IAAKgB,QAAQ,GAAGhG,eAAe,CAACgF,SAAD,CAA/B,EAA6C;QAC3C,IAAIgB,QAAQ,CAAC9K,OAAT,KAAqBA,OAArB,IAAgC8K,QAAQ,CAAC5L,QAAT,KAAsBA,QAA1D,EAAoE;UAClE,IAAIgD,CAAC,GAAG4I,QAAQ,CAAChR,OAAjB;UAAA,IAA0BiR,CAAC,GAAGD,QAAQ,CAACE,OAAvC;UAAA,IAAgDhJ,CAAC,GAAG8I,QAAQ,CAACG,OAA7D;UAAA,IAAsEhM,KAAK,GAAG,EAA9E;;UACA,IAAI+C,CAAC,CAAC3C,MAAF,GAAW,CAAf,EAAkB;YAChB,KAAK,IAAIF,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG4C,CAAC,CAAC3C,MAAjB,EAAyBC,IAA9B,EAAoCF,CAAC,GAAGD,CAAxC,EAA2C,EAAEA,CAA7C,EAAgD;cAC9CG,IAAI,GAAGwC,MAAM,CAACE,CAAC,CAAC7C,CAAD,CAAD,CAAK,CAAL,CAAD,CAAN,CAAgBa,OAAhB,EAAyBgC,CAAC,CAAC7C,CAAD,CAAD,CAAKzE,KAAL,CAAW,CAAX,CAAzB,GAAP;;cACA,IAAIwH,CAAC,CAAC/C,CAAD,CAAD,KAAS,IAAb,EAAmB;gBACjB+C,CAAC,CAAC/C,CAAD,CAAD,CAAKG,IAAL,EAAWJ,QAAX,EAAqBc,OAArB,EAA8Bf,KAA9B;cACD,CAFD,MAEO;gBACLA,KAAK,GAAGA,KAAK,CAACiM,MAAN,CAAa5L,IAAb,CAAR;cACD;YACF;;YACD,IAAIF,CAAC,GAAG,CAAJ,IAASH,KAAK,CAACI,MAAN,GAAe,CAA5B,EAA+B;cAC7BJ,KAAK,CAACkM,IAAN,CAAW3L,aAAX;cACAG,QAAQ,KAAKV,KAAK,GAAGY,MAAM,CAACZ,KAAD,CAAnB,CAAR;YACD;UACF,CAbD,MAaO;YACL,IAAIiD,CAAC,CAAC,CAAD,CAAL,EAAU;cACRjD,KAAK,GAAGiD,CAAC,CAAC,CAAD,CAAD,CAAK6I,CAAC,CAAC,CAAD,CAAD,EAAL,EAAa7L,QAAb,EAAuBc,OAAvB,EAAgCf,KAAhC,CAAR;YACD,CAFD,MAEO;cACLA,KAAK,GAAG8L,CAAC,CAAC,CAAD,CAAD,EAAR;YACD;UACF;;UACD,OAAO,OAAO7L,QAAP,IAAmB,UAAnB,GACLF,UAAU,CAACC,KAAD,EAAQC,QAAR,CADL,GACyBD,KADhC;QAED;MACF;IACF;;IAED+J,YAAY,GAAGc,SAAf,CApCuD,CAsCvD;;IACA,IAAIS,SAAS,CAAClL,MAAV,KAAqB,CAAzB,EAA4B;MAC1B2F,IAAI,CAACtH,SAAD,EAAY8M,SAAZ,CAAJ;MACA,OAAOxM,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+BpB,IAAtC;IACD,CAHD,MAGO,IAAI0H,SAAS,CAAC,CAAD,CAAT,KAAiB,EAArB,EAAyB;MAC9BvF,IAAI,CAAC,SAASrH,SAAV,CAAJ;MACA,OAAOK,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+BpB,IAAtC;IACD,CAHM,MAGA,IAAI2C,WAAW,KAAKxF,OAApB,EAA6B;MAClCwF,WAAW,GAAGnF,aAAa,CAACL,OAAD,CAA3B;IACD,CA/CsD,CAiDvD;;;IACA,IAAI,OAAO8J,SAAP,IAAoB,QAAxB,EAAkC;MAChCA,SAAS,GAAG,KAAKA,SAAjB;IACD;;IAED,IAAK,SAAD,CAAYtI,IAAZ,CAAiBsI,SAAjB,CAAJ,EAAiC;MAC/BA,SAAS,GAAGD,OAAO,CAACC,SAAD,EAAY9J,OAAZ,CAAnB;IACD,CAxDsD,CA0DvD;;;IACAsK,MAAM,GAAGR,SAAS,CAChBrI,OADO,CACC,WADD,EACc,QADd,EAEPA,OAFO,CAECnG,GAAG,CAACU,UAFL,EAEiB,MAFjB,EAGPyF,OAHO,CAGCnG,GAAG,CAACY,UAHL,EAGiB,IAHjB,EAIPuF,OAJO,CAICnG,GAAG,CAACW,UAJL,EAIiB,IAJjB,EAKPwF,OALO,CAKCnG,GAAG,CAACO,UALL,EAKiB,GALjB,EAMP4F,OANO,CAMCnG,GAAG,CAACM,UANL,EAMiB,EANjB,CAAT,CA3DuD,CAmEvD;;IACA,IAAI,CAACyO,WAAW,GAAGC,MAAM,CAAC5B,KAAP,CAAa3K,WAAb,CAAf,KAA6CsM,WAAW,CAAClC,IAAZ,CAAiB,EAAjB,KAAwBmC,MAAzE,EAAiF;MAC/ED,WAAW,GAAGC,MAAM,CAAC5B,KAAP,CAAapN,GAAG,CAACQ,UAAjB,CAAd;;MACA,IAAIwO,MAAM,CAACA,MAAM,CAACjL,MAAP,GAAgB,CAAjB,CAAN,IAA6B,GAAjC,EAAsC;QACpC2F,IAAI,CAACrH,SAAD,CAAJ;QACA,OAAOK,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+B,KAAtC;MACD;IACF,CAND,MAMO;MACLe,IAAI,CAAC,OAAO8E,SAAP,GAAmB,IAAnB,GAA0BnM,SAA3B,CAAJ;MACA,OAAOK,MAAM,CAACI,SAAP,GAAmB6F,SAAnB,GAA+B,KAAtC;IACD,CA7EsD,CA+EvD;;;IACAa,eAAe,CAACgF,SAAD,CAAf,GAA6BsB,OAAO,CAACf,WAAD,EAAcrK,OAAd,EAAuBd,QAAvB,CAApC;IAEAD,KAAK,GAAG6F,eAAe,CAACgF,SAAD,CAAf,CAA2BuB,OAAnC;IAEA,OAAO,OAAOnM,QAAP,IAAmB,UAAnB,GACLF,UAAU,CAACC,KAAD,EAAQC,QAAR,CADL,GACyBD,KADhC;EAED,CA98CH;EAAA,IAg9CA;EACAqM,QAAQ,GACN,UAAS/D,QAAT,EAAmBE,KAAnB,EAA0B;IACxB,IAAI8D,KAAK,GAAG9D,KAAK,CAAC8D,KAAlB;IAAA,IACAlM,MAAM,GAAGoI,KAAK,CAAC,CAAD,CAAL,CAASpI,MAAT,GAAkBoI,KAAK,CAAC,CAAD,CAAL,CAASpI,MADpC;IAEA,OAAOkI,QAAQ,CAAC7M,KAAT,CAAe,CAAf,EAAkB6Q,KAAlB,KACJ,OAAO7K,OAAP,CAAe6G,QAAQ,CAACiE,MAAT,CAAgBD,KAAK,GAAG,CAAxB,CAAf,IAA6C,CAAC,CAA9C,GACE,KAAK7K,OAAL,CAAa6G,QAAQ,CAACiE,MAAT,CAAgBD,KAAK,GAAGlM,MAAR,GAAiB,CAAjC,CAAb,IAAoD,CAAC,CAArD,GACD,GADC,GACK,EAFP,GAEa,EAHT,IAGekI,QAAQ,CAAC7M,KAAT,CAAe6Q,KAAK,GAAGlM,MAAR,IAAkBoI,KAAK,CAAC,CAAD,CAAL,IAAY,GAAZ,GAAkB,CAAlB,GAAsB,CAAxC,CAAf,CAHtB;EAID,CAz9CH;EAAA,IA29CA;EACA2D,OAAO,GACL,UAAStB,SAAT,EAAoB9J,OAApB,EAA6Bd,QAA7B,EAAuC;IAErC,IAAIC,CAAJ;IAAA,IAAOC,CAAP;IAAA,IAAUqM,IAAI,GAAG,EAAjB;IAAA,IAAsBhE,KAAK,GAAG,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAA9B;IAAA,IAA8CiE,SAAS,GAAG5B,SAA1D;IAAA,IACAhQ,OAAO,GAAG,EADV;IAAA,IACekR,OAAO,GAAG,EADzB;IAAA,IAC8BC,OAAO,GAAG,EADxC;IAAA,IAC6CI,OAAO,GAAG,EADvD;IAAA,IAC4DvC,IAD5D;;IAGA,KAAK3J,CAAC,GAAG,CAAJ,EAAOC,CAAC,GAAG0K,SAAS,CAACzK,MAA1B,EAAkCD,CAAC,GAAGD,CAAtC,EAAyC,EAAEA,CAA3C,EAA8C;MAE5C,IAAI,CAACsM,IAAI,CAAC3B,SAAS,CAAC3K,CAAD,CAAV,CAAL,KAAwBsM,IAAI,CAAC3B,SAAS,CAAC3K,CAAD,CAAV,CAAJ,GAAqB,IAA7C,CAAJ,EAAwD;QACtD2J,IAAI,GAAGgB,SAAS,CAAC3K,CAAD,CAAT,CAAauJ,KAAb,CAAmB5K,WAAnB,CAAP;;QACA,IAAIgL,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAJ,IAAW,GAAnB,KAA2BrB,KAAK,GAAGqB,IAAnC,CAAJ,EAA8C;UAC5CrB,KAAK,CAAC,CAAD,CAAL,KAAaA,KAAK,CAAC,CAAD,CAAL,GAAW,GAAxB;UACAiE,SAAS,CAACvM,CAAD,CAAT,GAAemM,QAAQ,CAACI,SAAS,CAACvM,CAAD,CAAV,EAAesI,KAAf,CAAvB;QACD,CAHD,MAGO;UACLA,KAAK,GAAG,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAAR;QACD;MACF;;MAEDwD,OAAO,CAAC9L,CAAD,CAAP,GAAasI,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAA7B;MACAuD,OAAO,CAAC7L,CAAD,CAAP,GAAa2C,MAAM,CAAC2F,KAAK,CAAC,CAAD,CAAN,CAAN,CAAiBzH,OAAjB,EAA0ByH,KAAK,CAAC,CAAD,CAA/B,CAAb;MACA3N,OAAO,CAACqF,CAAD,CAAP,GAAamI,OAAO,CAACoE,SAAS,CAACvM,CAAD,CAAV,EAAe,IAAf,EAAqB,IAArB,CAApB;MAEArF,OAAO,CAACqF,CAAD,CAAP,GACErF,OAAO,CAACqF,CAAD,CAAP,CAAW6L,OAAO,CAAC7L,CAAD,CAAP,EAAX,EAAyBD,QAAzB,EAAmCc,OAAnC,EAA4CqL,OAA5C,CADF,GAEE1C,MAAM,CAACuC,MAAP,CAAcF,OAAO,CAAC7L,CAAD,CAAP,EAAd,CAFF;IAGD;;IAED,IAAIC,CAAC,GAAG,CAAR,EAAW;MACTiM,OAAO,CAACF,IAAR,CAAa3L,aAAb;MACAG,QAAQ,KAAK0L,OAAO,GAAGxL,MAAM,CAACwL,OAAD,CAArB,CAAR;IACD;;IAED,OAAO;MACLnM,QAAQ,EAAEA,QADL;MAELc,OAAO,EAAEA,OAFJ;MAGLlG,OAAO,EAAEA,OAHJ;MAILkR,OAAO,EAAEA,OAJJ;MAKLC,OAAO,EAAEA,OALJ;MAMLI,OAAO,EAAEA;IANJ,CAAP;EASD,CArgDH;EAAA,IAugDA;EACArB,QAxgDA;EAAA,IAwgDUI,QAxgDV;EAAA,IAwgDoBM,cAxgDpB;EAAA,IAwgDoCG,iBAxgDpC;EAAA,IA0gDA;EACAc,OAAO,GACL,UAAS7I,GAAT,EAAc;IAEZ;IACAkH,QAAQ,GAAG4B,OAAO,CAAChR,SAAR,CAAkBiR,OAA7B;IACAzB,QAAQ,GAAGwB,OAAO,CAAChR,SAAR,CAAkBkR,OAA7B;IACApB,cAAc,GAAGqB,QAAQ,CAACnR,SAAT,CAAmBoR,aAApC;IACAnB,iBAAiB,GAAGkB,QAAQ,CAACnR,SAAT,CAAmBqR,gBAAvC;;IAEAL,OAAO,CAAChR,SAAR,CAAkBiR,OAAlB,GACE,SAASA,OAAT,GAAmB;MACjB,IAAIK,IAAI,GAAG3H,MAAM,CAAC4H,cAAP,CAAsB,IAAtB,EAA4BC,SAA5B,CAAsCA,SAAtC,CAAgDC,WAAhD,CAA4D5I,IAAvE;;MACA,IAAI,EAAE,cAAc,IAAhB,CAAJ,EAA2B;QAAEuB,IAAI,CAAC,uEAAuEkH,IAAvE,GAA8E,GAA/E,EAAoF1B,SAApF,CAAJ;MAAqG;;MAClI,OAAOD,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuB/B,QAAQ,CAACgP,KAAT,CAAe,IAAf,EAAqB,EAArB,CAAvB,GACA/B,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuB/B,QAAQ,CAACgP,KAAT,CAAe,IAAf,EAAqB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,CAArB,CAAvB,GACuBjN,QAAQ,CAACgP,KAAT,CAAe,IAAf,EAAqB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,EAAsB,OAAOA,SAAS,CAAC,CAAD,CAAhB,IAAuB,UAAvB,GAAoCA,SAAS,CAAC,CAAD,CAA7C,GAAmDtG,SAAzE,CAArB,CAF9B;IAGD,CAPH;;IASA2H,OAAO,CAAChR,SAAR,CAAkBkR,OAAlB,GACE,SAASA,OAAT,GAAmB;MACjB,IAAII,IAAI,GAAG3H,MAAM,CAAC4H,cAAP,CAAsB,IAAtB,EAA4BC,SAA5B,CAAsCA,SAAtC,CAAgDC,WAAhD,CAA4D5I,IAAvE;;MACA,IAAI,EAAE,cAAc,IAAhB,CAAJ,EAA2B;QAAEuB,IAAI,CAAC,uEAAuEkH,IAAvE,GAA8E,GAA/E,EAAoF1B,SAApF,CAAJ;MAAqG;;MAClI,OAAOD,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuBqJ,KAAK,CAAC4D,KAAN,CAAY,IAAZ,EAAkB,EAAlB,CAAvB,GACA/B,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuBqJ,KAAK,CAAC4D,KAAN,CAAY,IAAZ,EAAkB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,CAAlB,CAAvB,GACuB7B,KAAK,CAAC4D,KAAN,CAAY,IAAZ,EAAkB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,EAAsB,OAAOA,SAAS,CAAC,CAAD,CAAhB,IAAuB,UAAvB,GAAoCA,SAAS,CAAC,CAAD,CAA7C,GAAmDtG,SAAzE,CAAlB,CAF9B;IAGD,CAPH;;IASA2H,OAAO,CAAChR,SAAR,CAAkBoR,aAAlB,GACAD,QAAQ,CAACnR,SAAT,CAAmBoR,aAAnB,GACAO,gBAAgB,CAAC3R,SAAjB,CAA2BoR,aAA3B,GACE,SAASA,aAAT,GAAyB;MACvB,IAAIE,IAAI,GAAG3H,MAAM,CAAC4H,cAAP,CAAsB,IAAtB,EAA4BC,SAA5B,CAAsCA,SAAtC,CAAgDC,WAAhD,CAA4D5I,IAAvE;;MACA,IAAI,EAAE,cAAc,IAAhB,CAAJ,EAA2B;QAAEuB,IAAI,CAAC,6EAA6EkH,IAA7E,GAAoF,GAArF,EAA0F1B,SAA1F,CAAJ;MAA2G;;MACxI,OAAOD,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuBoL,KAAK,CAAC6B,KAAN,CAAY,IAAZ,EAAkB,EAAlB,CAAvB,GACA/B,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuBoL,KAAK,CAAC6B,KAAN,CAAY,IAAZ,EAAkB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,CAAlB,CAAvB,GACuBE,KAAK,CAAC6B,KAAN,CAAY,IAAZ,EAAkB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,EAAsB,OAAOA,SAAS,CAAC,CAAD,CAAhB,IAAuB,UAAvB,GAAoCA,SAAS,CAAC,CAAD,CAA7C,GAAmDtG,SAAzE,CAAlB,CAF9B;IAGD,CATH;;IAWA2H,OAAO,CAAChR,SAAR,CAAkBqR,gBAAlB,GACAF,QAAQ,CAACnR,SAAT,CAAmBqR,gBAAnB,GACAM,gBAAgB,CAAC3R,SAAjB,CAA2BqR,gBAA3B,GACE,SAASA,gBAAT,GAA4B;MAC1B,IAAIC,IAAI,GAAG3H,MAAM,CAAC4H,cAAP,CAAsB,IAAtB,EAA4BC,SAA5B,CAAsCA,SAAtC,CAAgDC,WAAhD,CAA4D5I,IAAvE;;MACA,IAAI,EAAE,cAAc,IAAhB,CAAJ,EAA2B;QAAEuB,IAAI,CAAC,gFAAgFkH,IAAhF,GAAuF,GAAxF,EAA6F1B,SAA7F,CAAJ;MAA8G;;MAC3I,OAAOD,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuBsL,MAAM,CAAC2B,KAAP,CAAa,IAAb,EAAmB,EAAnB,CAAvB,GACA/B,SAAS,CAAClL,MAAV,GAAmB,CAAnB,GAAuBsL,MAAM,CAAC2B,KAAP,CAAa,IAAb,EAAmB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,CAAnB,CAAvB,GACuBI,MAAM,CAAC2B,KAAP,CAAa,IAAb,EAAmB,CAAE/B,SAAS,CAAC,CAAD,CAAX,EAAgB,IAAhB,EAAsB,OAAOA,SAAS,CAAC,CAAD,CAAhB,IAAuB,UAAvB,GAAoCA,SAAS,CAAC,CAAD,CAA7C,GAAmDtG,SAAzE,CAAnB,CAF9B;IAGD,CATH;;IAWA,IAAInB,GAAJ,EAAS;MACPvI,QAAQ,CAACiS,gBAAT,CAA0B,MAA1B,EAAkC,UAASvK,CAAT,EAAY;QAC5C,IAAIF,CAAJ;QAAA,IAAO0K,CAAP;QAAA,IAAUvC,CAAV;QAAA,IAAawC,CAAb;QAAA,IAAgBC,CAAC,GAAG1K,CAAC,CAAC2K,MAAtB;;QACA,IAAI,UAAUpL,IAAV,CAAemL,CAAC,CAACvJ,SAAjB,CAAJ,EAAiC;UAC/BrB,CAAC,GAAG,MAAMnI,MAAN,GAAe,UAAf,GAA4BQ,OAA5B,GAAsC,IAA1C;UAAgDqS,CAAC,GAAGE,CAAC,CAACE,eAAN;UAChDH,CAAC,GAAGD,CAAC,CAAChI,aAAF,CAAgB,QAAhB,CAAJ;UAA+BiI,CAAC,CAACI,WAAF,GAAgB/K,CAAC,GAAG,kBAApB;UAC/BmI,CAAC,GAAGuC,CAAC,CAAChS,eAAN;UAAuByP,CAAC,CAAC6C,WAAF,CAAc7C,CAAC,CAAC8C,YAAF,CAAeN,CAAf,EAAkBxC,CAAC,CAAC+C,UAApB,CAAd;QACxB;MACF,CAPD,EAOG,IAPH;IAQD;EAEF,CAvkDH;EAAA,IAykDA;EACAC,SAAS,GACP,YAAW;IACT;IACAtB,OAAO,CAAChR,SAAR,CAAkBiR,OAAlB,GAA4B7B,QAA5B;IACA4B,OAAO,CAAChR,SAAR,CAAkBkR,OAAlB,GAA4B1B,QAA5B;IACAwB,OAAO,CAAChR,SAAR,CAAkBoR,aAAlB,GACAD,QAAQ,CAACnR,SAAT,CAAmBoR,aAAnB,GACAO,gBAAgB,CAAC3R,SAAjB,CAA2BoR,aAA3B,GAA2CtB,cAF3C;IAGAkB,OAAO,CAAChR,SAAR,CAAkBqR,gBAAlB,GACAF,QAAQ,CAACnR,SAAT,CAAmBqR,gBAAnB,GACAM,gBAAgB,CAAC3R,SAAjB,CAA2BqR,gBAA3B,GAA8CpB,iBAF9C;EAGD,CArlDH;EAAA,IAulDA;EACAhI,IAAI,GAAGlI,KAAK,EAxlDZ;EAAA,IA0lDA;EACA6K,WA3lDA;EAAA,IA6lDA;EACAyD,WA9lDA;EAAA,IA+lDAD,YA/lDA;EAAA,IAimDA;EACAhB,YAAY,GAAG,EAlmDf;EAAA,IAmmDAD,aAAa,GAAG,EAnmDhB;EAAA,IAqmDA;EACAlD,cAAc,GAAG,EAtmDjB;EAAA,IAumDAC,eAAe,GAAG,EAvmDlB;EAAA,IAymDA;EACAnE,QAAQ,GAAG;IAETrG,GAAG,EAAEA,GAFI;IAGTsG,IAAI,EAAEtG,GAHG;IAITE,IAAI,EAAEA,IAJG;IAMT4H,KAAK,EAAEA,KANE;IAQTqI,KAAK,EAAEA,KARE;IAST/B,KAAK,EAAEA,KATE;IAWTpL,QAAQ,EAAEA,QAXD;IAaTgH,SAAS,EAAEA,SAbF;IAcTV,UAAU,EAAEA,UAdH;IAgBTJ,cAAc,EAAEA;EAhBP,CA1mDX;EAAA,IA6nDA;EACArJ,GAAG,GAAG;IAEJ;IAEA8O,WAAW,EAAEA,WAJT;IAKJD,YAAY,EAAEA,YALV;IAOJhB,YAAY,EAAEA,YAPV;IAQJD,aAAa,EAAEA,aARX;IAUJlD,cAAc,EAAEA,cAVZ;IAWJC,eAAe,EAAEA,eAXb;IAaJ;IAEAhK,GAAG,EAAEA,GAfD;IAiBJgM,MAAM,EAAEA,MAjBJ;IAkBJF,MAAM,EAAEA,MAlBJ;IAmBJO,MAAM,EAAEA,MAnBJ;IAoBJF,MAAM,EAAEA,MApBJ;IAsBJ;IAEA9E,IAAI,EAAEA,IAxBF;IAyBJC,KAAK,EAAEA,KAzBH;IA0BJC,OAAO,EAAEA,OA1BL;IA4BJqG,KAAK,EAAEA,KA5BH;IA6BJ+B,KAAK,EAAEA,KA7BH;IA8BJE,MAAM,EAAEA,MA9BJ;IA+BJkB,OAAO,EAAEvO,QA/BL;IAiCJgK,OAAO,EAAEA,OAjCL;IAkCJ5C,SAAS,EAAEA,SAlCP;IAoCJM,IAAI,EAAEA,IApCF;IAqCJhH,MAAM,EAAEA,MArCJ;IAsCJ2C,QAAQ,EAAEA,QAtCN;IAwCJwM,OAAO,EAAE9S,OAxCL;IA0CJsR,OAAO,EAAEA,OA1CL;IA2CJuB,SAAS,EAAEA,SA3CP;IA6CJtO,SAAS,EAAEA,SA7CP;IA8CJD,SAAS,EAAEA,SA9CP;IAgDJ;IACAyO,kBAAkB,EAChB,UAAShR,UAAT,EAAqB0O,QAArB,EAA+B;MAC7B,IAAI3L,CAAC,GAAG,CAAR;MAAA,IAAWC,CAAC,GAAGhD,UAAU,CAACiD,MAA1B;MAAA,IAAkCwJ,MAAlC;;MACA,OAAOzJ,CAAC,GAAGD,CAAX,EAAc,EAAEA,CAAhB,EAAmB;QACjB,IAAI/C,UAAU,CAAC+C,CAAD,CAAV,IAAiB,GAArB,EAA0B;UACxB0J,MAAM,GAAGzM,UAAU,CAAC+C,CAAD,CAAnB;UACA;QACD;MACF;;MACD,IAAIrE,GAAG,CAACE,WAAJ,CAAgB0F,OAAhB,CAAwBmI,MAAxB,IAAkC,CAAtC,EAAyC;QACvC/N,GAAG,CAACE,WAAJ,GAAkBF,GAAG,CAACE,WAAJ,CAAgByG,OAAhB,CAAwB,IAAxB,EAA8BoH,MAAM,GAAG,IAAvC,CAAlB;QACA/N,GAAG,CAACE,WAAJ,GAAkBF,GAAG,CAACE,WAAJ,CAAgByG,OAAhB,CAAwB,IAAxB,EAA8BoH,MAAM,GAAG,IAAvC,CAAlB;QACAnK,WAAW,CAACtC,UAAD,CAAX,GAA0B0O,QAA1B;QACA/F,mBAAmB;MACpB,CALD,MAKO;QACLM,OAAO,CAACgI,IAAR,CAAa,oBAAoBjR,UAApB,GAAiC,sCAA9C;MACD;IACF,CAlEC;IAoEJ;IACAkR,gBAAgB,EACd,UAASC,QAAT,EAAmBzC,QAAnB,EAA6B;MAC3B,IAAI3L,CAAC,GAAG,CAAR;MAAA,IAAWC,CAAC,GAAGmO,QAAQ,CAAClO,MAAxB;MAAA,IAAgCwJ,MAAhC;;MACA,OAAOzJ,CAAC,GAAGD,CAAX,EAAc,EAAEA,CAAhB,EAAmB;QACjB,IAAIoO,QAAQ,CAACpO,CAAD,CAAR,IAAe,GAAnB,EAAwB;UACtB0J,MAAM,GAAG0E,QAAQ,CAACpO,CAAD,CAAjB;UACA;QACD;MACF;;MACD,IAAIrE,GAAG,CAACC,SAAJ,CAAc2F,OAAd,CAAsBmI,MAAtB,IAAgC,CAAhC,IAAqC,CAACjK,SAAS,CAAC2O,QAAD,CAAnD,EAA+D;QAC7DzS,GAAG,CAACC,SAAJ,GAAgBD,GAAG,CAACC,SAAJ,CAAc0G,OAAd,CAAsB,IAAtB,EAA4BoH,MAAM,GAAG,IAArC,CAAhB;QACAjK,SAAS,CAAC2O,QAAD,CAAT,GAAsBzC,QAAtB;QACA/F,mBAAmB;MACpB,CAJD,MAIO;QACLM,OAAO,CAACgI,IAAR,CAAa,oBAAoBE,QAApB,GAA+B,oCAA5C;MACD;IACF,CArFC;IAuFJ;IACAC,gBAAgB,EACd,UAAS/J,IAAT,EAAegK,IAAf,EAAqBC,IAArB,EAA2B;MACzB/O,SAAS,CAAC8E,IAAD,CAAT,KAAoB9E,SAAS,CAAC8E,IAAD,CAAT,GAAkB;QACpCgG,UAAU,EAAEgE,IADwB;QAEpC/D,QAAQ,EAAEgE;MAF0B,CAAtC;IAID;EA9FC,CA9nDN;;EAguDAnI,UAAU,CAACjL,GAAD,CAAV;EAEA,OAAOH,GAAP;AAED,CAnvDD"},"metadata":{},"sourceType":"script"}