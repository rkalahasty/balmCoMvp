{"ast":null,"code":"\"use strict\";\n\nconst {\n  SaxesParser\n} = require(\"saxes\");\n\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst {\n  createElement\n} = require(\"../../living/helpers/create-element\");\n\nconst DocumentFragment = require(\"../../living/generated/DocumentFragment\");\n\nconst DocumentType = require(\"../../living/generated/DocumentType\");\n\nconst CDATASection = require(\"../../living/generated/CDATASection\");\n\nconst Comment = require(\"../../living/generated/Comment\");\n\nconst ProcessingInstruction = require(\"../../living/generated/ProcessingInstruction\");\n\nconst Text = require(\"../../living/generated/Text\");\n\nconst attributes = require(\"../../living/attributes\");\n\nconst {\n  HTML_NS\n} = require(\"../../living/helpers/namespaces\");\n\nconst HTML5_DOCTYPE = /<!doctype html>/i;\nconst PUBLIC_DOCTYPE = /<!doctype\\s+([^\\s]+)\\s+public\\s+\"([^\"]+)\"\\s+\"([^\"]+)\"/i;\nconst SYSTEM_DOCTYPE = /<!doctype\\s+([^\\s]+)\\s+system\\s+\"([^\"]+)\"/i;\nconst CUSTOM_NAME_DOCTYPE = /<!doctype\\s+([^\\s>]+)/i;\n\nfunction parseDocType(globalObject, ownerDocument, html) {\n  if (HTML5_DOCTYPE.test(html)) {\n    return createDocumentType(globalObject, ownerDocument, \"html\", \"\", \"\");\n  }\n\n  const publicPieces = PUBLIC_DOCTYPE.exec(html);\n\n  if (publicPieces) {\n    return createDocumentType(globalObject, ownerDocument, publicPieces[1], publicPieces[2], publicPieces[3]);\n  }\n\n  const systemPieces = SYSTEM_DOCTYPE.exec(html);\n\n  if (systemPieces) {\n    return createDocumentType(globalObject, ownerDocument, systemPieces[1], \"\", systemPieces[2]);\n  }\n\n  const namePiece = CUSTOM_NAME_DOCTYPE.exec(html)[1] || \"html\";\n  return createDocumentType(globalObject, ownerDocument, namePiece, \"\", \"\");\n}\n\nfunction createDocumentType(globalObject, ownerDocument, name, publicId, systemId) {\n  return DocumentType.createImpl(globalObject, [], {\n    ownerDocument,\n    name,\n    publicId,\n    systemId\n  });\n}\n\nfunction isHTMLTemplateElement(element) {\n  return element.tagName === \"template\" && element.namespaceURI === HTML_NS;\n}\n\nfunction createParser(rootNode, globalObject, saxesOptions) {\n  const parser = new SaxesParser({ ...saxesOptions,\n    // Browsers always have namespace support.\n    xmlns: true,\n    // We force the parser to treat all documents (even documents declaring themselves to be XML 1.1 documents) as XML\n    // 1.0 documents. See https://github.com/jsdom/jsdom/issues/2677 for a discussion of the stakes.\n    defaultXMLVersion: \"1.0\",\n    forceXMLVersion: true\n  });\n  const openStack = [rootNode];\n\n  function getOwnerDocument() {\n    const currentElement = openStack[openStack.length - 1];\n    return isHTMLTemplateElement(currentElement) ? currentElement._templateContents._ownerDocument : currentElement._ownerDocument;\n  }\n\n  function appendChild(child) {\n    const parentElement = openStack[openStack.length - 1];\n\n    if (isHTMLTemplateElement(parentElement)) {\n      parentElement._templateContents._insert(child, null);\n    } else {\n      parentElement._insert(child, null);\n    }\n  }\n\n  parser.on(\"text\", saxesOptions.fragment ? // In a fragment, all text events produced by saxes must result in a text\n  // node.\n  data => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(Text.createImpl(globalObject, [], {\n      data,\n      ownerDocument\n    }));\n  } : // When parsing a whole document, we must ignore those text nodes that are\n  // produced outside the root element. Saxes produces events for them,\n  // but DOM trees do not record text outside the root element.\n  data => {\n    if (openStack.length > 1) {\n      const ownerDocument = getOwnerDocument();\n      appendChild(Text.createImpl(globalObject, [], {\n        data,\n        ownerDocument\n      }));\n    }\n  });\n  parser.on(\"cdata\", data => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(CDATASection.createImpl(globalObject, [], {\n      data,\n      ownerDocument\n    }));\n  });\n  parser.on(\"opentag\", tag => {\n    const {\n      local: tagLocal,\n      attributes: tagAttributes\n    } = tag;\n    const ownerDocument = getOwnerDocument();\n    const tagNamespace = tag.uri === \"\" ? null : tag.uri;\n    const tagPrefix = tag.prefix === \"\" ? null : tag.prefix;\n    const isValue = tagAttributes.is === undefined ? null : tagAttributes.is.value;\n    const elem = createElement(ownerDocument, tagLocal, tagNamespace, tagPrefix, isValue, true); // We mark a script element as \"parser-inserted\", which prevents it from\n    // being immediately executed.\n\n    if (tagLocal === \"script\" && tagNamespace === HTML_NS) {\n      elem._parserInserted = true;\n    }\n\n    for (const key of Object.keys(tagAttributes)) {\n      const {\n        prefix,\n        local,\n        uri,\n        value\n      } = tagAttributes[key];\n      attributes.setAttributeValue(elem, local, value, prefix === \"\" ? null : prefix, uri === \"\" ? null : uri);\n    }\n\n    appendChild(elem);\n    openStack.push(elem);\n  });\n  parser.on(\"closetag\", () => {\n    const elem = openStack.pop(); // Once a script is populated, we can execute it.\n\n    if (elem.localName === \"script\" && elem.namespaceURI === HTML_NS) {\n      elem._eval();\n    }\n  });\n  parser.on(\"comment\", data => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(Comment.createImpl(globalObject, [], {\n      data,\n      ownerDocument\n    }));\n  });\n  parser.on(\"processinginstruction\", _ref => {\n    let {\n      target,\n      body\n    } = _ref;\n    const ownerDocument = getOwnerDocument();\n    appendChild(ProcessingInstruction.createImpl(globalObject, [], {\n      target,\n      data: body,\n      ownerDocument\n    }));\n  });\n  parser.on(\"doctype\", dt => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(parseDocType(globalObject, ownerDocument, `<!doctype ${dt}>`));\n    const entityMatcher = /<!ENTITY ([^ ]+) \"([^\"]+)\">/g;\n    let result;\n\n    while (result = entityMatcher.exec(dt)) {\n      const [, name, value] = result;\n\n      if (!(name in parser.ENTITIES)) {\n        parser.ENTITIES[name] = value;\n      }\n    }\n  });\n  parser.on(\"error\", err => {\n    throw DOMException.create(globalObject, [err.message, \"SyntaxError\"]);\n  });\n  return parser;\n}\n\nfunction parseFragment(markup, contextElement) {\n  const {\n    _globalObject,\n    _ownerDocument\n  } = contextElement;\n  const fragment = DocumentFragment.createImpl(_globalObject, [], {\n    ownerDocument: _ownerDocument\n  }); // Only parseFragment needs resolvePrefix per the saxes documentation:\n  // https://github.com/lddubeau/saxes#parsing-xml-fragments\n\n  const parser = createParser(fragment, _globalObject, {\n    fragment: true,\n\n    resolvePrefix(prefix) {\n      // saxes wants undefined as the return value if the prefix is not defined, not null.\n      return contextElement.lookupNamespaceURI(prefix) || undefined;\n    }\n\n  });\n  parser.write(markup).close();\n  return fragment;\n}\n\nfunction parseIntoDocument(markup, ownerDocument) {\n  const {\n    _globalObject\n  } = ownerDocument;\n  const parser = createParser(ownerDocument, _globalObject, {\n    fileName: ownerDocument.location && ownerDocument.location.href\n  });\n  parser.write(markup).close();\n  return ownerDocument;\n}\n\nmodule.exports = {\n  parseFragment,\n  parseIntoDocument\n};","map":{"version":3,"names":["SaxesParser","require","DOMException","createElement","DocumentFragment","DocumentType","CDATASection","Comment","ProcessingInstruction","Text","attributes","HTML_NS","HTML5_DOCTYPE","PUBLIC_DOCTYPE","SYSTEM_DOCTYPE","CUSTOM_NAME_DOCTYPE","parseDocType","globalObject","ownerDocument","html","test","createDocumentType","publicPieces","exec","systemPieces","namePiece","name","publicId","systemId","createImpl","isHTMLTemplateElement","element","tagName","namespaceURI","createParser","rootNode","saxesOptions","parser","xmlns","defaultXMLVersion","forceXMLVersion","openStack","getOwnerDocument","currentElement","length","_templateContents","_ownerDocument","appendChild","child","parentElement","_insert","on","fragment","data","tag","local","tagLocal","tagAttributes","tagNamespace","uri","tagPrefix","prefix","isValue","is","undefined","value","elem","_parserInserted","key","Object","keys","setAttributeValue","push","pop","localName","_eval","target","body","dt","entityMatcher","result","ENTITIES","err","create","message","parseFragment","markup","contextElement","_globalObject","resolvePrefix","lookupNamespaceURI","write","close","parseIntoDocument","fileName","location","href","module","exports"],"sources":["C:/Users/17033/balmco/node_modules/jsdom/lib/jsdom/browser/parser/xml.js"],"sourcesContent":["\"use strict\";\n\nconst { SaxesParser } = require(\"saxes\");\nconst DOMException = require(\"domexception/webidl2js-wrapper\");\n\nconst { createElement } = require(\"../../living/helpers/create-element\");\n\nconst DocumentFragment = require(\"../../living/generated/DocumentFragment\");\nconst DocumentType = require(\"../../living/generated/DocumentType\");\nconst CDATASection = require(\"../../living/generated/CDATASection\");\nconst Comment = require(\"../../living/generated/Comment\");\nconst ProcessingInstruction = require(\"../../living/generated/ProcessingInstruction\");\nconst Text = require(\"../../living/generated/Text\");\n\nconst attributes = require(\"../../living/attributes\");\nconst { HTML_NS } = require(\"../../living/helpers/namespaces\");\n\nconst HTML5_DOCTYPE = /<!doctype html>/i;\nconst PUBLIC_DOCTYPE = /<!doctype\\s+([^\\s]+)\\s+public\\s+\"([^\"]+)\"\\s+\"([^\"]+)\"/i;\nconst SYSTEM_DOCTYPE = /<!doctype\\s+([^\\s]+)\\s+system\\s+\"([^\"]+)\"/i;\nconst CUSTOM_NAME_DOCTYPE = /<!doctype\\s+([^\\s>]+)/i;\n\nfunction parseDocType(globalObject, ownerDocument, html) {\n  if (HTML5_DOCTYPE.test(html)) {\n    return createDocumentType(globalObject, ownerDocument, \"html\", \"\", \"\");\n  }\n\n  const publicPieces = PUBLIC_DOCTYPE.exec(html);\n  if (publicPieces) {\n    return createDocumentType(globalObject, ownerDocument, publicPieces[1], publicPieces[2], publicPieces[3]);\n  }\n\n  const systemPieces = SYSTEM_DOCTYPE.exec(html);\n  if (systemPieces) {\n    return createDocumentType(globalObject, ownerDocument, systemPieces[1], \"\", systemPieces[2]);\n  }\n\n  const namePiece = CUSTOM_NAME_DOCTYPE.exec(html)[1] || \"html\";\n  return createDocumentType(globalObject, ownerDocument, namePiece, \"\", \"\");\n}\n\nfunction createDocumentType(globalObject, ownerDocument, name, publicId, systemId) {\n  return DocumentType.createImpl(globalObject, [], { ownerDocument, name, publicId, systemId });\n}\n\nfunction isHTMLTemplateElement(element) {\n  return element.tagName === \"template\" && element.namespaceURI === HTML_NS;\n}\n\n\nfunction createParser(rootNode, globalObject, saxesOptions) {\n  const parser = new SaxesParser({\n    ...saxesOptions,\n    // Browsers always have namespace support.\n    xmlns: true,\n    // We force the parser to treat all documents (even documents declaring themselves to be XML 1.1 documents) as XML\n    // 1.0 documents. See https://github.com/jsdom/jsdom/issues/2677 for a discussion of the stakes.\n    defaultXMLVersion: \"1.0\",\n    forceXMLVersion: true\n  });\n  const openStack = [rootNode];\n\n  function getOwnerDocument() {\n    const currentElement = openStack[openStack.length - 1];\n\n    return isHTMLTemplateElement(currentElement) ?\n      currentElement._templateContents._ownerDocument :\n      currentElement._ownerDocument;\n  }\n\n  function appendChild(child) {\n    const parentElement = openStack[openStack.length - 1];\n\n    if (isHTMLTemplateElement(parentElement)) {\n      parentElement._templateContents._insert(child, null);\n    } else {\n      parentElement._insert(child, null);\n    }\n  }\n\n  parser.on(\"text\", saxesOptions.fragment ?\n    // In a fragment, all text events produced by saxes must result in a text\n    // node.\n    data => {\n      const ownerDocument = getOwnerDocument();\n      appendChild(Text.createImpl(globalObject, [], { data, ownerDocument }));\n    } :\n    // When parsing a whole document, we must ignore those text nodes that are\n    // produced outside the root element. Saxes produces events for them,\n    // but DOM trees do not record text outside the root element.\n    data => {\n      if (openStack.length > 1) {\n        const ownerDocument = getOwnerDocument();\n        appendChild(Text.createImpl(globalObject, [], { data, ownerDocument }));\n      }\n    });\n\n  parser.on(\"cdata\", data => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(CDATASection.createImpl(globalObject, [], { data, ownerDocument }));\n  });\n\n  parser.on(\"opentag\", tag => {\n    const { local: tagLocal, attributes: tagAttributes } = tag;\n\n    const ownerDocument = getOwnerDocument();\n    const tagNamespace = tag.uri === \"\" ? null : tag.uri;\n    const tagPrefix = tag.prefix === \"\" ? null : tag.prefix;\n    const isValue = tagAttributes.is === undefined ? null : tagAttributes.is.value;\n\n    const elem = createElement(ownerDocument, tagLocal, tagNamespace, tagPrefix, isValue, true);\n\n    // We mark a script element as \"parser-inserted\", which prevents it from\n    // being immediately executed.\n    if (tagLocal === \"script\" && tagNamespace === HTML_NS) {\n      elem._parserInserted = true;\n    }\n\n    for (const key of Object.keys(tagAttributes)) {\n      const { prefix, local, uri, value } = tagAttributes[key];\n      attributes.setAttributeValue(elem, local, value, prefix === \"\" ? null : prefix, uri === \"\" ? null : uri);\n    }\n\n    appendChild(elem);\n    openStack.push(elem);\n  });\n\n  parser.on(\"closetag\", () => {\n    const elem = openStack.pop();\n    // Once a script is populated, we can execute it.\n    if (elem.localName === \"script\" && elem.namespaceURI === HTML_NS) {\n      elem._eval();\n    }\n  });\n\n  parser.on(\"comment\", data => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(Comment.createImpl(globalObject, [], { data, ownerDocument }));\n  });\n\n  parser.on(\"processinginstruction\", ({ target, body }) => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(ProcessingInstruction.createImpl(globalObject, [], { target, data: body, ownerDocument }));\n  });\n\n  parser.on(\"doctype\", dt => {\n    const ownerDocument = getOwnerDocument();\n    appendChild(parseDocType(globalObject, ownerDocument, `<!doctype ${dt}>`));\n\n    const entityMatcher = /<!ENTITY ([^ ]+) \"([^\"]+)\">/g;\n    let result;\n    while ((result = entityMatcher.exec(dt))) {\n      const [, name, value] = result;\n      if (!(name in parser.ENTITIES)) {\n        parser.ENTITIES[name] = value;\n      }\n    }\n  });\n\n  parser.on(\"error\", err => {\n    throw DOMException.create(globalObject, [err.message, \"SyntaxError\"]);\n  });\n\n  return parser;\n}\n\nfunction parseFragment(markup, contextElement) {\n  const { _globalObject, _ownerDocument } = contextElement;\n\n  const fragment = DocumentFragment.createImpl(_globalObject, [], { ownerDocument: _ownerDocument });\n\n  // Only parseFragment needs resolvePrefix per the saxes documentation:\n  // https://github.com/lddubeau/saxes#parsing-xml-fragments\n  const parser = createParser(fragment, _globalObject, {\n    fragment: true,\n    resolvePrefix(prefix) {\n      // saxes wants undefined as the return value if the prefix is not defined, not null.\n      return contextElement.lookupNamespaceURI(prefix) || undefined;\n    }\n  });\n\n  parser.write(markup).close();\n\n  return fragment;\n}\n\nfunction parseIntoDocument(markup, ownerDocument) {\n  const { _globalObject } = ownerDocument;\n\n  const parser = createParser(ownerDocument, _globalObject, {\n    fileName: ownerDocument.location && ownerDocument.location.href\n  });\n\n  parser.write(markup).close();\n\n  return ownerDocument;\n}\n\nmodule.exports = {\n  parseFragment,\n  parseIntoDocument\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}